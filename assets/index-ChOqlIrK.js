var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var ee=Array.isArray;function S(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function te(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function ne(e,t){return te(e.type,t,e.props)}function re(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function ie(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var ae=/\/+/g;function oe(e,t){return typeof e==`object`&&e&&e.key!=null?ie(``+e.key):t.toString(36)}function se(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(S,S):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function ce(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,ce(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+oe(e,0):a,ee(o)?(i=``,c!=null&&(i=c.replace(ae,`$&/`)+`/`),ce(o,r,i,``,function(e){return e})):o!=null&&(re(o)&&(o=ne(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(ae,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(ee(e))for(var u=0;u<e.length;u++)a=e[u],s=l+oe(a,u),c+=ce(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+oe(a,u++),c+=ce(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return ce(se(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function le(e,t,n){if(e==null)return e;var r=[],i=0;return ce(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function ue(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var T=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},E={map:le,forEach:function(e,t,n){le(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return le(e,function(){t++}),t},toArray:function(e){return le(e,function(e){return e})||[]},only:function(e){if(!re(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=E,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!w.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return te(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)w.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return te(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=re,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:ue}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),i=C.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(S,T)}catch(e){T(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),C.T=t}},e.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},e.use=function(e){return C.H.use(e)},e.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},e.useCallback=function(e,t){return C.H.useCallback(e,t)},e.useContext=function(e){return C.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return C.H.useEffect(e,t)},e.useEffectEvent=function(e){return C.H.useEffectEvent(e)},e.useId=function(){return C.H.useId()},e.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return C.H.useMemo(e,t)},e.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},e.useRef=function(e){return C.H.useRef(e)},e.useState=function(e){return C.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return C.H.useTransition()},e.version=`19.2.3`})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,ee||(ee=!0,re());else{var t=n(l);t!==null&&oe(x,t.startTime-e)}}var ee=!1,S=-1,C=5,w=-1;function te(){return g?!0:!(e.unstable_now()-w<C)}function ne(){if(g=!1,ee){var t=e.unstable_now();w=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(S),S=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&te());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&oe(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?re():ee=!1}}}var re;if(typeof y==`function`)re=function(){y(ne)};else if(typeof MessageChannel<`u`){var ie=new MessageChannel,ae=ie.port2;ie.port1.onmessage=ne,re=function(){ae.postMessage(null)}}else re=function(){_(ne,0)};function oe(t,n){S=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):C=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(S),S=-1):h=!0,oe(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,ee||(ee=!0,re()))),r},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.3`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),ee=Symbol.for(`react.consumer`),S=Symbol.for(`react.context`),C=Symbol.for(`react.forward_ref`),w=Symbol.for(`react.suspense`),te=Symbol.for(`react.suspense_list`),ne=Symbol.for(`react.memo`),re=Symbol.for(`react.lazy`),ie=Symbol.for(`react.activity`),ae=Symbol.for(`react.memo_cache_sentinel`),oe=Symbol.iterator;function se(e){return typeof e!=`object`||!e?null:(e=oe&&e[oe]||e[`@@iterator`],typeof e==`function`?e:null)}var ce=Symbol.for(`react.client.reference`);function le(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===ce?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case w:return`Suspense`;case te:return`SuspenseList`;case ie:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case S:return e.displayName||`Context`;case ee:return(e._context.displayName||`Context`)+`.Consumer`;case C:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case ne:return t=e.displayName||null,t===null?le(e.type)||`Memo`:t;case re:t=e._payload,e=e._init;try{return le(e(t))}catch{}}return null}var ue=Array.isArray,T=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},fe=[],pe=-1;function me(e){return{current:e}}function D(e){0>pe||(e.current=fe[pe],fe[pe]=null,pe--)}function O(e,t){pe++,fe[pe]=e.current,e.current=t}var he=me(null),ge=me(null),_e=me(null),ve=me(null);function ye(e,t){switch(O(_e,t),O(ge,e),O(he,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ud(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ud(t),e=Wd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}D(he),O(he,e)}function be(){D(he),D(ge),D(_e)}function xe(e){e.memoizedState!==null&&O(ve,e);var t=he.current,n=Wd(t,e.type);t!==n&&(O(ge,e),O(he,n))}function Se(e){ge.current===e&&(D(he),D(ge)),ve.current===e&&(D(ve),Qf._currentValue=de)}var Ce,we;function Te(e){if(Ce===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ce=t&&t[1]||``,we=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+Ce+e+we}var Ee=!1;function De(e,t){if(!e||Ee)return``;Ee=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{Ee=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?Te(n):``}function Oe(e,t){switch(e.tag){case 26:case 27:case 5:return Te(e.type);case 16:return Te(`Lazy`);case 13:return e.child!==t&&t!==null?Te(`Suspense Fallback`):Te(`Suspense`);case 19:return Te(`SuspenseList`);case 0:case 15:return De(e.type,!1);case 11:return De(e.type.render,!1);case 1:return De(e.type,!0);case 31:return Te(`Activity`);default:return``}}function ke(e){try{var t=``,n=null;do t+=Oe(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var Ae=Object.prototype.hasOwnProperty,je=t.unstable_scheduleCallback,Me=t.unstable_cancelCallback,Ne=t.unstable_shouldYield,Pe=t.unstable_requestPaint,k=t.unstable_now,Fe=t.unstable_getCurrentPriorityLevel,Ie=t.unstable_ImmediatePriority,Le=t.unstable_UserBlockingPriority,Re=t.unstable_NormalPriority,ze=t.unstable_LowPriority,Be=t.unstable_IdlePriority,Ve=t.log,He=t.unstable_setDisableYieldValue,Ue=null,We=null;function Ge(e){if(typeof Ve==`function`&&He(e),We&&typeof We.setStrictMode==`function`)try{We.setStrictMode(Ue,e)}catch{}}var A=Math.clz32?Math.clz32:Je,Ke=Math.log,qe=Math.LN2;function Je(e){return e>>>=0,e===0?32:31-(Ke(e)/qe|0)|0}var Ye=256,Xe=262144,Ze=4194304;function Qe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $e(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Qe(n))):i=Qe(o):i=Qe(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Qe(n))):i=Qe(o)):i=Qe(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function et(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function tt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nt(){var e=Ze;return Ze<<=1,!(Ze&62914560)&&(Ze=4194304),e}function rt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function it(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function j(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-A(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&at(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function at(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-A(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function ot(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-A(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function st(e,t){var n=t&-t;return n=n&42?1:ct(n),(n&(e.suspendedLanes|t))===0?n:0}function ct(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function lt(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function ut(){var e=E.p;return e===0?(e=window.event,e===void 0?32:mp(e.type)):e}function dt(e,t){var n=E.p;try{return E.p=e,t()}finally{E.p=n}}var ft=Math.random().toString(36).slice(2),pt=`__reactFiber$`+ft,mt=`__reactProps$`+ft,M=`__reactContainer$`+ft,ht=`__reactEvents$`+ft,gt=`__reactListeners$`+ft,_t=`__reactHandles$`+ft,vt=`__reactResources$`+ft,yt=`__reactMarker$`+ft;function bt(e){delete e[pt],delete e[mt],delete e[ht],delete e[gt],delete e[_t]}function xt(e){var t=e[pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[M]||n[pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=df(e);e!==null;){if(n=e[pt])return n;e=df(e)}return t}e=n,n=e.parentNode}return null}function St(e){if(e=e[pt]||e[M]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ct(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function wt(e){var t=e[vt];return t||=e[vt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function Tt(e){e[yt]=!0}var Et=new Set,Dt={};function Ot(e,t){kt(e,t),kt(e+`Capture`,t)}function kt(e,t){for(Dt[e]=t,e=0;e<t.length;e++)Et.add(t[e])}var At=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),jt={},Mt={};function Nt(e){return Ae.call(Mt,e)?!0:Ae.call(jt,e)?!1:At.test(e)?Mt[e]=!0:(jt[e]=!0,!1)}function Pt(e,t,n){if(Nt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Ft(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function It(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function N(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Lt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Rt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zt(e){if(!e._valueTracker){var t=Lt(e)?`checked`:`value`;e._valueTracker=Rt(e,t,``+e[t])}}function Bt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Lt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Vt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Ht=/[\n"\\]/g;function Ut(e){return e.replace(Ht,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Wt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+N(t)):e.value!==``+N(t)&&(e.value=``+N(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Kt(e,o,N(n)):Kt(e,o,N(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+N(s):e.removeAttribute(`name`)}function Gt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){zt(e);return}n=n==null?``:``+N(n),t=t==null?n:``+N(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),zt(e)}function Kt(e,t,n){t===`number`&&Vt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function qt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+N(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Jt(e,t,n){if(t!=null&&(t=``+N(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+N(n)}function Yt(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(ue(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=N(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),zt(e)}function Xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Qt(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Zt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function $t(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Qt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Qt(e,o,t[o])}function en(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var tn=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),nn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rn(e){return nn.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function an(){}var on=null;function sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cn=null,ln=null;function un(e){var t=St(e);if(t&&(e=t.stateNode)){var n=e[mt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Wt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Ut(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[mt]||null;if(!a)throw Error(i(90));Wt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Bt(r)}break a;case`textarea`:Jt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&qt(e,!!n.multiple,t,!1)}}}var dn=!1;function fn(e,t,n){if(dn)return e(t,n);dn=!0;try{return e(t)}finally{if(dn=!1,(cn!==null||ln!==null)&&(Su(),cn&&(t=cn,e=ln,ln=cn=null,un(t),e)))for(t=0;t<e.length;t++)un(e[t])}}function pn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[mt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var mn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),hn=!1;if(mn)try{var gn={};Object.defineProperty(gn,`passive`,{get:function(){hn=!0}}),window.addEventListener(`test`,gn,gn),window.removeEventListener(`test`,gn,gn)}catch{hn=!1}var _n=null,vn=null,yn=null;function bn(){if(yn)return yn;var e,t=vn,n=t.length,r,i=`value`in _n?_n.value:_n.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return yn=i.slice(e,1<r?1-r:void 0)}function xn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sn(){return!0}function Cn(){return!1}function wn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?Sn:Cn,this.isPropagationStopped=Cn,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=Sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=Sn)},persist:function(){},isPersistent:Sn}),t}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},En=wn(Tn),Dn=h({},Tn,{view:0,detail:0}),On=wn(Dn),kn,An,jn,Mn=h({},Dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Un,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==jn&&(jn&&e.type===`mousemove`?(kn=e.screenX-jn.screenX,An=e.screenY-jn.screenY):An=kn=0,jn=e),kn)},movementY:function(e){return`movementY`in e?e.movementY:An}}),Nn=wn(Mn),Pn=wn(h({},Mn,{dataTransfer:0})),Fn=wn(h({},Dn,{relatedTarget:0})),In=wn(h({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0})),Ln=wn(h({},Tn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),Rn=wn(h({},Tn,{data:0})),zn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Bn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Vn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vn[e])?!!t[e]:!1}function Un(){return Hn}var Wn=wn(h({},Dn,{key:function(e){if(e.key){var t=zn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=xn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Bn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Un,charCode:function(e){return e.type===`keypress`?xn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?xn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Gn=wn(h({},Mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Kn=wn(h({},Dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Un})),qn=wn(h({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Jn=wn(h({},Mn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Yn=wn(h({},Tn,{newState:0,oldState:0})),Xn=[9,13,27,32],Zn=mn&&`CompositionEvent`in window,Qn=null;mn&&`documentMode`in document&&(Qn=document.documentMode);var $n=mn&&`TextEvent`in window&&!Qn,er=mn&&(!Zn||Qn&&8<Qn&&11>=Qn),tr=` `,nr=!1;function rr(e,t){switch(e){case`keyup`:return Xn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function ir(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var P=!1;function ar(e,t){switch(e){case`compositionend`:return ir(t);case`keypress`:return t.which===32?(nr=!0,tr):null;case`textInput`:return e=t.data,e===tr&&nr?null:e;default:return null}}function or(e,t){if(P)return e===`compositionend`||!Zn&&rr(e,t)?(e=bn(),yn=vn=_n=null,P=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return er&&t.locale!==`ko`?null:t.data;default:return null}}var sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!sr[e.type]:t===`textarea`}function lr(e,t,n,r){cn?ln?ln.push(r):ln=[r]:cn=r,t=Od(t,`onChange`),0<t.length&&(n=new En(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var ur=null,dr=null;function fr(e){xd(e,0)}function pr(e){if(Bt(Ct(e)))return e}function mr(e,t){if(e===`change`)return t}var hr=!1;if(mn){var gr;if(mn){var _r=`oninput`in document;if(!_r){var vr=document.createElement(`div`);vr.setAttribute(`oninput`,`return;`),_r=typeof vr.oninput==`function`}gr=_r}else gr=!1;hr=gr&&(!document.documentMode||9<document.documentMode)}function yr(){ur&&(ur.detachEvent(`onpropertychange`,br),dr=ur=null)}function br(e){if(e.propertyName===`value`&&pr(dr)){var t=[];lr(t,dr,e,sn(e)),fn(fr,t)}}function xr(e,t,n){e===`focusin`?(yr(),ur=t,dr=n,ur.attachEvent(`onpropertychange`,br)):e===`focusout`&&yr()}function Sr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return pr(dr)}function Cr(e,t){if(e===`click`)return pr(t)}function wr(e,t){if(e===`input`||e===`change`)return pr(t)}function Tr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var Er=typeof Object.is==`function`?Object.is:Tr;function Dr(e,t){if(Er(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ae.call(t,i)||!Er(e[i],t[i]))return!1}return!0}function Or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kr(e,t){var n=Or(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Or(n)}}function Ar(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ar(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vt(e.document)}return t}function Mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Nr=mn&&`documentMode`in document&&11>=document.documentMode,Pr=null,Fr=null,Ir=null,Lr=!1;function Rr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lr||Pr==null||Pr!==Vt(r)||(r=Pr,`selectionStart`in r&&Mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ir&&Dr(Ir,r)||(Ir=r,r=Od(Fr,`onSelect`),0<r.length&&(t=new En(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Pr)))}function zr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Br={animationend:zr(`Animation`,`AnimationEnd`),animationiteration:zr(`Animation`,`AnimationIteration`),animationstart:zr(`Animation`,`AnimationStart`),transitionrun:zr(`Transition`,`TransitionRun`),transitionstart:zr(`Transition`,`TransitionStart`),transitioncancel:zr(`Transition`,`TransitionCancel`),transitionend:zr(`Transition`,`TransitionEnd`)},Vr={},Hr={};mn&&(Hr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),`TransitionEvent`in window||delete Br.transitionend.transition);function Ur(e){if(Vr[e])return Vr[e];if(!Br[e])return e;var t=Br[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hr)return Vr[e]=t[n];return e}var Wr=Ur(`animationend`),Gr=Ur(`animationiteration`),Kr=Ur(`animationstart`),qr=Ur(`transitionrun`),Jr=Ur(`transitionstart`),Yr=Ur(`transitioncancel`),Xr=Ur(`transitionend`),Zr=new Map,Qr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Qr.push(`scrollEnd`);function $r(e,t){Zr.set(e,t),Ot(t,[e])}var ei=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},ti=[],ni=0,ri=0;function ii(){for(var e=ni,t=ri=ni=0;t<e;){var n=ti[t];ti[t++]=null;var r=ti[t];ti[t++]=null;var i=ti[t];ti[t++]=null;var a=ti[t];if(ti[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&ci(n,i,a)}}function ai(e,t,n,r){ti[ni++]=e,ti[ni++]=t,ti[ni++]=n,ti[ni++]=r,ri|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function oi(e,t,n,r){return ai(e,t,n,r),li(e)}function si(e,t){return ai(e,null,null,t),li(e)}function ci(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-A(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function li(e){if(50<pu)throw pu=0,mu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ui={};function di(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(e,t,n,r){return new di(e,t,n,r)}function pi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mi(e,t){var n=e.alternate;return n===null?(n=fi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function hi(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function gi(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)pi(e)&&(s=1);else if(typeof e==`string`)s=Uf(e,n,he.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case ie:return e=fi(31,n,t,a),e.elementType=ie,e.lanes=o,e;case y:return _i(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=fi(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case w:return e=fi(13,n,t,a),e.elementType=w,e.lanes=o,e;case te:return e=fi(19,n,t,a),e.elementType=te,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case S:s=10;break a;case ee:s=9;break a;case C:s=11;break a;case ne:s=14;break a;case re:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=fi(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function _i(e,t,n,r){return e=fi(7,e,r,t),e.lanes=n,e}function vi(e,t,n){return e=fi(6,e,null,t),e.lanes=n,e}function yi(e){var t=fi(18,null,null,0);return t.stateNode=e,t}function bi(e,t,n){return t=fi(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xi=new WeakMap;function Si(e,t){if(typeof e==`object`&&e){var n=xi.get(e);return n===void 0?(t={value:e,source:t,stack:ke(t)},xi.set(e,t),t):n}return{value:e,source:t,stack:ke(t)}}var Ci=[],wi=0,Ti=null,Ei=0,Di=[],Oi=0,ki=null,Ai=1,ji=``;function Mi(e,t){Ci[wi++]=Ei,Ci[wi++]=Ti,Ti=e,Ei=t}function Ni(e,t,n){Di[Oi++]=Ai,Di[Oi++]=ji,Di[Oi++]=ki,ki=e;var r=Ai;e=ji;var i=32-A(r)-1;r&=~(1<<i),n+=1;var a=32-A(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ai=1<<32-A(t)+i|n<<i|r,ji=a+e}else Ai=1<<a|n<<i|r,ji=e}function Pi(e){e.return!==null&&(Mi(e,1),Ni(e,1,0))}function Fi(e){for(;e===Ti;)Ti=Ci[--wi],Ci[wi]=null,Ei=Ci[--wi],Ci[wi]=null;for(;e===ki;)ki=Di[--Oi],Di[Oi]=null,ji=Di[--Oi],Di[Oi]=null,Ai=Di[--Oi],Di[Oi]=null}function Ii(e,t){Di[Oi++]=Ai,Di[Oi++]=ji,Di[Oi++]=ki,Ai=t.id,ji=t.overflow,ki=e}var Li=null,Ri=null,F=!1,zi=null,Bi=!1,Vi=Error(i(519));function Hi(e){throw Ji(Si(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Vi}function Ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[pt]=e,t[mt]=r,n){case`dialog`:X(`cancel`,t),X(`close`,t);break;case`iframe`:case`object`:case`embed`:X(`load`,t);break;case`video`:case`audio`:for(n=0;n<yd.length;n++)X(yd[n],t);break;case`source`:X(`error`,t);break;case`img`:case`image`:case`link`:X(`error`,t),X(`load`,t);break;case`details`:X(`toggle`,t);break;case`input`:X(`invalid`,t),Gt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:X(`invalid`,t);break;case`textarea`:X(`invalid`,t),Yt(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Pd(t.textContent,n)?(r.popover!=null&&(X(`beforetoggle`,t),X(`toggle`,t)),r.onScroll!=null&&X(`scroll`,t),r.onScrollEnd!=null&&X(`scrollend`,t),r.onClick!=null&&(t.onclick=an),t=!0):t=!1,t||Hi(e,!0)}function Wi(e){for(Li=e.return;Li;)switch(Li.tag){case 5:case 31:case 13:Bi=!1;return;case 27:case 3:Bi=!0;return;default:Li=Li.return}}function Gi(e){if(e!==Li)return!1;if(!F)return Wi(e),F=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Gd(e.type,e.memoizedProps)),n=!n),n&&Ri&&Hi(e),Wi(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ri=uf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ri=uf(e)}else t===27?(t=Ri,$d(e.type)?(e=lf,lf=null,Ri=e):Ri=t):Ri=Li?cf(e.stateNode.nextSibling):null;return!0}function Ki(){Ri=Li=null,F=!1}function qi(){var e=zi;return e!==null&&($l===null?$l=e:$l.push.apply($l,e),zi=null),e}function Ji(e){zi===null?zi=[e]:zi.push(e)}var Yi=me(null),Xi=null,Zi=null;function Qi(e,t,n){O(Yi,t._currentValue),t._currentValue=n}function $i(e){e._currentValue=Yi.current,D(Yi)}function ea(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function ta(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ea(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ea(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function na(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;Er(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===ve.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[Qf]:e.push(Qf))}a=a.return}e!==null&&ta(t,e,n,r),t.flags|=262144}function ra(e){for(e=e.firstContext;e!==null;){if(!Er(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){Xi=e,Zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function aa(e){return sa(Xi,e)}function oa(e,t){return Xi===null&&ia(e),sa(e,t)}function sa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Zi===null){if(e===null)throw Error(i(308));Zi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Zi=Zi.next=t;return n}var ca=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},la=t.unstable_scheduleCallback,ua=t.unstable_NormalPriority,da={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fa(){return{controller:new ca,data:new Map,refCount:0}}function pa(e){e.refCount--,e.refCount===0&&la(ua,function(){e.controller.abort()})}var ma=null,ha=0,ga=0,_a=null;function va(e,t){if(ma===null){var n=ma=[];ha=0,ga=pd(),_a={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ha++,t.then(ya,ya),t}function ya(){if(--ha===0&&ma!==null){_a!==null&&(_a.status=`fulfilled`);var e=ma;ma=null,ga=0,_a=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ba(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var xa=T.S;T.S=function(e,t){nu=k(),typeof t==`object`&&t&&typeof t.then==`function`&&va(e,t),xa!==null&&xa(e,t)};var Sa=me(null);function Ca(){var e=Sa.current;return e===null?Vl.pooledCache:e}function wa(e,t){t===null?O(Sa,Sa.current):O(Sa,t.pool)}function Ta(){var e=Ca();return e===null?null:{parent:da._currentValue,pool:e}}var Ea=Error(i(460)),Da=Error(i(474)),Oa=Error(i(542)),ka={then:function(){}};function Aa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function ja(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(an,an),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Fa(e),e;default:if(typeof t.status==`string`)t.then(an,an);else{if(e=Vl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Fa(e),e}throw Na=t,Ea}}function Ma(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Na=e,Ea):e}}var Na=null;function Pa(){if(Na===null)throw Error(i(459));var e=Na;return Na=null,e}function Fa(e){if(e===Ea||e===Oa)throw Error(i(483))}var Ia=null,La=0;function Ra(e){var t=La;return La+=1,Ia===null&&(Ia=[]),ja(Ia,e,t)}function za(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Ba(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Va(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=mi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=vi(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===re&&Ma(i)===t.type)?(t=a(t,n.props),za(t,n),t.return=e,t):(t=gi(n.type,n.key,n.props,null,e.mode,r),za(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=bi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=_i(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=vi(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=gi(t.type,t.key,t.props,null,e.mode,n),za(n,t),n.return=e,n;case v:return t=bi(t,e.mode,n),t.return=e,t;case re:return t=Ma(t),f(e,t,n)}if(ue(t)||se(t))return t=_i(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Ra(t),n);if(t.$$typeof===S)return f(e,oa(e,t),n);Ba(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case re:return n=Ma(n),p(e,t,n,r)}if(ue(n)||se(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Ra(n),r);if(n.$$typeof===S)return p(e,t,oa(e,n),r);Ba(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case re:return r=Ma(r),m(e,t,n,r,i)}if(ue(r)||se(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Ra(r),i);if(r.$$typeof===S)return m(e,t,n,oa(t,r),i);Ba(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),F&&Mi(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return F&&Mi(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),F&&Mi(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),F&&Mi(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return F&&Mi(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),F&&Mi(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===re&&Ma(l)===r.type){n(e,r.sibling),c=a(r,o.props),za(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=_i(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=gi(o.type,o.key,o.props,null,e.mode,c),za(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=bi(o,e.mode,c),c.return=e,e=c}return s(e);case re:return o=Ma(o),b(e,r,o,c)}if(ue(o))return h(e,r,o,c);if(se(o)){if(l=se(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Ra(o),c);if(o.$$typeof===S)return b(e,r,oa(e,o),c);Ba(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=vi(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{La=0;var i=b(e,t,n,r);return Ia=null,i}catch(t){if(t===Ea||t===Oa)throw t;var a=fi(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Ha=Va(!0),Ua=Va(!1),Wa=!1;function Ga(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ka(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ja(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=li(e),ci(e,null,n),t}return ai(e,r,t,n),li(e)}function Ya(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ot(e,n)}}function Xa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Za=!1;function Qa(){if(Za){var e=_a;if(e!==null)throw e}}function $a(e,t,n,r){Za=!1;var i=e.updateQueue;Wa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(K&f)===f:(r&f)===f){f!==0&&f===ga&&(Za=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:Wa=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Jl|=o,e.lanes=o,e.memoizedState=d}}function eo(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function to(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)eo(n[e],t)}var no=me(null),ro=me(0);function io(e,t){e=Kl,O(ro,e),O(no,t),Kl=e|t.baseLanes}function ao(){O(ro,Kl),O(no,no.current)}function oo(){Kl=ro.current,D(no),D(ro)}var so=me(null),co=null;function lo(e){var t=e.alternate;O(ho,ho.current&1),O(so,e),co===null&&(t===null||no.current!==null||t.memoizedState!==null)&&(co=e)}function uo(e){O(ho,ho.current),O(so,e),co===null&&(co=e)}function fo(e){e.tag===22?(O(ho,ho.current),O(so,e),co===null&&(co=e)):po(e)}function po(){O(ho,ho.current),O(so,so.current)}function mo(e){D(so),co===e&&(co=null),D(ho)}var ho=me(0);function go(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||af(n)||of(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _o=0,I=null,vo=null,yo=null,bo=!1,xo=!1,So=!1,Co=0,wo=0,To=null,Eo=0;function Do(){throw Error(i(321))}function Oo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Er(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,a){return _o=a,I=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=e===null||e.memoizedState===null?zs:Bs,So=!1,a=n(r,i),So=!1,xo&&(a=jo(t,n,r,i)),Ao(e),a}function Ao(e){T.H=Rs;var t=vo!==null&&vo.next!==null;if(_o=0,yo=vo=I=null,bo=!1,wo=0,To=null,t)throw Error(i(300));e===null||rc||(e=e.dependencies,e!==null&&ra(e)&&(rc=!0))}function jo(e,t,n,r){I=e;var a=0;do{if(xo&&(To=null),wo=0,xo=!1,25<=a)throw Error(i(301));if(a+=1,yo=vo=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}T.H=Vs,o=t(n,r)}while(xo);return o}function Mo(){var e=T.H,t=e.useState()[0];return t=typeof t.then==`function`?Ro(t):t,e=e.useState()[0],(vo===null?null:vo.memoizedState)!==e&&(I.flags|=1024),t}function No(){var e=Co!==0;return Co=0,e}function Po(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fo(e){if(bo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bo=!1}_o=0,yo=vo=I=null,xo=!1,wo=Co=0,To=null}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yo===null?I.memoizedState=yo=e:yo=yo.next=e,yo}function Lo(){if(vo===null){var e=I.alternate;e=e===null?null:e.memoizedState}else e=vo.next;var t=yo===null?I.memoizedState:yo.next;if(t!==null)yo=t,vo=e;else{if(e===null)throw I.alternate===null?Error(i(467)):Error(i(310));vo=e,e={memoizedState:vo.memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},yo===null?I.memoizedState=yo=e:yo=yo.next=e}return yo}function L(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ro(e){var t=wo;return wo+=1,To===null&&(To=[]),e=ja(To,e,t),t=I,(yo===null?t.memoizedState:yo.next)===null&&(t=t.alternate,T.H=t===null||t.memoizedState===null?zs:Bs),e}function zo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Ro(e);if(e.$$typeof===S)return aa(e)}throw Error(i(438,String(e)))}function Bo(e){var t=null,n=I.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=I.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=L(),I.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ae;return t.index++,n}function R(e,t){return typeof t==`function`?t(e):t}function Vo(e){return Ho(Lo(),vo,e)}function Ho(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(_o&f)===f:(K&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ga&&(d=!0);else if((_o&p)===p){u=u.next,p===ga&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,I.lanes|=p,Jl|=p;f=u.action,So&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,I.lanes|=f,Jl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!Er(o,e.memoizedState)&&(rc=!0,d&&(n=_a,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Uo(e){var t=Lo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Er(o,t.memoizedState)||(rc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function z(e,t,n){var r=I,a=Lo(),o=F;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!Er((vo||a).memoizedState,n);if(s&&(a.memoizedState=n,rc=!0),a=a.queue,ds(Go.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||yo!==null&&yo.memoizedState.tag&1){if(r.flags|=2048,ss(9,{destroy:void 0},Wo.bind(null,r,a,n,t),null),Vl===null)throw Error(i(349));o||_o&127||B(r,t,n)}return n}function B(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=I.updateQueue,t===null?(t=L(),I.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wo(e,t,n,r){t.value=n,t.getSnapshot=r,Ko(t)&&qo(e)}function Go(e,t,n){return n(function(){Ko(t)&&qo(e)})}function Ko(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Er(e,n)}catch{return!0}}function qo(e){var t=si(e,2);t!==null&&_u(t,e,2)}function Jo(e){var t=Io();if(typeof e==`function`){var n=e;if(e=n(),So){Ge(!0);try{n()}finally{Ge(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R,lastRenderedState:e},t}function Yo(e,t,n,r){return e.baseState=n,Ho(e,vo,typeof r==`function`?r:R)}function Xo(e,t,n,r,a){if(Fs(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};T.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Zo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Zo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=T.T,o={};T.T=o;try{var s=n(i,r),c=T.S;c!==null&&c(o,s),Qo(e,t,s)}catch(n){V(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),T.T=a}}else try{a=n(i,r),Qo(e,t,a)}catch(n){V(e,t,n)}}function Qo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){$o(e,t,n)},function(n){return V(e,t,n)}):$o(e,t,n)}function $o(e,t,n){t.status=`fulfilled`,t.value=n,es(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Zo(e,n)))}function V(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,es(t),t=t.next;while(t!==r)}e.action=null}function es(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ts(e,t){return t}function ns(e,t){if(F){var n=Vl.formState;if(n!==null){a:{var r=I;if(F){if(Ri){b:{for(var i=Ri,a=Bi;i.nodeType!==8;){if(!a){i=null;break b}if(i=cf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Ri=cf(i.nextSibling),r=i.data===`F!`;break a}}Hi(r)}r=!1}r&&(t=n[0])}}return n=Io(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:t},n.queue=r,n=Ms.bind(null,I,r),r.dispatch=n,r=Jo(!1),a=Ps.bind(null,I,!1,r.queue),r=Io(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Xo.bind(null,I,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function rs(e){return is(Lo(),vo,e)}function is(e,t,n){if(t=Ho(e,t,ts)[0],e=Vo(R)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Ro(t)}catch(e){throw e===Ea?Oa:e}else r=t;t=Lo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(I.flags|=2048,ss(9,{destroy:void 0},as.bind(null,i,n),null)),[r,a,e]}function as(e,t){e.action=t}function os(e){var t=Lo(),n=vo;if(n!==null)return is(t,n,e);Lo(),t=t.memoizedState,n=Lo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ss(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=I.updateQueue,t===null&&(t=L(),I.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function cs(){return Lo().memoizedState}function ls(e,t,n,r){var i=Io();I.flags|=e,i.memoizedState=ss(1|t,{destroy:void 0},n,r===void 0?null:r)}function H(e,t,n,r){var i=Lo();r=r===void 0?null:r;var a=i.memoizedState.inst;vo!==null&&r!==null&&Oo(r,vo.memoizedState.deps)?i.memoizedState=ss(t,a,n,r):(I.flags|=e,i.memoizedState=ss(1|t,a,n,r))}function us(e,t){ls(8390656,8,e,t)}function ds(e,t){H(2048,8,e,t)}function fs(e){I.flags|=4;var t=I.updateQueue;if(t===null)t=L(),I.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ps(e){var t=Lo().memoizedState;return fs({ref:t,nextImpl:e}),function(){if(W&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function ms(e,t){return H(4,2,e,t)}function hs(e,t){return H(4,4,e,t)}function gs(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _s(e,t,n){n=n==null?null:n.concat([e]),H(4,4,gs.bind(null,t,e),n)}function vs(){}function ys(e,t){var n=Lo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Oo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bs(e,t){var n=Lo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Oo(t,r[1]))return r[0];if(r=e(),So){Ge(!0);try{e()}finally{Ge(!1)}}return n.memoizedState=[r,t],r}function xs(e,t,n){return n===void 0||_o&1073741824&&!(K&261930)?e.memoizedState=t:(e.memoizedState=n,e=gu(),I.lanes|=e,Jl|=e,n)}function Ss(e,t,n,r){return Er(n,t)?n:no.current===null?!(_o&42)||_o&1073741824&&!(K&261930)?(rc=!0,e.memoizedState=n):(e=gu(),I.lanes|=e,Jl|=e,t):(e=xs(e,n,r),Er(e,t)||(rc=!0),e)}function Cs(e,t,n,r,i){var a=E.p;E.p=a!==0&&8>a?a:8;var o=T.T,s={};T.T=s,Ps(e,!1,t,n);try{var c=i(),l=T.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Ns(e,t,ba(c,r),hu(e)):Ns(e,t,r,hu(e))}catch(n){Ns(e,t,{then:function(){},status:`rejected`,reason:n},hu())}finally{E.p=a,o!==null&&s.types!==null&&(o.types=s.types),T.T=o}}function ws(){}function U(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=Ts(e).queue;Cs(e,a,t,de,n===null?ws:function(){return Es(e),n(r)})}function Ts(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:R,lastRenderedState:de},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:R,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Es(e){var t=Ts(e);t.next===null&&(t=e.alternate.memoizedState),Ns(e,t.next.queue,{},hu())}function Ds(){return aa(Qf)}function Os(){return Lo().memoizedState}function ks(){return Lo().memoizedState}function As(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=hu();e=qa(n);var r=Ja(t,e,n);r!==null&&(_u(r,t,n),Ya(r,t,n)),t={cache:fa()},e.payload=t;return}t=t.return}}function js(e,t,n){var r=hu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fs(e)?Is(t,n):(n=oi(e,t,n,r),n!==null&&(_u(n,e,r),Ls(n,t,r)))}function Ms(e,t,n){Ns(e,t,n,hu())}function Ns(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fs(e))Is(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Er(s,o))return ai(e,t,i,0),Vl===null&&ii(),!1}catch{}if(n=oi(e,t,i,r),n!==null)return _u(n,e,r),Ls(n,t,r),!0}return!1}function Ps(e,t,n,r){if(r={lane:2,revertLane:pd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fs(e)){if(t)throw Error(i(479))}else t=oi(e,n,r,2),t!==null&&_u(t,e,2)}function Fs(e){var t=e.alternate;return e===I||t!==null&&t===I}function Is(e,t){xo=bo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ls(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ot(e,n)}}var Rs={readContext:aa,use:zo,useCallback:Do,useContext:Do,useEffect:Do,useImperativeHandle:Do,useLayoutEffect:Do,useInsertionEffect:Do,useMemo:Do,useReducer:Do,useRef:Do,useState:Do,useDebugValue:Do,useDeferredValue:Do,useTransition:Do,useSyncExternalStore:Do,useId:Do,useHostTransitionStatus:Do,useFormState:Do,useActionState:Do,useOptimistic:Do,useMemoCache:Do,useCacheRefresh:Do};Rs.useEffectEvent=Do;var zs={readContext:aa,use:zo,useCallback:function(e,t){return Io().memoizedState=[e,t===void 0?null:t],e},useContext:aa,useEffect:us,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),ls(4194308,4,gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ls(4194308,4,e,t)},useInsertionEffect:function(e,t){ls(4,2,e,t)},useMemo:function(e,t){var n=Io();t=t===void 0?null:t;var r=e();if(So){Ge(!0);try{e()}finally{Ge(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Io();if(n!==void 0){var i=n(t);if(So){Ge(!0);try{n(t)}finally{Ge(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=js.bind(null,I,e),[r.memoizedState,e]},useRef:function(e){var t=Io();return e={current:e},t.memoizedState=e},useState:function(e){e=Jo(e);var t=e.queue,n=Ms.bind(null,I,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:vs,useDeferredValue:function(e,t){return xs(Io(),e,t)},useTransition:function(){var e=Jo(!1);return e=Cs.bind(null,I,e.queue,!0,!1),Io().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=I,a=Io();if(F){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Vl===null)throw Error(i(349));K&127||B(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,us(Go.bind(null,r,o,e),[e]),r.flags|=2048,ss(9,{destroy:void 0},Wo.bind(null,r,o,n,t),null),n},useId:function(){var e=Io(),t=Vl.identifierPrefix;if(F){var n=ji,r=Ai;n=(r&~(1<<32-A(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=Co++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=Eo++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Ds,useFormState:ns,useActionState:ns,useOptimistic:function(e){var t=Io();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ps.bind(null,I,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bo,useCacheRefresh:function(){return Io().memoizedState=As.bind(null,I)},useEffectEvent:function(e){var t=Io(),n={impl:e};return t.memoizedState=n,function(){if(W&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Bs={readContext:aa,use:zo,useCallback:ys,useContext:aa,useEffect:ds,useImperativeHandle:_s,useInsertionEffect:ms,useLayoutEffect:hs,useMemo:bs,useReducer:Vo,useRef:cs,useState:function(){return Vo(R)},useDebugValue:vs,useDeferredValue:function(e,t){return Ss(Lo(),vo.memoizedState,e,t)},useTransition:function(){var e=Vo(R)[0],t=Lo().memoizedState;return[typeof e==`boolean`?e:Ro(e),t]},useSyncExternalStore:z,useId:Os,useHostTransitionStatus:Ds,useFormState:rs,useActionState:rs,useOptimistic:function(e,t){return Yo(Lo(),vo,e,t)},useMemoCache:Bo,useCacheRefresh:ks};Bs.useEffectEvent=ps;var Vs={readContext:aa,use:zo,useCallback:ys,useContext:aa,useEffect:ds,useImperativeHandle:_s,useInsertionEffect:ms,useLayoutEffect:hs,useMemo:bs,useReducer:Uo,useRef:cs,useState:function(){return Uo(R)},useDebugValue:vs,useDeferredValue:function(e,t){var n=Lo();return vo===null?xs(n,e,t):Ss(n,vo.memoizedState,e,t)},useTransition:function(){var e=Uo(R)[0],t=Lo().memoizedState;return[typeof e==`boolean`?e:Ro(e),t]},useSyncExternalStore:z,useId:Os,useHostTransitionStatus:Ds,useFormState:os,useActionState:os,useOptimistic:function(e,t){var n=Lo();return vo===null?(n.baseState=e,[e,n.queue.dispatch]):Yo(n,vo,e,t)},useMemoCache:Bo,useCacheRefresh:ks};Vs.useEffectEvent=ps;function Hs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Us={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=qa(r);i.payload=t,n!=null&&(i.callback=n),t=Ja(e,i,r),t!==null&&(_u(t,e,r),Ya(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=qa(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ja(e,i,r),t!==null&&(_u(t,e,r),Ya(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=qa(n);r.tag=2,t!=null&&(r.callback=t),t=Ja(e,r,n),t!==null&&(_u(t,e,n),Ya(t,e,n))}};function Ws(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Dr(n,r)||!Dr(i,a):!0}function Gs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Us.enqueueReplaceState(t,t.state,null)}function Ks(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function qs(e){ei(e)}function Js(e){console.error(e)}function Ys(e){ei(e)}function Xs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Zs(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Qs(e,t,n){return n=qa(n),n.tag=3,n.payload={element:null},n.callback=function(){Xs(e,t)},n}function $s(e){return e=qa(e),e.tag=3,e}function ec(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Zs(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){Zs(t,n,r),typeof i!=`function`&&(au===null?au=new Set([this]):au.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function tc(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&na(t,n,a,!0),n=so.current,n!==null){switch(n.tag){case 31:case 13:return co===null?ku():n.alternate===null&&ql===0&&(ql=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ka?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),qu(e,r,a)),!1;case 22:return n.flags|=65536,r===ka?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),qu(e,r,a)),!1}throw Error(i(435,n.tag))}return qu(e,r,a),ku(),!1}if(F)return t=so.current,t===null?(r!==Vi&&(t=Error(i(423),{cause:r}),Ji(Si(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=Si(r,n),a=Qs(e.stateNode,r,a),Xa(e,a),ql!==4&&(ql=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Vi&&(e=Error(i(422),{cause:r}),Ji(Si(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=Si(o,n),Ql===null?Ql=[o]:Ql.push(o),ql!==4&&(ql=2),t===null)return!0;r=Si(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Qs(n.stateNode,r,e),Xa(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(au===null||!au.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=$s(a),ec(a,e,n,r),Xa(n,a),!1}n=n.return}while(n!==null);return!1}var nc=Error(i(461)),rc=!1;function ic(e,t,n,r){t.child=e===null?Ua(t,null,n,r):Ha(t,e.child,n,r)}function ac(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return ia(t),r=ko(e,t,n,o,a,i),s=No(),e!==null&&!rc?(Po(e,t,i),kc(e,t,i)):(F&&s&&Pi(t),t.flags|=1,ic(e,t,r,i),t.child)}function oc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!pi(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,sc(e,t,a,r,i)):(e=gi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Ac(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Dr:n,n(o,r)&&e.ref===t.ref)return kc(e,t,i)}return t.flags|=1,e=mi(a,r),e.ref=t.ref,e.return=t,t.child=e}function sc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Dr(a,r)&&e.ref===t.ref)if(rc=!1,t.pendingProps=r=a,Ac(e,i))e.flags&131072&&(rc=!0);else return t.lanes=e.lanes,kc(e,t,i)}return hc(e,t,n,r,i)}function cc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return uc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wa(t,a===null?null:a.cachePool),a===null?ao():io(t,a),fo(t);else return r=t.lanes=536870912,uc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&wa(t,null),ao(),po(t)):(wa(t,a.cachePool),io(t,a),po(t),t.memoizedState=null);return ic(e,t,i,n),t.child}function lc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function uc(e,t,n,r,i){var a=Ca();return a=a===null?null:{parent:da._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&wa(t,null),ao(),fo(t),e!==null&&na(e,t,r,!0),t.childLanes=i,null}function dc(e,t){return t=wc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function fc(e,t,n){return Ha(t,e.child,null,n),e=dc(t,t.pendingProps),e.flags|=2,mo(t),t.memoizedState=null,e}function pc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(F){if(r.mode===`hidden`)return e=dc(t,r),t.lanes=536870912,lc(null,e);if(uo(t),(e=Ri)?(e=rf(e,Bi),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ki===null?null:{id:Ai,overflow:ji},retryLane:536870912,hydrationErrors:null},n=yi(e),n.return=t,t.child=n,Li=t,Ri=null)):e=null,e===null)throw Hi(t);return t.lanes=536870912,null}return dc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(uo(t),a)if(t.flags&256)t.flags&=-257,t=fc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(rc||na(e,t,n,!1),a=(n&e.childLanes)!==0,rc||a){if(r=Vl,r!==null&&(s=st(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,si(e,s),_u(r,e,s),nc;ku(),t=fc(e,t,n)}else e=o.treeContext,Ri=cf(s.nextSibling),Li=t,F=!0,zi=null,Bi=!1,e!==null&&Ii(t,e),t=dc(t,r),t.flags|=4096;return t}return e=mi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function mc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function hc(e,t,n,r,i){return ia(t),n=ko(e,t,n,r,void 0,i),r=No(),e!==null&&!rc?(Po(e,t,i),kc(e,t,i)):(F&&r&&Pi(t),t.flags|=1,ic(e,t,n,i),t.child)}function gc(e,t,n,r,i,a){return ia(t),t.updateQueue=null,n=jo(t,r,n,i),Ao(e),r=No(),e!==null&&!rc?(Po(e,t,a),kc(e,t,a)):(F&&r&&Pi(t),t.flags|=1,ic(e,t,n,a),t.child)}function _c(e,t,n,r,i){if(ia(t),t.stateNode===null){var a=ui,o=n.contextType;typeof o==`object`&&o&&(a=aa(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Us,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ga(t),o=n.contextType,a.context=typeof o==`object`&&o?aa(o):ui,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Hs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Us.enqueueReplaceState(a,a.state,null),$a(t,r,a,i),Qa(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Ks(n,s);a.props=c;var l=a.context,u=n.contextType;o=ui,typeof u==`object`&&u&&(o=aa(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Gs(t,a,r,o),Wa=!1;var f=t.memoizedState;a.state=f,$a(t,r,a,i),Qa(),l=t.memoizedState,s||f!==l||Wa?(typeof d==`function`&&(Hs(t,n,d,r),l=t.memoizedState),(c=Wa||Ws(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ka(e,t),o=t.memoizedProps,u=Ks(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=ui,typeof l==`object`&&l&&(c=aa(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Gs(t,a,r,c),Wa=!1,f=t.memoizedState,a.state=f,$a(t,r,a,i),Qa();var p=t.memoizedState;o!==d||f!==p||Wa||e!==null&&e.dependencies!==null&&ra(e.dependencies)?(typeof s==`function`&&(Hs(t,n,s,r),p=t.memoizedState),(u=Wa||Ws(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&ra(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,mc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Ha(t,e.child,null,i),t.child=Ha(t,null,n,i)):ic(e,t,n,i),t.memoizedState=a.state,e=t.child):e=kc(e,t,i),e}function vc(e,t,n,r){return Ki(),t.flags|=256,ic(e,t,n,r),t.child}var yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bc(e){return{baseLanes:e,cachePool:Ta()}}function xc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=J),e}function Sc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(ho.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(F){if(a?lo(t):po(t),(e=Ri)?(e=rf(e,Bi),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ki===null?null:{id:Ai,overflow:ji},retryLane:536870912,hydrationErrors:null},n=yi(e),n.return=t,t.child=n,Li=t,Ri=null)):e=null,e===null)throw Hi(t);return of(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(po(t),a=t.mode,c=wc({mode:`hidden`,children:c},a),r=_i(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=bc(n),r.childLanes=xc(e,s,n),t.memoizedState=yc,lc(null,r)):(lo(t),Cc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(lo(t),t.flags&=-257,t=Tc(e,t,n)):t.memoizedState===null?(po(t),c=r.fallback,a=t.mode,r=wc({mode:`visible`,children:r.children},a),c=_i(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Ha(t,e.child,null,n),r=t.child,r.memoizedState=bc(n),r.childLanes=xc(e,s,n),t.memoizedState=yc,t=lc(null,r)):(po(t),t.child=e.child,t.flags|=128,t=null);else if(lo(t),of(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Ji({value:r,source:null,stack:null}),t=Tc(e,t,n)}else if(rc||na(e,t,n,!1),s=(n&e.childLanes)!==0,rc||s){if(s=Vl,s!==null&&(r=st(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,si(e,r),_u(s,e,r),nc;af(c)||ku(),t=Tc(e,t,n)}else af(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Ri=cf(c.nextSibling),Li=t,F=!0,zi=null,Bi=!1,e!==null&&Ii(t,e),t=Cc(t,r.children),t.flags|=4096);return t}return a?(po(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=mi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=_i(c,a,n,null),c.flags|=2):c=mi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,lc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=bc(n):(a=c.cachePool,a===null?a=Ta():(l=da._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=xc(e,s,n),t.memoizedState=yc,lc(e.child,r)):(lo(t),n=e.child,e=n.sibling,n=mi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Cc(e,t){return t=wc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function wc(e,t){return e=fi(22,e,null,t),e.lanes=0,e}function Tc(e,t,n){return Ha(t,e.child,null,n),e=Cc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ec(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ea(e.return,t,n)}function Dc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Oc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=ho.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,O(ho,o),ic(e,t,r,n),r=F?Ei:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ec(e,n,t);else if(e.tag===19)Ec(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&go(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Dc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&go(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Dc(t,!0,n,null,a,r);break;case`together`:Dc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function kc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(na(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=mi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ac(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&ra(e))):!0}function jc(e,t,n){switch(t.tag){case 3:ye(t,t.stateNode.containerInfo),Qi(t,da,e.memoizedState.cache),Ki();break;case 27:case 5:xe(t);break;case 4:ye(t,t.stateNode.containerInfo);break;case 10:Qi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,uo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(lo(t),e=kc(e,t,n),e===null?null:e.sibling):Sc(e,t,n):(lo(t),t.flags|=128,null);lo(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(na(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Oc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),O(ho,ho.current),r)break;return null;case 22:return t.lanes=0,cc(e,t,n,t.pendingProps);case 24:Qi(t,da,e.memoizedState.cache)}return kc(e,t,n)}function Mc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)rc=!0;else{if(!Ac(e,n)&&!(t.flags&128))return rc=!1,jc(e,t,n);rc=!!(e.flags&131072)}else rc=!1,F&&t.flags&1048576&&Ni(t,Ei,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Ma(t.elementType),t.type=e,typeof e==`function`)pi(e)?(r=Ks(e,r),t.tag=1,t=_c(null,t,e,r,n)):(t.tag=0,t=hc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===C){t.tag=11,t=ac(null,t,e,r,n);break a}else if(a===ne){t.tag=14,t=oc(null,t,e,r,n);break a}}throw t=le(e)||e,Error(i(306,t,``))}}return t;case 0:return hc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Ks(r,t.pendingProps),_c(e,t,r,a,n);case 3:a:{if(ye(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Ka(e,t),$a(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Qi(t,da,r),r!==o.cache&&ta(t,[da],n,!0),Qa(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=vc(e,t,r,n);break a}else if(r!==a){a=Si(Error(i(424)),t),Ji(a),t=vc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Ri=cf(e.firstChild),Li=t,F=!0,zi=null,Bi=!0,n=Ua(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ki(),r===a){t=kc(e,t,n);break a}ic(e,t,r,n)}t=t.child}return t;case 26:return mc(e,t),e===null?(n=kf(t.type,null,t.pendingProps,null))?t.memoizedState=n:F||(n=t.type,e=t.pendingProps,r=Hd(_e.current).createElement(n),r[pt]=t,r[mt]=e,Id(r,n,e),Tt(r),t.stateNode=r):t.memoizedState=kf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xe(t),e===null&&F&&(r=t.stateNode=ff(t.type,t.pendingProps,_e.current),Li=t,Bi=!0,a=Ri,$d(t.type)?(lf=a,Ri=cf(r.firstChild)):Ri=a),ic(e,t,t.pendingProps.children,n),mc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&F&&((a=r=Ri)&&(r=tf(r,t.type,t.pendingProps,Bi),r===null?a=!1:(t.stateNode=r,Li=t,Ri=cf(r.firstChild),Bi=!1,a=!0)),a||Hi(t)),xe(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Gd(a,o)?r=null:s!==null&&Gd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=ko(e,t,Mo,null,null,n),Qf._currentValue=a),mc(e,t),ic(e,t,r,n),t.child;case 6:return e===null&&F&&((e=n=Ri)&&(n=nf(n,t.pendingProps,Bi),n===null?e=!1:(t.stateNode=n,Li=t,Ri=null,e=!0)),e||Hi(t)),null;case 13:return Sc(e,t,n);case 4:return ye(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ha(t,null,r,n):ic(e,t,r,n),t.child;case 11:return ac(e,t,t.type,t.pendingProps,n);case 7:return ic(e,t,t.pendingProps,n),t.child;case 8:return ic(e,t,t.pendingProps.children,n),t.child;case 12:return ic(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Qi(t,t.type,r.value),ic(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,ia(t),a=aa(a),r=r(a),t.flags|=1,ic(e,t,r,n),t.child;case 14:return oc(e,t,t.type,t.pendingProps,n);case 15:return sc(e,t,t.type,t.pendingProps,n);case 19:return Oc(e,t,n);case 31:return pc(e,t,n);case 22:return cc(e,t,n,t.pendingProps);case 24:return ia(t),r=aa(da),e===null?(a=Ca(),a===null&&(a=Vl,o=fa(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ga(t),Qi(t,da,a)):((e.lanes&n)!==0&&(Ka(e,t),$a(t,null,null,n),Qa()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Qi(t,da,r),r!==a.cache&&ta(t,[da],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Qi(t,da,r))),ic(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Nc(e){e.flags|=4}function Pc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Eu())e.flags|=8192;else throw Na=ka,Da}else e.flags&=-16777217}function Fc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Wf(t))if(Eu())e.flags|=8192;else throw Na=ka,Da}function Ic(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:nt(),e.lanes|=t,Zl|=t)}function Lc(e,t){if(!F)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zc(e,t,n){var r=t.pendingProps;switch(Fi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rc(t),null;case 1:return Rc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),$i(da),be(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Gi(t)?Nc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qi())),Rc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Nc(t),o===null?(Rc(t),Pc(t,a,null,r,n)):(Rc(t),Fc(t,o))):o?o===e.memoizedState?(Rc(t),t.flags&=-16777217):(Nc(t),Rc(t),Fc(t,o)):(e=e.memoizedProps,e!==r&&Nc(t),Rc(t),Pc(t,a,e,r,n)),null;case 27:if(Se(t),n=_e.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Nc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Rc(t),null}e=he.current,Gi(t)?Ui(t,e):(e=ff(a,r,n),t.stateNode=e,Nc(t))}return Rc(t),null;case 5:if(Se(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Nc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Rc(t),null}if(o=he.current,Gi(t))Ui(t,o);else{var s=Hd(_e.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[pt]=t,o[mt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Id(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Nc(t)}}return Rc(t),Pc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Nc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=_e.current,Gi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Li,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[pt]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Pd(e.nodeValue,n)),e||Hi(t,!0)}else e=Hd(e).createTextNode(r),e[pt]=t,t.stateNode=e}return Rc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Gi(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[pt]=t}else Ki(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rc(t),e=!1}else n=qi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(mo(t),t):(mo(t),null);if(t.flags&128)throw Error(i(558))}return Rc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Gi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[pt]=t}else Ki(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rc(t),a=!1}else a=qi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(mo(t),t):(mo(t),null)}return mo(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ic(t,t.updateQueue),Rc(t),null);case 4:return be(),e===null&&wd(t.stateNode.containerInfo),Rc(t),null;case 10:return $i(t.type),Rc(t),null;case 19:if(D(ho),r=t.memoizedState,r===null)return Rc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Lc(r,!1);else{if(ql!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=go(e),o!==null){for(t.flags|=128,Lc(r,!1),e=o.updateQueue,t.updateQueue=e,Ic(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)hi(n,e),n=n.sibling;return O(ho,ho.current&1|2),F&&Mi(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&k()>ru&&(t.flags|=128,a=!0,Lc(r,!1),t.lanes=4194304)}else{if(!a)if(e=go(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Ic(t,e),Lc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!F)return Rc(t),null}else 2*k()-r.renderingStartTime>ru&&n!==536870912&&(t.flags|=128,a=!0,Lc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Rc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=k(),e.sibling=null,n=ho.current,O(ho,a?n&1|2:n&1),F&&Mi(t,r.treeForkCount),e);case 22:case 23:return mo(t),oo(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Rc(t),t.subtreeFlags&6&&(t.flags|=8192)):Rc(t),n=t.updateQueue,n!==null&&Ic(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&D(Sa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),$i(da),Rc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Bc(e,t){switch(Fi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $i(da),be(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Se(t),null;case 31:if(t.memoizedState!==null){if(mo(t),t.alternate===null)throw Error(i(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(mo(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return D(ho),null;case 4:return be(),null;case 10:return $i(t.type),null;case 22:case 23:return mo(t),oo(),e!==null&&D(Sa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return $i(da),null;case 25:return null;default:return null}}function Vc(e,t){switch(Fi(t),t.tag){case 3:$i(da),be();break;case 26:case 27:case 5:Se(t);break;case 4:be();break;case 31:t.memoizedState!==null&&mo(t);break;case 13:mo(t);break;case 19:D(ho);break;case 10:$i(t.type);break;case 22:case 23:mo(t),oo(),e!==null&&D(Sa);break;case 24:$i(da)}}function Hc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Y(t,t.return,e)}}function Uc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Y(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Y(t,t.return,e)}}function Wc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{to(t,n)}catch(t){Y(e,e.return,t)}}}function Gc(e,t,n){n.props=Ks(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Y(e,t,n)}}function Kc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Y(e,t,n)}}function qc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Y(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Y(e,t,n)}else n.current=null}function Jc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Y(e,e.return,t)}}function Yc(e,t,n){try{var r=e.stateNode;Ld(r,e.type,n,t),r[mt]=t}catch(t){Y(e,e.return,t)}}function Xc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$d(e.type)||e.tag===4}function Zc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Xc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$d(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=an));else if(r!==4&&(r===27&&$d(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Qc(e,t,n),e=e.sibling;e!==null;)Qc(e,t,n),e=e.sibling}function $c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&$d(e.type)&&(n=e.stateNode),e=e.child,e!==null))for($c(e,t,n),e=e.sibling;e!==null;)$c(e,t,n),e=e.sibling}function el(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Id(t,r,n),t[pt]=e,t[mt]=n}catch(t){Y(e,e.return,t)}}var tl=!1,nl=!1,rl=!1,il=typeof WeakSet==`function`?WeakSet:Set,al=null;function ol(e,t){if(e=e.containerInfo,Bd=sp,e=jr(e),Mr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Vd={focusedElem:e,selectionRange:n},sp=!1,al=t;al!==null;)if(t=al,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,al=e;else for(;al!==null;){switch(t=al,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Ks(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Y(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)$(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:$(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,al=e;break}al=t.return}}function sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Sl(e,n),r&4&&Hc(5,n);break;case 1:if(Sl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Y(n,n.return,e)}else{var i=Ks(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Y(n,n.return,e)}}r&64&&Wc(n),r&512&&Kc(n,n.return);break;case 3:if(Sl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{to(e,t)}catch(e){Y(n,n.return,e)}}break;case 27:t===null&&r&4&&el(n);case 26:case 5:Sl(e,n),t===null&&r&4&&Jc(n),r&512&&Kc(n,n.return);break;case 12:Sl(e,n);break;case 31:Sl(e,n),r&4&&pl(e,n);break;case 13:Sl(e,n),r&4&&ml(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Xu.bind(null,n),sf(e,n))));break;case 22:if(r=n.memoizedState!==null||tl,!r){t=t!==null&&t.memoizedState!==null||nl,i=tl;var a=nl;tl=r,(nl=t)&&!a?wl(e,n,(n.subtreeFlags&8772)!=0):Sl(e,n),tl=i,nl=a}break;case 30:break;default:Sl(e,n)}}function cl(e){var t=e.alternate;t!==null&&(e.alternate=null,cl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&bt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ll=null,ul=!1;function dl(e,t,n){for(n=n.child;n!==null;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(We&&typeof We.onCommitFiberUnmount==`function`)try{We.onCommitFiberUnmount(Ue,n)}catch{}switch(n.tag){case 26:nl||qc(n,t),dl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:nl||qc(n,t);var r=ll,i=ul;$d(n.type)&&(ll=n.stateNode,ul=!1),dl(e,t,n),pf(n.stateNode),ll=r,ul=i;break;case 5:nl||qc(n,t);case 6:if(r=ll,i=ul,ll=null,dl(e,t,n),ll=r,ul=i,ll!==null)if(ul)try{(ll.nodeType===9?ll.body:ll.nodeName===`HTML`?ll.ownerDocument.body:ll).removeChild(n.stateNode)}catch(e){Y(n,t,e)}else try{ll.removeChild(n.stateNode)}catch(e){Y(n,t,e)}break;case 18:ll!==null&&(ul?(e=ll,ef(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Np(e)):ef(ll,n.stateNode));break;case 4:r=ll,i=ul,ll=n.stateNode.containerInfo,ul=!0,dl(e,t,n),ll=r,ul=i;break;case 0:case 11:case 14:case 15:Uc(2,n,t),nl||Uc(4,n,t),dl(e,t,n);break;case 1:nl||(qc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Gc(n,t,r)),dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:nl=(r=nl)||n.memoizedState!==null,dl(e,t,n),nl=r;break;default:dl(e,t,n)}}function pl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Np(e)}catch(e){Y(t,t.return,e)}}}function ml(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Np(e)}catch(e){Y(t,t.return,e)}}function hl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new il),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new il),t;default:throw Error(i(435,e.tag))}}function gl(e,t){var n=hl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Zu.bind(null,e,t);t.then(r,r)}})}function _l(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if($d(c.type)){ll=c.stateNode,ul=!1;break a}break;case 5:ll=c.stateNode,ul=!1;break a;case 3:case 4:ll=c.stateNode.containerInfo,ul=!0;break a}c=c.return}if(ll===null)throw Error(i(160));fl(o,s,a),ll=null,ul=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)yl(t,e),t=t.sibling}var vl=null;function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_l(t,e),bl(e),r&4&&(Uc(3,e,e.return),Hc(3,e),Uc(5,e,e.return));break;case 1:_l(t,e),bl(e),r&512&&(nl||n===null||qc(n,n.return)),r&64&&tl&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=vl;if(_l(t,e),bl(e),r&512&&(nl||n===null||qc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[yt]||o[pt]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Id(o,r,n),o[pt]=e,Tt(o),r=o;break a;case`link`:var s=Vf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Id(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Vf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Id(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[pt]=e,Tt(o),r=o}e.stateNode=r}else Hf(a,e.type,e.stateNode);else e.stateNode=If(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Yc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Hf(a,e.type,e.stateNode):If(a,r,e.memoizedProps))}break;case 27:_l(t,e),bl(e),r&512&&(nl||n===null||qc(n,n.return)),n!==null&&r&4&&Yc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(_l(t,e),bl(e),r&512&&(nl||n===null||qc(n,n.return)),e.flags&32){a=e.stateNode;try{Xt(a,``)}catch(t){Y(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Yc(e,a,n===null?a:n.memoizedProps)),r&1024&&(rl=!0);break;case 6:if(_l(t,e),bl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Y(e,e.return,t)}}break;case 3:if(Bf=null,a=vl,vl=gf(t.containerInfo),_l(t,e),vl=a,bl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Np(t.containerInfo)}catch(t){Y(e,e.return,t)}rl&&(rl=!1,xl(e));break;case 4:r=vl,vl=gf(e.stateNode.containerInfo),_l(t,e),bl(e),vl=r;break;case 12:_l(t,e),bl(e);break;case 31:_l(t,e),bl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gl(e,r)));break;case 13:_l(t,e),bl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(tu=k()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=tl,d=nl;if(tl=u||a,nl=d||l,_l(t,e),nl=d,tl=u,bl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||tl||nl||Cl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Y(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Y(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?Q(m,!0):Q(l.stateNode,!1)}catch(e){Y(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,gl(e,n))));break;case 19:_l(t,e),bl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gl(e,r)));break;case 30:break;case 21:break;default:_l(t,e),bl(e)}}function bl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Xc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;$c(e,Zc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(Xt(o,``),n.flags&=-33),$c(e,Zc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Qc(e,Zc(e),s);break;default:throw Error(i(161))}}catch(t){Y(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sl(e,t.alternate,t),t=t.sibling}function Cl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Uc(4,t,t.return),Cl(t);break;case 1:qc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Gc(t,t.return,n),Cl(t);break;case 27:pf(t.stateNode);case 26:case 5:qc(t,t.return),Cl(t);break;case 22:t.memoizedState===null&&Cl(t);break;case 30:Cl(t);break;default:Cl(t)}e=e.sibling}}function wl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:wl(i,a,n),Hc(4,a);break;case 1:if(wl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Y(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)eo(c[i],s)}catch(e){Y(r,r.return,e)}}n&&o&64&&Wc(a),Kc(a,a.return);break;case 27:el(a);case 26:case 5:wl(i,a,n),n&&r===null&&o&4&&Jc(a),Kc(a,a.return);break;case 12:wl(i,a,n);break;case 31:wl(i,a,n),n&&o&4&&pl(i,a);break;case 13:wl(i,a,n),n&&o&4&&ml(i,a);break;case 22:a.memoizedState===null&&wl(i,a,n),Kc(a,a.return);break;case 30:break;default:wl(i,a,n)}t=t.sibling}}function Tl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&pa(n))}function El(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pa(e))}function Dl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ol(e,t,n,r),t=t.sibling}function Ol(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Dl(e,t,n,r),i&2048&&Hc(9,t);break;case 1:Dl(e,t,n,r);break;case 3:Dl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&pa(e)));break;case 12:if(i&2048){Dl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Y(t,t.return,e)}}else Dl(e,t,n,r);break;case 31:Dl(e,t,n,r);break;case 13:Dl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Dl(e,t,n,r):(a._visibility|=2,kl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Dl(e,t,n,r):Al(e,t),i&2048&&Tl(o,t);break;case 24:Dl(e,t,n,r),i&2048&&El(t.alternate,t);break;default:Dl(e,t,n,r)}}function kl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:kl(a,o,s,c,i),Hc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,kl(a,o,s,c,i)):u._visibility&2?kl(a,o,s,c,i):Al(a,o),i&&l&2048&&Tl(o.alternate,o);break;case 24:kl(a,o,s,c,i),i&&l&2048&&El(o.alternate,o);break;default:kl(a,o,s,c,i)}t=t.sibling}}function Al(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Al(n,r),i&2048&&Tl(r.alternate,r);break;case 24:Al(n,r),i&2048&&El(r.alternate,r);break;default:Al(n,r)}t=t.sibling}}var jl=8192;function Ml(e,t,n){if(e.subtreeFlags&jl)for(e=e.child;e!==null;)Nl(e,t,n),e=e.sibling}function Nl(e,t,n){switch(e.tag){case 26:Ml(e,t,n),e.flags&jl&&e.memoizedState!==null&&Gf(n,vl,e.memoizedState,e.memoizedProps);break;case 5:Ml(e,t,n);break;case 3:case 4:var r=vl;vl=gf(e.stateNode.containerInfo),Ml(e,t,n),vl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=jl,jl=16777216,Ml(e,t,n),jl=r):Ml(e,t,n));break;default:Ml(e,t,n)}}function Pl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];al=r,Rl(r,e)}Pl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Il(e),e=e.sibling}function Il(e){switch(e.tag){case 0:case 11:case 15:Fl(e),e.flags&2048&&Uc(9,e,e.return);break;case 3:Fl(e);break;case 12:Fl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ll(e)):Fl(e);break;default:Fl(e)}}function Ll(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];al=r,Rl(r,e)}Pl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Uc(8,t,t.return),Ll(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ll(t));break;default:Ll(t)}e=e.sibling}}function Rl(e,t){for(;al!==null;){var n=al;switch(n.tag){case 0:case 11:case 15:Uc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:pa(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,al=r;else a:for(n=e;al!==null;){r=al;var i=r.sibling,a=r.return;if(cl(r),r===n){al=null;break a}if(i!==null){i.return=a,al=i;break a}al=a}}}var zl={getCacheForType:function(e){var t=aa(da),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return aa(da).controller.signal}},Bl=typeof WeakMap==`function`?WeakMap:Map,W=0,Vl=null,G=null,K=0,q=0,Hl=null,Ul=!1,Wl=!1,Gl=!1,Kl=0,ql=0,Jl=0,Yl=0,Xl=0,J=0,Zl=0,Ql=null,$l=null,eu=!1,tu=0,nu=0,ru=1/0,iu=null,au=null,ou=0,su=null,cu=null,lu=0,uu=0,du=null,fu=null,pu=0,mu=null;function hu(){return W&2&&K!==0?K&-K:T.T===null?ut():pd()}function gu(){if(J===0)if(!(K&536870912)||F){var e=Xe;Xe<<=1,!(Xe&3932160)&&(Xe=262144),J=e}else J=536870912;return e=so.current,e!==null&&(e.flags|=32),J}function _u(e,t,n){(e===Vl&&(q===2||q===9)||e.cancelPendingCommit!==null)&&(wu(e,0),xu(e,K,J,!1)),it(e,n),(!(W&2)||e!==Vl)&&(e===Vl&&(!(W&2)&&(Yl|=n),ql===4&&xu(e,K,J,!1)),ad(e))}function vu(e,t,n){if(W&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||et(e,t),a=r?Mu(e,t):Au(e,t,!0),o=r;do{if(a===0){Wl&&!r&&xu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!bu(n)){a=Au(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=Ql;var l=c.current.memoizedState.isDehydrated;if(l&&(wu(c,s).flags|=256),s=Au(c,s,!1),s!==2){if(Gl&&!l){c.errorRecoveryDisabledLanes|=o,Yl|=o,a=4;break a}o=$l,$l=a,o!==null&&($l===null?$l=o:$l.push.apply($l,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){wu(e,0),xu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:xu(r,t,J,!Ul);break a;case 2:$l=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=tu+300-k(),10<a)){if(xu(r,t,J,!Ul),$e(r,0,!0)!==0)break a;lu=t,r.timeoutHandle=Jd(yu.bind(null,r,n,$l,iu,eu,t,J,Yl,Zl,Ul,o,`Throttled`,-0,0),a);break a}yu(r,n,$l,iu,eu,t,J,Yl,Zl,Ul,o,null,-0,0)}}break}while(1);ad(e)}function yu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:an},Nl(t,a,d);var m=(a&62914560)===a?tu-k():(a&4194048)===a?nu-k():0;if(m=qf(d,m),m!==null){lu=a,e.cancelPendingCommit=m(zu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),xu(e,a,o,!l);return}}zu(e,t,a,n,r,i,o,s,c)}function bu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Er(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xu(e,t,n,r){t&=~Xl,t&=~Yl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-A(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&at(e,n,t)}function Su(){return W&6?!0:(od(0,!1),!1)}function Cu(){if(G!==null){if(q===0)var e=G.return;else e=G,Zi=Xi=null,Fo(e),Ia=null,La=0,e=G;for(;e!==null;)Vc(e.alternate,e),e=e.return;G=null}}function wu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Yd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),lu=0,Cu(),Vl=e,G=n=mi(e.current,null),K=t,q=0,Hl=null,Ul=!1,Wl=et(e,t),Gl=!1,Zl=J=Xl=Yl=Jl=ql=0,$l=Ql=null,eu=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-A(r),a=1<<i;t|=e[i],r&=~a}return Kl=t,ii(),n}function Tu(e,t){I=null,T.H=Rs,t===Ea||t===Oa?(t=Pa(),q=3):t===Da?(t=Pa(),q=4):q=t===nc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Hl=t,G===null&&(ql=1,Xs(e,Si(t,e.current)))}function Eu(){var e=so.current;return e===null?!0:(K&4194048)===K?co===null:(K&62914560)===K||K&536870912?e===co:!1}function Du(){var e=T.H;return T.H=Rs,e===null?Rs:e}function Ou(){var e=T.A;return T.A=zl,e}function ku(){ql=4,Ul||(K&4194048)!==K&&so.current!==null||(Wl=!0),!(Jl&134217727)&&!(Yl&134217727)||Vl===null||xu(Vl,K,J,!1)}function Au(e,t,n){var r=W;W|=2;var i=Du(),a=Ou();(Vl!==e||K!==t)&&(iu=null,wu(e,t)),t=!1;var o=ql;a:do try{if(q!==0&&G!==null){var s=G,c=Hl;switch(q){case 8:Cu(),o=6;break a;case 3:case 2:case 9:case 6:so.current===null&&(t=!0);var l=q;if(q=0,Hl=null,Iu(e,s,c,l),n&&Wl){o=0;break a}break;default:l=q,q=0,Hl=null,Iu(e,s,c,l)}}ju(),o=ql;break}catch(t){Tu(e,t)}while(1);return t&&e.shellSuspendCounter++,Zi=Xi=null,W=r,T.H=i,T.A=a,G===null&&(Vl=null,K=0,ii()),o}function ju(){for(;G!==null;)Pu(G)}function Mu(e,t){var n=W;W|=2;var r=Du(),a=Ou();Vl!==e||K!==t?(iu=null,ru=k()+500,wu(e,t)):Wl=et(e,t);a:do try{if(q!==0&&G!==null){t=G;var o=Hl;b:switch(q){case 1:q=0,Hl=null,Iu(e,t,o,1);break;case 2:case 9:if(Aa(o)){q=0,Hl=null,Fu(t);break}t=function(){q!==2&&q!==9||Vl!==e||(q=7),ad(e)},o.then(t,t);break a;case 3:q=7;break a;case 4:q=5;break a;case 7:Aa(o)?(q=0,Hl=null,Fu(t)):(q=0,Hl=null,Iu(e,t,o,7));break;case 5:var s=null;switch(G.tag){case 26:s=G.memoizedState;case 5:case 27:var c=G;if(s?Wf(s):c.stateNode.complete){q=0,Hl=null;var l=c.sibling;if(l!==null)G=l;else{var u=c.return;u===null?G=null:(G=u,Lu(u))}break b}}q=0,Hl=null,Iu(e,t,o,5);break;case 6:q=0,Hl=null,Iu(e,t,o,6);break;case 8:Cu(),ql=6;break a;default:throw Error(i(462))}}Nu();break}catch(t){Tu(e,t)}while(1);return Zi=Xi=null,T.H=r,T.A=a,W=n,G===null?(Vl=null,K=0,ii(),ql):0}function Nu(){for(;G!==null&&!Ne();)Pu(G)}function Pu(e){var t=Mc(e.alternate,e,Kl);e.memoizedProps=e.pendingProps,t===null?Lu(e):G=t}function Fu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=gc(n,t,t.pendingProps,t.type,void 0,K);break;case 11:t=gc(n,t,t.pendingProps,t.type.render,t.ref,K);break;case 5:Fo(t);default:Vc(n,t),t=G=hi(t,Kl),t=Mc(n,t,Kl)}e.memoizedProps=e.pendingProps,t===null?Lu(e):G=t}function Iu(e,t,n,r){Zi=Xi=null,Fo(t),Ia=null,La=0;var i=t.return;try{if(tc(e,i,t,n,K)){ql=1,Xs(e,Si(n,e.current)),G=null;return}}catch(t){if(i!==null)throw G=i,t;ql=1,Xs(e,Si(n,e.current)),G=null;return}t.flags&32768?(F||r===1?e=!0:Wl||K&536870912?e=!1:(Ul=e=!0,(r===2||r===9||r===3||r===6)&&(r=so.current,r!==null&&r.tag===13&&(r.flags|=16384))),Ru(t,e)):Lu(t)}function Lu(e){var t=e;do{if(t.flags&32768){Ru(t,Ul);return}e=t.return;var n=zc(t.alternate,t,Kl);if(n!==null){G=n;return}if(t=t.sibling,t!==null){G=t;return}G=t=e}while(t!==null);ql===0&&(ql=5)}function Ru(e,t){do{var n=Bc(e.alternate,e);if(n!==null){n.flags&=32767,G=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){G=e;return}G=e=n}while(e!==null);ql=6,G=null}function zu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Wu();while(ou!==0);if(W&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=ri,j(e,n,o,s,c,l),e===Vl&&(G=Vl=null,K=0),cu=t,su=e,lu=n,uu=o,du=a,fu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Qu(Re,function(){return Gu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=T.T,T.T=null,a=E.p,E.p=2,s=W,W|=4;try{ol(e,t,n)}finally{W=s,E.p=a,T.T=r}}ou=1,Bu(),Vu(),Hu()}}function Bu(){if(ou===1){ou=0;var e=su,t=cu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=T.T,T.T=null;var r=E.p;E.p=2;var i=W;W|=4;try{yl(t,e);var a=Vd,o=jr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Ar(s.ownerDocument.documentElement,s)){if(c!==null&&Mr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=kr(s,h),v=kr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}sp=!!Bd,Vd=Bd=null}finally{W=i,E.p=r,T.T=n}}e.current=t,ou=2}}function Vu(){if(ou===2){ou=0;var e=su,t=cu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=T.T,T.T=null;var r=E.p;E.p=2;var i=W;W|=4;try{sl(e,t.alternate,t)}finally{W=i,E.p=r,T.T=n}}ou=3}}function Hu(){if(ou===4||ou===3){ou=0,Pe();var e=su,t=cu,n=lu,r=fu;t.subtreeFlags&10256||t.flags&10256?ou=5:(ou=0,cu=su=null,Uu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(au=null),lt(n),t=t.stateNode,We&&typeof We.onCommitFiberRoot==`function`)try{We.onCommitFiberRoot(Ue,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=T.T,i=E.p,E.p=2,T.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{T.T=t,E.p=i}}lu&3&&Wu(),ad(e),i=e.pendingLanes,n&261930&&i&42?e===mu?pu++:(pu=0,mu=e):pu=0,od(0,!1)}}function Uu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,pa(t)))}function Wu(){return Bu(),Vu(),Hu(),Gu()}function Gu(){if(ou!==5)return!1;var e=su,t=uu;uu=0;var n=lt(lu),r=T.T,a=E.p;try{E.p=32>n?32:n,T.T=null,n=du,du=null;var o=su,s=lu;if(ou=0,cu=su=null,lu=0,W&6)throw Error(i(331));var c=W;if(W|=4,Il(o.current),Ol(o,o.current,s,n),W=c,od(0,!1),We&&typeof We.onPostCommitFiberRoot==`function`)try{We.onPostCommitFiberRoot(Ue,o)}catch{}return!0}finally{E.p=a,T.T=r,Uu(e,t)}}function Ku(e,t,n){t=Si(n,t),t=Qs(e.stateNode,t,2),e=Ja(e,t,2),e!==null&&(it(e,2),ad(e))}function Y(e,t,n){if(e.tag===3)Ku(e,e,n);else for(;t!==null;){if(t.tag===3){Ku(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(au===null||!au.has(r))){e=Si(n,e),n=$s(2),r=Ja(t,n,2),r!==null&&(ec(n,r,t,e),it(r,2),ad(r));break}}t=t.return}}function qu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Gl=!0,i.add(n),e=Ju.bind(null,e,t,n),t.then(e,e))}function Ju(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Vl===e&&(K&n)===n&&(ql===4||ql===3&&(K&62914560)===K&&300>k()-tu?!(W&2)&&wu(e,0):Xl|=n,Zl===K&&(Zl=0)),ad(e)}function Yu(e,t){t===0&&(t=nt()),e=si(e,t),e!==null&&(it(e,t),ad(e))}function Xu(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Yu(e,n)}function Zu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Yu(e,n)}function Qu(e,t){return je(e,t)}var $u=null,ed=null,td=!1,nd=!1,rd=!1,id=0;function ad(e){e!==ed&&e.next===null&&(ed===null?$u=ed=e:ed=ed.next=e),nd=!0,td||(td=!0,fd())}function od(e,t){if(!rd&&nd){rd=!0;do for(var n=!1,r=$u;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-A(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,dd(r,a))}else a=K,a=$e(r,r===Vl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||et(r,a)||(n=!0,dd(r,a));r=r.next}while(n);rd=!1}}function sd(){cd()}function cd(){nd=td=!1;var e=0;id!==0&&qd()&&(e=id);for(var t=k(),n=null,r=$u;r!==null;){var i=r.next,a=ld(r,t);a===0?(r.next=null,n===null?$u=i:n.next=i,i===null&&(ed=n)):(n=r,(e!==0||a&3)&&(nd=!0)),r=i}ou!==0&&ou!==5||od(e,!1),id!==0&&(id=0)}function ld(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-A(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=tt(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Vl,n=K,n=$e(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(q===2||q===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Me(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||et(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Me(r),lt(n)){case 2:case 8:n=Le;break;case 32:n=Re;break;case 268435456:n=Be;break;default:n=Re}return r=ud.bind(null,e),n=je(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Me(r),e.callbackPriority=2,e.callbackNode=null,2}function ud(e,t){if(ou!==0&&ou!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Wu()&&e.callbackNode!==n)return null;var r=K;return r=$e(e,e===Vl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(vu(e,r,t),ld(e,k()),e.callbackNode!=null&&e.callbackNode===n?ud.bind(null,e):null)}function dd(e,t){if(Wu())return null;vu(e,t,!0)}function fd(){Zd(function(){W&6?je(Ie,sd):cd()})}function pd(){if(id===0){var e=ga;e===0&&(e=Ye,Ye<<=1,!(Ye&261888)&&(Ye=256)),id=e}return id}function md(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:rn(``+e)}function hd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function gd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=md((i[mt]||null).action),o=r.submitter;o&&(t=(t=o[mt]||null)?md(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new En(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(id!==0){var e=o?hd(i,o):new FormData(i);U(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?hd(i,o):new FormData(i),U(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var _d=0;_d<Qr.length;_d++){var vd=Qr[_d];$r(vd.toLowerCase(),`on`+(vd[0].toUpperCase()+vd.slice(1)))}$r(Wr,`onAnimationEnd`),$r(Gr,`onAnimationIteration`),$r(Kr,`onAnimationStart`),$r(`dblclick`,`onDoubleClick`),$r(`focusin`,`onFocus`),$r(`focusout`,`onBlur`),$r(qr,`onTransitionRun`),$r(Jr,`onTransitionStart`),$r(Yr,`onTransitionCancel`),$r(Xr,`onTransitionEnd`),kt(`onMouseEnter`,[`mouseout`,`mouseover`]),kt(`onMouseLeave`,[`mouseout`,`mouseover`]),kt(`onPointerEnter`,[`pointerout`,`pointerover`]),kt(`onPointerLeave`,[`pointerout`,`pointerover`]),Ot(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),Ot(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),Ot(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),Ot(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),Ot(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),Ot(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var yd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),bd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(yd));function xd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){ei(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){ei(e)}i.currentTarget=null,a=c}}}}function X(e,t){var n=t[ht];n===void 0&&(n=t[ht]=new Set);var r=e+`__bubble`;n.has(r)||(Td(t,e,2,!1),n.add(r))}function Sd(e,t,n){var r=0;t&&(r|=4),Td(n,e,r,t)}var Cd=`_reactListening`+Math.random().toString(36).slice(2);function wd(e){if(!e[Cd]){e[Cd]=!0,Et.forEach(function(t){t!==`selectionchange`&&(bd.has(t)||Sd(t,!1,e),Sd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cd]||(t[Cd]=!0,Sd(`selectionchange`,!1,t))}}function Td(e,t,n,r){switch(mp(t)){case 2:var i=cp;break;case 8:i=lp;break;default:i=up}n=i.bind(null,t,n,e),i=void 0,!hn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Ed(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=xt(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}fn(function(){var r=a,i=sn(n),s=[];a:{var c=Zr.get(e);if(c!==void 0){var l=En,u=e;switch(e){case`keypress`:if(xn(n)===0)break a;case`keydown`:case`keyup`:l=Wn;break;case`focusin`:u=`focus`,l=Fn;break;case`focusout`:u=`blur`,l=Fn;break;case`beforeblur`:case`afterblur`:l=Fn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=Nn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Pn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Kn;break;case Wr:case Gr:case Kr:l=In;break;case Xr:l=qn;break;case`scroll`:case`scrollend`:l=On;break;case`wheel`:l=Jn;break;case`copy`:case`cut`:case`paste`:l=Ln;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Gn;break;case`toggle`:case`beforetoggle`:l=Yn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=pn(m,p),g!=null&&d.push(Dd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==on&&(u=n.relatedTarget||n.fromElement)&&(xt(u)||u[M]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?xt(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=Nn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Gn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:Ct(l),h=u==null?c:Ct(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,xt(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=kd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Ad(s,c,l,d,!1),u!==null&&f!==null&&Ad(s,f,u,d,!0)}}a:{if(c=r?Ct(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=mr;else if(cr(c))if(hr)v=wr;else{v=Sr;var y=xr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&en(r.elementType)&&(v=mr):v=Cr;if(v&&=v(e,r)){lr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Kt(c,`number`,c.value)}switch(y=r?Ct(r):window,e){case`focusin`:(cr(y)||y.contentEditable===`true`)&&(Pr=y,Fr=r,Ir=null);break;case`focusout`:Ir=Fr=Pr=null;break;case`mousedown`:Lr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Lr=!1,Rr(s,n,i);break;case`selectionchange`:if(Nr)break;case`keydown`:case`keyup`:Rr(s,n,i)}var b;if(Zn)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else P?rr(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(er&&n.locale!==`ko`&&(P||x!==`onCompositionStart`?x===`onCompositionEnd`&&P&&(b=bn()):(_n=i,vn=`value`in _n?_n.value:_n.textContent,P=!0)),y=Od(r,x),0<y.length&&(x=new Rn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=ir(n),b!==null&&(x.data=b)))),(b=$n?ar(e,n):or(e,n))&&(x=Od(r,`onBeforeInput`),0<x.length&&(y=new Rn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),gd(s,e,r,n,i)}xd(s,t)})}function Dd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Od(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=pn(e,n),i!=null&&r.unshift(Dd(e,i,a)),i=pn(e,t),i!=null&&r.push(Dd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function kd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ad(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=pn(n,a),l!=null&&o.unshift(Dd(n,l,c))):i||(l=pn(n,a),l!=null&&o.push(Dd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jd=/\r\n?/g,Md=/\u0000|\uFFFD/g;function Nd(e){return(typeof e==`string`?e:``+e).replace(jd,`
`).replace(Md,``)}function Pd(e,t){return t=Nd(t),Nd(e)===t}function Z(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Xt(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Xt(e,``+r);break;case`className`:Ft(e,`class`,r);break;case`tabIndex`:Ft(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Ft(e,n,r);break;case`style`:$t(e,r,o);break;case`data`:if(t!==`object`){Ft(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=rn(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Z(e,t,`name`,a.name,a,null),Z(e,t,`formEncType`,a.formEncType,a,null),Z(e,t,`formMethod`,a.formMethod,a,null),Z(e,t,`formTarget`,a.formTarget,a,null)):(Z(e,t,`encType`,a.encType,a,null),Z(e,t,`method`,a.method,a,null),Z(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=rn(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=an);break;case`onScroll`:r!=null&&X(`scroll`,e);break;case`onScrollEnd`:r!=null&&X(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=rn(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:X(`beforetoggle`,e),X(`toggle`,e),Pt(e,`popover`,r);break;case`xlinkActuate`:It(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:It(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:It(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:It(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:It(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:It(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:It(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:It(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:It(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:Pt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=tn.get(n)||n,Pt(e,n,r))}}function Fd(e,t,n,r,a,o){switch(n){case`style`:$t(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Xt(e,r):(typeof r==`number`||typeof r==`bigint`)&&Xt(e,``+r);break;case`onScroll`:r!=null&&X(`scroll`,e);break;case`onScrollEnd`:r!=null&&X(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=an);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!Dt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[mt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):Pt(e,n,r)}}}function Id(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:X(`error`,e),X(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Z(e,t,o,s,n,null)}}a&&Z(e,t,`srcSet`,n.srcSet,n,null),r&&Z(e,t,`src`,n.src,n,null);return;case`input`:X(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Z(e,t,r,d,n,null)}}Gt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in X(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Z(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&qt(e,!!r,n,!0):qt(e,!!r,t,!1);return;case`textarea`:for(s in X(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Z(e,t,s,c,n,null)}Yt(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Z(e,t,l,r,n,null)}return;case`dialog`:X(`beforetoggle`,e),X(`toggle`,e),X(`cancel`,e),X(`close`,e);break;case`iframe`:case`object`:X(`load`,e);break;case`video`:case`audio`:for(r=0;r<yd.length;r++)X(yd[r],e);break;case`image`:X(`error`,e),X(`load`,e);break;case`details`:X(`toggle`,e);break;case`embed`:case`source`:case`link`:X(`error`,e),X(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Z(e,t,u,r,n,null)}return;default:if(en(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Fd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Z(e,t,c,r,n,null))}function Ld(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Z(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Z(e,t,p,m,r,f)}}Wt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Z(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Z(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?qt(e,!!n,n?[]:``,!1):qt(e,!!n,t,!0)):qt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Z(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Z(e,t,s,a,r,o)}Jt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Z(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Z(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Z(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Z(e,t,u,p,r,m)}return;default:if(en(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Fd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Fd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Z(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Z(e,t,f,p,r,m)}function Rd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function zd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Rd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Rd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Bd=null,Vd=null;function Hd(e){return e.nodeType===9?e:e.ownerDocument}function Ud(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Wd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Gd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kd=null;function qd(){var e=window.event;return e&&e.type===`popstate`?e===Kd?!1:(Kd=e,!0):(Kd=null,!1)}var Jd=typeof setTimeout==`function`?setTimeout:void 0,Yd=typeof clearTimeout==`function`?clearTimeout:void 0,Xd=typeof Promise==`function`?Promise:void 0,Zd=typeof queueMicrotask==`function`?queueMicrotask:Xd===void 0?Jd:function(e){return Xd.resolve(null).then(e).catch(Qd)};function Qd(e){setTimeout(function(){throw e})}function $d(e){return e===`head`}function ef(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Np(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)pf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,pf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[yt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&pf(e.ownerDocument.body);n=i}while(n);Np(t)}function Q(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function $(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:$(n),bt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function tf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[yt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=cf(e.nextSibling),e===null)break}return null}function nf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=cf(e.nextSibling),e===null))return null;return e}function rf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=cf(e.nextSibling),e===null))return null;return e}function af(e){return e.data===`$?`||e.data===`$~`}function of(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function sf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function cf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var lf=null;function uf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return cf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function ff(e,t,n){switch(t=Hd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function pf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);bt(e)}var mf=new Map,hf=new Set;function gf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _f=E.d;E.d={f:vf,r:yf,D:Sf,C:Cf,L:wf,m:Tf,X:Df,S:Ef,M:Of};function vf(){var e=_f.f(),t=Su();return e||t}function yf(e){var t=St(e);t!==null&&t.tag===5&&t.type===`form`?Es(t):_f.r(e)}var bf=typeof document>`u`?null:document;function xf(e,t,n){var r=bf;if(r&&typeof t==`string`&&t){var i=Ut(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),hf.has(i)||(hf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Id(t,`link`,e),Tt(t),r.head.appendChild(t)))}}function Sf(e){_f.D(e),xf(`dns-prefetch`,e,null)}function Cf(e,t){_f.C(e,t),xf(`preconnect`,e,t)}function wf(e,t,n){_f.L(e,t,n);var r=bf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Ut(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Ut(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Ut(n.imageSizes)+`"]`)):i+=`[href="`+Ut(e)+`"]`;var a=i;switch(t){case`style`:a=Af(e);break;case`script`:a=Pf(e)}mf.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),mf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(jf(a))||t===`script`&&r.querySelector(Ff(a))||(t=r.createElement(`link`),Id(t,`link`,e),Tt(t),r.head.appendChild(t)))}}function Tf(e,t){_f.m(e,t);var n=bf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Ut(r)+`"][href="`+Ut(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Pf(e)}if(!mf.has(a)&&(e=h({rel:`modulepreload`,href:e},t),mf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Ff(a)))return}r=n.createElement(`link`),Id(r,`link`,e),Tt(r),n.head.appendChild(r)}}}function Ef(e,t,n){_f.S(e,t,n);var r=bf;if(r&&e){var i=wt(r).hoistableStyles,a=Af(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(jf(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=mf.get(a))&&Rf(e,n);var c=o=r.createElement(`link`);Tt(c),Id(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Lf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Df(e,t){_f.X(e,t);var n=bf;if(n&&e){var r=wt(n).hoistableScripts,i=Pf(e),a=r.get(i);a||(a=n.querySelector(Ff(i)),a||(e=h({src:e,async:!0},t),(t=mf.get(i))&&zf(e,t),a=n.createElement(`script`),Tt(a),Id(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Of(e,t){_f.M(e,t);var n=bf;if(n&&e){var r=wt(n).hoistableScripts,i=Pf(e),a=r.get(i);a||(a=n.querySelector(Ff(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=mf.get(i))&&zf(e,t),a=n.createElement(`script`),Tt(a),Id(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function kf(e,t,n,r){var a=(a=_e.current)?gf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Af(n.href),n=wt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Af(n.href);var o=wt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(jf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),mf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},mf.set(e,n),o||Nf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Pf(n),n=wt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Af(e){return`href="`+Ut(e)+`"`}function jf(e){return`link[rel="stylesheet"][`+e+`]`}function Mf(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Nf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Id(t,`link`,n),Tt(t),e.head.appendChild(t))}function Pf(e){return`[src="`+Ut(e)+`"]`}function Ff(e){return`script[async]`+e}function If(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Ut(n.href)+`"]`);if(r)return t.instance=r,Tt(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),Tt(r),Id(r,`style`,a),Lf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Af(n.href);var o=e.querySelector(jf(a));if(o)return t.state.loading|=4,t.instance=o,Tt(o),o;r=Mf(n),(a=mf.get(a))&&Rf(r,a),o=(e.ownerDocument||e).createElement(`link`),Tt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Id(o,`link`,r),t.state.loading|=4,Lf(o,n.precedence,e),t.instance=o;case`script`:return o=Pf(n.src),(a=e.querySelector(Ff(o)))?(t.instance=a,Tt(a),a):(r=n,(a=mf.get(o))&&(r=h({},n),zf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),Tt(a),Id(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Lf(r,n.precedence,e));return t.instance}function Lf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Rf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function zf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Bf=null;function Vf(e,t,n){if(Bf===null){var r=new Map,i=Bf=new Map;i.set(n,r)}else i=Bf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[yt]||a[pt]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Hf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Uf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Wf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Gf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Af(r.href),a=t.querySelector(jf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Jf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,Tt(a);return}a=t.ownerDocument||t,r=Mf(r),(i=mf.get(i))&&Rf(r,i),a=a.createElement(`link`),Tt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Id(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Jf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var Kf=0;function qf(e,t){return e.stylesheets&&e.count===0&&Xf(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&Kf===0&&(Kf=62500*zd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Kf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yf=null;function Xf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yf=new Map,t.forEach(Zf,e),Yf=null,Jf.call(e))}function Zf(e,t){if(!(t.state.loading&4)){var n=Yf.get(e);if(n)var r=n.get(null);else{n=new Map,Yf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Jf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Qf={$$typeof:S,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function $f(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rt(0),this.hiddenUpdates=rt(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function ep(e,t,n,r,i,a,o,s,c,l,u,d){return e=new $f(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=fi(3,null,null,t),e.current=a,a.stateNode=e,t=fa(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ga(a),e}function tp(e){return e?(e=ui,e):ui}function np(e,t,n,r,i,a){i=tp(i),r.context===null?r.context=i:r.pendingContext=i,r=qa(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Ja(e,r,t),n!==null&&(_u(n,e,t),Ya(n,e,t))}function rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ip(e,t){rp(e,t),(e=e.alternate)&&rp(e,t)}function ap(e){if(e.tag===13||e.tag===31){var t=si(e,67108864);t!==null&&_u(t,e,67108864),ip(e,67108864)}}function op(e){if(e.tag===13||e.tag===31){var t=hu();t=ct(t);var n=si(e,t);n!==null&&_u(n,e,t),ip(e,t)}}var sp=!0;function cp(e,t,n,r){var i=T.T;T.T=null;var a=E.p;try{E.p=2,up(e,t,n,r)}finally{E.p=a,T.T=i}}function lp(e,t,n,r){var i=T.T;T.T=null;var a=E.p;try{E.p=8,up(e,t,n,r)}finally{E.p=a,T.T=i}}function up(e,t,n,r){if(sp){var i=dp(r);if(i===null)Ed(e,t,r,fp,n),Cp(e,r);else if(Tp(i,e,t,n,r))r.stopPropagation();else if(Cp(e,r),t&4&&-1<Sp.indexOf(e)){for(;i!==null;){var a=St(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Qe(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-A(o);s.entanglements[1]|=c,o&=~c}ad(a),!(W&6)&&(ru=k()+500,od(0,!1))}}break;case 31:case 13:s=si(a,2),s!==null&&_u(s,a,2),Su(),ip(a,2)}if(a=dp(r),a===null&&Ed(e,t,r,fp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ed(e,t,r,null,n)}}function dp(e){return e=sn(e),pp(e)}var fp=null;function pp(e){if(fp=null,e=xt(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fp=e,null}function mp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Fe()){case Ie:return 2;case Le:return 8;case Re:case ze:return 32;case Be:return 268435456;default:return 32}default:return 32}}var hp=!1,gp=null,_p=null,vp=null,yp=new Map,bp=new Map,xp=[],Sp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Cp(e,t){switch(e){case`focusin`:case`focusout`:gp=null;break;case`dragenter`:case`dragleave`:_p=null;break;case`mouseover`:case`mouseout`:vp=null;break;case`pointerover`:case`pointerout`:yp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:bp.delete(t.pointerId)}}function wp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=St(t),t!==null&&ap(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Tp(e,t,n,r,i){switch(t){case`focusin`:return gp=wp(gp,e,t,n,r,i),!0;case`dragenter`:return _p=wp(_p,e,t,n,r,i),!0;case`mouseover`:return vp=wp(vp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return yp.set(a,wp(yp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,bp.set(a,wp(bp.get(a)||null,e,t,n,r,i)),!0}return!1}function Ep(e){var t=xt(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,dt(e.priority,function(){op(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,dt(e.priority,function(){op(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);on=r,n.target.dispatchEvent(r),on=null}else return t=St(n),t!==null&&ap(t),e.blockedOn=n,!1;t.shift()}return!0}function Op(e,t,n){Dp(e)&&n.delete(t)}function kp(){hp=!1,gp!==null&&Dp(gp)&&(gp=null),_p!==null&&Dp(_p)&&(_p=null),vp!==null&&Dp(vp)&&(vp=null),yp.forEach(Op),bp.forEach(Op)}function Ap(e,n){e.blockedOn===n&&(e.blockedOn=null,hp||(hp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kp)))}var jp=null;function Mp(e){jp!==e&&(jp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jp===e&&(jp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(pp(r||n)===null)continue;break}var a=St(n);a!==null&&(e.splice(t,3),t-=3,U(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Np(e){function t(t){return Ap(t,e)}gp!==null&&Ap(gp,e),_p!==null&&Ap(_p,e),vp!==null&&Ap(vp,e),yp.forEach(t),bp.forEach(t);for(var n=0;n<xp.length;n++){var r=xp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<xp.length&&(n=xp[0],n.blockedOn===null);)Ep(n),n.blockedOn===null&&xp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[mt]||null;if(typeof a==`function`)o||Mp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[mt]||null)s=o.formAction;else if(pp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Mp(n)}}}function Pp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Fp(e){this._internalRoot=e}Ip.prototype.render=Fp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;np(n,hu(),e,t,null,null)},Ip.prototype.unmount=Fp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;np(e.current,2,null,e,null,null),Su(),t[M]=null}};function Ip(e){this._internalRoot=e}Ip.prototype.unstable_scheduleHydration=function(e){if(e){var t=ut();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xp.length&&t!==0&&t<xp[n].priority;n++);xp.splice(n,0,e),n===0&&Ep(e)}};var Lp=n.version;if(Lp!==`19.2.3`)throw Error(i(527,Lp,`19.2.3`));E.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var Rp={bundleType:0,version:`19.2.3`,rendererPackageName:`react-dom`,currentDispatcherRef:T,reconcilerVersion:`19.2.3`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{Ue=zp.inject(Rp),We=zp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=qs,s=Js,c=Ys;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=ep(e,1,!1,null,null,n,r,null,o,s,c,Pp),e[M]=t.current,wd(e),new Fp(t)}})),g=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()})),_=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),v=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),y=e=>{let t=v(e);return t.charAt(0).toUpperCase()+t.slice(1)},b=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),x=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0},ee={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},S=u(),C=(0,S.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,S.createElement)(`svg`,{ref:c,...ee,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:b(`lucide`,i),...!a&&!x(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,S.createElement)(e,t)),...Array.isArray(a)?a:[a]])),w=(e,t)=>{let n=(0,S.forwardRef)(({className:n,...r},i)=>(0,S.createElement)(C,{ref:i,iconNode:t,className:b(`lucide-${_(y(e))}`,`lucide-${e}`,n),...r}));return n.displayName=y(e),n},te=w(`arrow-right`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),ne=w(`book-open`,[[`path`,{d:`M12 7v14`,key:`1akyts`}],[`path`,{d:`M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z`,key:`ruj8y`}]]),re=w(`box`,[[`path`,{d:`M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z`,key:`hh9hay`}],[`path`,{d:`m3.3 7 8.7 5 8.7-5`,key:`g66t2b`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}]]),ie=w(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),ae=w(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),oe=w(`chevron-up`,[[`path`,{d:`m18 15-6-6-6 6`,key:`153udz`}]]),se=w(`circle-arrow-up`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m16 12-4-4-4 4`,key:`177agl`}],[`path`,{d:`M12 16V8`,key:`1sbj14`}]]),ce=w(`circle-check-big`,[[`path`,{d:`M21.801 10A10 10 0 1 1 17 3.335`,key:`yps3ct`}],[`path`,{d:`m9 11 3 3L22 4`,key:`1pflzl`}]]),le=w(`copy`,[[`rect`,{width:`14`,height:`14`,x:`8`,y:`8`,rx:`2`,ry:`2`,key:`17jyea`}],[`path`,{d:`M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2`,key:`zix9uf`}]]),ue=w(`database`,[[`ellipse`,{cx:`12`,cy:`5`,rx:`9`,ry:`3`,key:`msslwz`}],[`path`,{d:`M3 5V19A9 3 0 0 0 21 19V5`,key:`1wlel7`}],[`path`,{d:`M3 12A9 3 0 0 0 21 12`,key:`mv7ke4`}]]),T=w(`download`,[[`path`,{d:`M12 15V3`,key:`m9g1x1`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}],[`path`,{d:`m7 10 5 5 5-5`,key:`brsn70`}]]),E=w(`eye-off`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),de=w(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),fe=w(`file-braces`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1`,key:`1oajmo`}],[`path`,{d:`M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1`,key:`mpwhp6`}]]),pe=w(`file-code`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`M10 12.5 8 15l2 2.5`,key:`1tg20x`}],[`path`,{d:`m14 12.5 2 2.5-2 2.5`,key:`yinavb`}]]),me=w(`layers`,[[`path`,{d:`M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z`,key:`zw3jo`}],[`path`,{d:`M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12`,key:`1wduqc`}],[`path`,{d:`M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17`,key:`kqbvx6`}]]),D=w(`lock-open`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 9.9-1`,key:`1mm8w8`}]]),O=w(`lock`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`,key:`fwvmzm`}]]),he=w(`octagon-alert`,[[`path`,{d:`M12 16h.01`,key:`1drbdi`}],[`path`,{d:`M12 8v4`,key:`1got3b`}],[`path`,{d:`M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z`,key:`1fd625`}]]),ge=w(`package`,[[`path`,{d:`M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z`,key:`1a0edw`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}],[`polyline`,{points:`3.29 7 12 12 20.71 7`,key:`ousv84`}],[`path`,{d:`m7.5 4.27 9 5.15`,key:`1c824w`}]]),_e=w(`pen-tool`,[[`path`,{d:`M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z`,key:`nt11vn`}],[`path`,{d:`m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18`,key:`15qc1e`}],[`path`,{d:`m2.3 2.3 7.286 7.286`,key:`1wuzzi`}],[`circle`,{cx:`11`,cy:`11`,r:`2`,key:`xmgehs`}]]),ve=w(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),ye=w(`save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),be=w(`scissors`,[[`circle`,{cx:`6`,cy:`6`,r:`3`,key:`1lh9wr`}],[`path`,{d:`M8.12 8.12 12 12`,key:`1alkpv`}],[`path`,{d:`M20 4 8.12 15.88`,key:`xgtan2`}],[`circle`,{cx:`6`,cy:`18`,r:`3`,key:`fqmcym`}],[`path`,{d:`M14.8 14.8 20 20`,key:`ptml3r`}]]),xe=w(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),Se=w(`settings`,[[`path`,{d:`M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915`,key:`1i5ecw`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),Ce=w(`sparkles`,[[`path`,{d:`M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z`,key:`1s2grr`}],[`path`,{d:`M20 2v4`,key:`1rf3ol`}],[`path`,{d:`M22 4h-4`,key:`gwowj6`}],[`circle`,{cx:`4`,cy:`20`,r:`2`,key:`6kqj1y`}]]),we=w(`toggle-left`,[[`circle`,{cx:`9`,cy:`12`,r:`3`,key:`u3jwor`}],[`rect`,{width:`20`,height:`14`,x:`2`,y:`5`,rx:`7`,key:`g7kal2`}]]),Te=w(`toggle-right`,[[`circle`,{cx:`15`,cy:`12`,r:`3`,key:`1afu0r`}],[`rect`,{width:`20`,height:`14`,x:`2`,y:`5`,rx:`7`,key:`g7kal2`}]]),Ee=w(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),De=w(`triangle-alert`,[[`path`,{d:`m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3`,key:`wmoenq`}],[`path`,{d:`M12 9v4`,key:`juzpu7`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]]),Oe=w(`upload`,[[`path`,{d:`M12 3v12`,key:`1x0j5s`}],[`path`,{d:`m17 8-5-5-5 5`,key:`7q97r8`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}]]),ke=w(`wrench`,[[`path`,{d:`M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z`,key:`1ngwbx`}]]),Ae=w(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]),je=w(`zap`,[[`path`,{d:`M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z`,key:`1xq2db`}]]),Me=c(g(),1),Ne=()=>void 0,Pe=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},k=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},Fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Pe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):k(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new Ie;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ie=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},Le=function(e){let t=Pe(e);return Fe.encodeByteArray(t,!0)},Re=function(e){return Le(e).replace(/\./g,``)},ze=function(e){try{return Fe.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};function Be(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}var Ve=()=>Be().__FIREBASE_DEFAULTS__,He=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Ue=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&ze(e[1]);return t&&JSON.parse(t)},We=()=>{try{return Ne()||Ve()||He()||Ue()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}};function Ge(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}function A(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function Ke(){return typeof window<`u`&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function qe(){let e=We()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function Je(){return typeof navigator<`u`&&navigator.userAgent===`Cloudflare-Workers`}function Ye(){let e=typeof chrome==`object`?chrome.runtime:typeof browser==`object`?browser.runtime:void 0;return typeof e==`object`&&e.id!==void 0}function Xe(){return typeof navigator==`object`&&navigator.product===`ReactNative`}function Ze(){let e=A();return e.indexOf(`MSIE `)>=0||e.indexOf(`Trident/`)>=0}function Qe(){return!qe()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function $e(){try{return typeof indexedDB==`object`}catch{return!1}}function et(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}var tt=`FirebaseError`,nt=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=tt,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}},rt=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?it(i,n):`Error`;return new nt(r,`${this.serviceName}: ${a} (${r}).`,n)}};function it(e,t){return e.replace(j,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var j=/\{\$([^}]+)}/g;function at(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+`=`+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+`=`+encodeURIComponent(r));return t.length?`&`+t.join(`&`):``}function ot(e){let t={};return e.replace(/^\?/,``).split(`&`).forEach(e=>{if(e){let[n,r]=e.split(`=`);t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function st(e){let t=e.indexOf(`?`);if(!t)return``;let n=e.indexOf(`#`,t);return e.substring(t,n>0?n:void 0)}function ct(e,t){let n=new lt(e,t);return n.subscribe.bind(n)}var lt=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw Error(`Missing Observer.`);r=ut(e,[`next`,`error`,`complete`])?e:{next:e,error:t,complete:n},r.next===void 0&&(r.next=dt),r.error===void 0&&(r.error=dt),r.complete===void 0&&(r.complete=dt);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],--this.observerCount,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(e){typeof console<`u`&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ut(e,t){if(typeof e!=`object`||!e)return!1;for(let n of t)if(n in e&&typeof e[n]==`function`)return!0;return!1}function dt(){}function ft(e){return e&&e._delegate?e._delegate:e}var pt=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},mt=[],M;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(M||={});var ht={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},gt=M.INFO,_t={[M.DEBUG]:`log`,[M.VERBOSE]:`log`,[M.INFO]:`info`,[M.WARN]:`warn`,[M.ERROR]:`error`},vt=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=_t[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},yt=class{constructor(e){this.name=e,this._logLevel=gt,this._logHandler=vt,this._userLogHandler=null,mt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in M))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?ht[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...e),this._logHandler(this,M.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...e),this._logHandler(this,M.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,M.INFO,...e),this._logHandler(this,M.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,M.WARN,...e),this._logHandler(this,M.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,M.ERROR,...e),this._logHandler(this,M.ERROR,...e)}},bt=(e,t)=>t.some(t=>e instanceof t),xt,St;function Ct(){return xt||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function wt(){return St||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var Tt=new WeakMap,Et=new WeakMap,Dt=new WeakMap,Ot=new WeakMap,kt=new WeakMap;function At(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(It(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&Tt.set(t,e)}).catch(()=>{}),kt.set(t,e),t}function jt(e){if(Et.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});Et.set(e,t)}var Mt={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return Et.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||Dt.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return It(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function Nt(e){Mt=e(Mt)}function Pt(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(N(this),t,...n);return Dt.set(r,t.sort?t.sort():[t]),It(r)}:wt().includes(e)?function(...t){return e.apply(N(this),t),It(Tt.get(this))}:function(...t){return It(e.apply(N(this),t))}}function Ft(e){return typeof e==`function`?Pt(e):(e instanceof IDBTransaction&&jt(e),bt(e,Ct())?new Proxy(e,Mt):e)}function It(e){if(e instanceof IDBRequest)return At(e);if(Ot.has(e))return Ot.get(e);let t=Ft(e);return t!==e&&(Ot.set(e,t),kt.set(t,e)),t}var N=e=>kt.get(e);function Lt(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=It(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(It(o.result),e.oldVersion,e.newVersion,It(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var Rt=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],zt=[`put`,`add`,`delete`,`clear`],Bt=new Map;function Vt(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(Bt.get(t))return Bt.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=zt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Rt.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return Bt.set(t,a),a}Nt(e=>({...e,get:(t,n,r)=>Vt(t,n)||e.get(t,n,r),has:(t,n)=>!!Vt(t,n)||e.has(t,n)}));var Ht=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Ut(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function Ut(e){return e.getComponent()?.type===`VERSION`}var Wt=`@firebase/app`,Gt=`0.14.7`,Kt=new yt(`@firebase/app`),qt=`@firebase/app-compat`,Jt=`@firebase/analytics-compat`,Yt=`@firebase/analytics`,Xt=`@firebase/app-check-compat`,Zt=`@firebase/app-check`,Qt=`@firebase/auth`,$t=`@firebase/auth-compat`,en=`@firebase/database`,tn=`@firebase/data-connect`,nn=`@firebase/database-compat`,rn=`@firebase/functions`,an=`@firebase/functions-compat`,on=`@firebase/installations`,sn=`@firebase/installations-compat`,cn=`@firebase/messaging`,ln=`@firebase/messaging-compat`,un=`@firebase/performance`,dn=`@firebase/performance-compat`,fn=`@firebase/remote-config`,pn=`@firebase/remote-config-compat`,mn=`@firebase/storage`,hn=`@firebase/storage-compat`,gn=`@firebase/firestore`,_n=`@firebase/ai`,vn=`@firebase/firestore-compat`,yn=`firebase`,bn=`12.8.0`,xn={[Wt]:`fire-core`,[qt]:`fire-core-compat`,[Yt]:`fire-analytics`,[Jt]:`fire-analytics-compat`,[Zt]:`fire-app-check`,[Xt]:`fire-app-check-compat`,[Qt]:`fire-auth`,[$t]:`fire-auth-compat`,[en]:`fire-rtdb`,[tn]:`fire-data-connect`,[nn]:`fire-rtdb-compat`,[rn]:`fire-fn`,[an]:`fire-fn-compat`,[on]:`fire-iid`,[sn]:`fire-iid-compat`,[cn]:`fire-fcm`,[ln]:`fire-fcm-compat`,[un]:`fire-perf`,[dn]:`fire-perf-compat`,[fn]:`fire-rc`,[pn]:`fire-rc-compat`,[mn]:`fire-gcs`,[hn]:`fire-gcs-compat`,[gn]:`fire-fst`,[vn]:`fire-fst-compat`,[_n]:`fire-vertex`,"fire-js":`fire-js`,[yn]:`fire-js-all`},Sn=new Map,Cn=new Map,wn=new Map;function Tn(e,t){try{e.container.addComponent(t)}catch(n){Kt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function En(e){let t=e.name;if(wn.has(t))return Kt.debug(`There were multiple attempts to register component ${t}.`),!1;wn.set(t,e);for(let t of Sn.values())Tn(t,e);for(let t of Cn.values())Tn(t,e);return!0}function Dn(e){return e==null?!1:e.settings!==void 0}var On=new rt(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),kn=bn;function An(e,t,n){let r=xn[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Kt.warn(e.join(` `));return}En(new pt(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}var jn=`firebase-heartbeat-database`,Mn=1,Nn=`firebase-heartbeat-store`,Pn=null;function Fn(){return Pn||=Lt(jn,Mn,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Nn)}catch(e){console.warn(e)}}}}).catch(e=>{throw On.create(`idb-open`,{originalErrorMessage:e.message})}),Pn}async function In(e){try{let t=(await Fn()).transaction(Nn),n=await t.objectStore(Nn).get(Rn(e));return await t.done,n}catch(e){if(e instanceof nt)Kt.warn(e.message);else{let t=On.create(`idb-get`,{originalErrorMessage:e?.message});Kt.warn(t.message)}}}async function Ln(e,t){try{let n=(await Fn()).transaction(Nn,`readwrite`);await n.objectStore(Nn).put(t,Rn(e)),await n.done}catch(e){if(e instanceof nt)Kt.warn(e.message);else{let t=On.create(`idb-set`,{originalErrorMessage:e?.message});Kt.warn(t.message)}}}function Rn(e){return`${e.name}!${e.options.appId}`}var zn=1024,Bn=30,Vn=class{constructor(e){this.container=e,this._heartbeatsCache=null,this._storage=new Wn(this.container.getProvider(`app`).getImmediate()),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=Hn();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>Bn){let e=Kn(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kt.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=Hn(),{heartbeatsToSend:t,unsentEntries:n}=Un(this._heartbeatsCache.heartbeats),r=Re(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Kt.warn(e),``}}};function Hn(){return new Date().toISOString().substring(0,10)}function Un(e,t=zn){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Gn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Wn=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $e()?et().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await In(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return Ln(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return Ln(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function Gn(e){return Re(JSON.stringify({version:2,heartbeats:e})).length}function Kn(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function qn(e){En(new pt(`platform-logger`,e=>new Ht(e),`PRIVATE`)),En(new pt(`heartbeat`,e=>new Vn(e),`PRIVATE`)),An(Wt,Gt,e),An(Wt,Gt,`esm2020`),An(`fire-js`,``)}qn(``),An(`firebase`,`12.8.0`,`app`);function Jn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Yn=Jn,Xn=new rt(`auth`,`Firebase`,Jn()),Zn=new yt(`@firebase/auth`);function Qn(e,...t){Zn.logLevel<=M.WARN&&Zn.warn(`Auth (${kn}): ${e}`,...t)}function $n(e,...t){Zn.logLevel<=M.ERROR&&Zn.error(`Auth (${kn}): ${e}`,...t)}function er(e,...t){throw ir(e,...t)}function tr(e,...t){return ir(e,...t)}function nr(e,t,n){return new rt(`auth`,`Firebase`,{...Yn(),[t]:n}).create(t,{appName:e.name})}function rr(e){return nr(e,`operation-not-supported-in-this-environment`,`Operations that alter the current user are not supported in conjunction with FirebaseServerApp`)}function ir(e,...t){if(typeof e!=`string`){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Xn.create(e,...t)}function P(e,t,...n){if(!e)throw ir(t,...n)}function ar(e){let t=`INTERNAL ASSERTION FAILED: `+e;throw $n(t),Error(t)}function or(e,t){e||ar(t)}function sr(){return cr()===`http:`||cr()===`https:`}function cr(){return typeof self<`u`&&self.location?.protocol||null}function lr(){return typeof navigator<`u`&&navigator&&`onLine`in navigator&&typeof navigator.onLine==`boolean`&&(sr()||Ye()||`connection`in navigator)?navigator.onLine:!0}function ur(){if(typeof navigator>`u`)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var dr=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,or(t>e,`Short delay should be less than long delay!`),this.isMobile=Ke()||Xe()}get(){return lr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function fr(e,t){or(e.emulator,`Emulator should always be set here`);let{url:n}=e.emulator;return t?`${n}${t.startsWith(`/`)?t.slice(1):t}`:n}var pr=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<`u`&&`fetch`in self)return self.fetch;if(typeof globalThis<`u`&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<`u`)return fetch;ar(`Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<`u`&&`Headers`in self)return self.Headers;if(typeof globalThis<`u`&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<`u`)return Headers;ar(`Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<`u`&&`Response`in self)return self.Response;if(typeof globalThis<`u`&&globalThis.Response)return globalThis.Response;if(typeof Response<`u`)return Response;ar(`Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}},mr={CREDENTIAL_MISMATCH:`custom-token-mismatch`,MISSING_CUSTOM_TOKEN:`internal-error`,INVALID_IDENTIFIER:`invalid-email`,MISSING_CONTINUE_URI:`internal-error`,INVALID_PASSWORD:`wrong-password`,MISSING_PASSWORD:`missing-password`,INVALID_LOGIN_CREDENTIALS:`invalid-credential`,EMAIL_EXISTS:`email-already-in-use`,PASSWORD_LOGIN_DISABLED:`operation-not-allowed`,INVALID_IDP_RESPONSE:`invalid-credential`,INVALID_PENDING_TOKEN:`invalid-credential`,FEDERATED_USER_ID_ALREADY_LINKED:`credential-already-in-use`,MISSING_REQ_TYPE:`internal-error`,EMAIL_NOT_FOUND:`user-not-found`,RESET_PASSWORD_EXCEED_LIMIT:`too-many-requests`,EXPIRED_OOB_CODE:`expired-action-code`,INVALID_OOB_CODE:`invalid-action-code`,MISSING_OOB_CODE:`internal-error`,CREDENTIAL_TOO_OLD_LOGIN_AGAIN:`requires-recent-login`,INVALID_ID_TOKEN:`invalid-user-token`,TOKEN_EXPIRED:`user-token-expired`,USER_NOT_FOUND:`user-token-expired`,TOO_MANY_ATTEMPTS_TRY_LATER:`too-many-requests`,PASSWORD_DOES_NOT_MEET_REQUIREMENTS:`password-does-not-meet-requirements`,INVALID_CODE:`invalid-verification-code`,INVALID_SESSION_INFO:`invalid-verification-id`,INVALID_TEMPORARY_PROOF:`invalid-credential`,MISSING_SESSION_INFO:`missing-verification-id`,SESSION_EXPIRED:`code-expired`,MISSING_ANDROID_PACKAGE_NAME:`missing-android-pkg-name`,UNAUTHORIZED_DOMAIN:`unauthorized-continue-uri`,INVALID_OAUTH_CLIENT_ID:`invalid-oauth-client-id`,ADMIN_ONLY_OPERATION:`admin-restricted-operation`,INVALID_MFA_PENDING_CREDENTIAL:`invalid-multi-factor-session`,MFA_ENROLLMENT_NOT_FOUND:`multi-factor-info-not-found`,MISSING_MFA_ENROLLMENT_ID:`missing-multi-factor-info`,MISSING_MFA_PENDING_CREDENTIAL:`missing-multi-factor-session`,SECOND_FACTOR_EXISTS:`second-factor-already-in-use`,SECOND_FACTOR_LIMIT_EXCEEDED:`maximum-second-factor-count-exceeded`,BLOCKING_FUNCTION_ERROR_RESPONSE:`internal-error`,RECAPTCHA_NOT_ENABLED:`recaptcha-not-enabled`,MISSING_RECAPTCHA_TOKEN:`missing-recaptcha-token`,INVALID_RECAPTCHA_TOKEN:`invalid-recaptcha-token`,INVALID_RECAPTCHA_ACTION:`invalid-recaptcha-action`,MISSING_CLIENT_TYPE:`missing-client-type`,MISSING_RECAPTCHA_VERSION:`missing-recaptcha-version`,INVALID_RECAPTCHA_VERSION:`invalid-recaptcha-version`,INVALID_REQ_TYPE:`invalid-req-type`},hr=[`/v1/accounts:signInWithCustomToken`,`/v1/accounts:signInWithEmailLink`,`/v1/accounts:signInWithIdp`,`/v1/accounts:signInWithPassword`,`/v1/accounts:signInWithPhoneNumber`,`/v1/token`],gr=new dr(3e4,6e4);function _r(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function vr(e,t,n,r,i={}){return yr(e,i,async()=>{let i={},a={};r&&(t===`GET`?a=r:i={body:JSON.stringify(r)});let o=at({key:e.config.apiKey,...a}).slice(1),s=await e._getAdditionalHeaders();s[`Content-Type`]=`application/json`,e.languageCode&&(s[`X-Firebase-Locale`]=e.languageCode);let c={method:t,headers:s,...i};return Je()||(c.referrerPolicy=`no-referrer`),e.emulatorConfig&&Ge(e.emulatorConfig.host)&&(c.credentials=`include`),pr.fetch()(await xr(e,e.config.apiHost,n,o),c)})}async function yr(e,t,n){e._canInitEmulator=!1;let r={...mr,...t};try{let t=new Cr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if(`needConfirmation`in a)throw wr(e,`account-exists-with-different-credential`,a);if(i.ok&&!(`errorMessage`in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(` : `);if(t===`FEDERATED_USER_ID_ALREADY_LINKED`)throw wr(e,`credential-already-in-use`,a);if(t===`EMAIL_EXISTS`)throw wr(e,`email-already-in-use`,a);if(t===`USER_DISABLED`)throw wr(e,`user-disabled`,a);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,`-`);if(n)throw nr(e,o,n);er(e,o)}}catch(t){if(t instanceof nt)throw t;er(e,`network-request-failed`,{message:String(t)})}}async function br(e,t,n,r,i={}){let a=await vr(e,t,n,r,i);return`mfaPendingCredential`in a&&er(e,`multi-factor-auth-required`,{_serverResponse:a}),a}async function xr(e,t,n,r){let i=`${t}${n}?${r}`,a=e,o=a.config.emulator?fr(e.config,i):`${e.config.apiScheme}://${i}`;return hr.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()===`COOKIE`)?a._getPersistence()._getFinalTarget(o).toString():o}function Sr(e){switch(e){case`ENFORCE`:return`ENFORCE`;case`AUDIT`:return`AUDIT`;case`OFF`:return`OFF`;default:return`ENFORCEMENT_STATE_UNSPECIFIED`}}var Cr=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(tr(this.auth,`network-request-failed`)),gr.get())})}};function wr(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=tr(e,t,r);return i.customData._tokenResponse=n,i}function Tr(e){return e!==void 0&&e.enterprise!==void 0}var Er=class{constructor(e){if(this.siteKey=``,this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw Error(`recaptchaKey undefined`);this.siteKey=e.recaptchaKey.split(`/`)[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Sr(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)===`ENFORCE`||this.getProviderEnforcementState(e)===`AUDIT`}isAnyProviderEnabled(){return this.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)||this.isProviderEnabled(`PHONE_PROVIDER`)}};async function Dr(e,t){return vr(e,`GET`,`/v2/recaptchaConfig`,_r(e,t))}async function Or(e,t){return vr(e,`POST`,`/v1/accounts:delete`,t)}async function kr(e,t){return vr(e,`POST`,`/v1/accounts:lookup`,t)}function Ar(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function jr(e,t=!1){let n=ft(e),r=await n.getIdToken(t),i=Nr(r);P(i&&i.exp&&i.auth_time&&i.iat,n.auth,`internal-error`);let a=typeof i.firebase==`object`?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:Ar(Mr(i.auth_time)),issuedAtTime:Ar(Mr(i.iat)),expirationTime:Ar(Mr(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Mr(e){return Number(e)*1e3}function Nr(e){let[t,n,r]=e.split(`.`);if(t===void 0||n===void 0||r===void 0)return $n(`JWT malformed, contained fewer than 3 sections`),null;try{let e=ze(n);return e?JSON.parse(e):($n(`Failed to decode base64 JWT payload`),null)}catch(e){return $n(`Caught error parsing JWT payload as JSON`,e?.toString()),null}}function Pr(e){let t=Nr(e);return P(t,`internal-error`),P(t.exp!==void 0,`internal-error`),P(t.iat!==void 0,`internal-error`),Number(t.exp)-Number(t.iat)}async function Fr(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof nt&&Ir(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function Ir({code:e}){return e===`auth/user-disabled`||e===`auth/user-token-expired`}var Lr=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code===`auth/network-request-failed`&&this.schedule(!0);return}this.schedule()}},Rr=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ar(this.lastLoginAt),this.creationTime=Ar(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function zr(e){let t=e.auth,n=await Fr(e,kr(t,{idToken:await e.getIdToken()}));P(n?.users.length,t,`internal-error`);let r=n.users[0];e._notifyReloadListener(r);let i=r.providerUserInfo?.length?Hr(r.providerUserInfo):[],a=Vr(e.providerData,i),o=e.isAnonymous,s=!(e.email&&r.passwordHash)&&!a?.length,c=o?s:!1,l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Rr(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(e,l)}async function Br(e){let t=ft(e);await zr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Vr(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function Hr(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||``,displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Ur(e,t){let n=await yr(e,{},async()=>{let n=at({grant_type:`refresh_token`,refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await xr(e,r,`/v1/token`,`key=${i}`),o=await e._getAdditionalHeaders();o[`Content-Type`]=`application/x-www-form-urlencoded`;let s={method:`POST`,headers:o,body:n};return e.emulatorConfig&&Ge(e.emulatorConfig.host)&&(s.credentials=`include`),pr.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Wr(e,t){return vr(e,`POST`,`/v2/accounts:revokeToken`,_r(e,t))}var Gr=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){P(e.idToken,`internal-error`),P(e.idToken!==void 0,`internal-error`),P(e.refreshToken!==void 0,`internal-error`);let t=`expiresIn`in e&&e.expiresIn!==void 0?Number(e.expiresIn):Pr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){P(e.length!==0,`internal-error`);let t=Pr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(P(this.refreshToken,e,`user-token-expired`),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await Ur(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new e;return r&&(P(typeof r==`string`,`internal-error`,{appName:t}),o.refreshToken=r),i&&(P(typeof i==`string`,`internal-error`,{appName:t}),o.accessToken=i),a&&(P(typeof a==`number`,`internal-error`,{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return ar(`not implemented`)}};function Kr(e,t){P(typeof e==`string`||e===void 0,`internal-error`,{appName:t})}var qr=class e{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId=`firebase`,this.proactiveRefresh=new Lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Rr(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await Fr(this,this.stsTokenManager.getToken(this.auth,e));return P(t,this.auth,`internal-error`),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jr(this,e)}reload(){return Br(this)}_assign(e){this!==e&&(P(this.uid===e.uid,this.auth,`internal-error`),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(t){let n=new e({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){P(!this.reloadListener,this.auth,`internal-error`),this.reloadListener=e,this.reloadUserInfo&&=(this._notifyReloadListener(this.reloadUserInfo),null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await zr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(rr(this.auth));let e=await this.getIdToken();return await Fr(this,Or(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||``}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:h}=n;P(d&&h,t,`internal-error`);let g=Gr.fromJSON(this.name,h);P(typeof d==`string`,t,`internal-error`),Kr(r,t.name),Kr(i,t.name),P(typeof f==`boolean`,t,`internal-error`),P(typeof p==`boolean`,t,`internal-error`),Kr(a,t.name),Kr(o,t.name),Kr(s,t.name),Kr(c,t.name),Kr(l,t.name),Kr(u,t.name);let _=new e({uid:d,auth:t,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:g,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(_.providerData=m.map(e=>({...e}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(t,n,r=!1){let i=new Gr;i.updateFromServerResponse(n);let a=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await zr(a),a}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];P(i.localId!==void 0,`internal-error`);let a=i.providerUserInfo===void 0?[]:Hr(i.providerUserInfo),o=!(i.email&&i.passwordHash)&&!a?.length,s=new Gr;s.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Rr(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,l),c}},Jr=new Map;function Yr(e){or(e instanceof Function,`Expected a class definition`);let t=Jr.get(e);return t?(or(t instanceof e,`Instance stored in cache mismatched with class`),t):(t=new e,Jr.set(e,t),t)}var Xr=class{constructor(){this.type=`NONE`,this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};Xr.type=`NONE`;var Zr=Xr;function Qr(e,t,n){return`firebase:${e}:${t}:${n}`}var $r=class e{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=Qr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Qr(`persistence`,r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e==`string`){let t=await kr(this.auth,{idToken:e}).catch(()=>void 0);return t?qr._fromGetAccountInfoResponse(this.auth,t,e):null}return qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r=`authUser`){if(!n.length)return new e(Yr(Zr),t,r);let i=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),a=i[0]||Yr(Zr),o=Qr(r,t.config.apiKey,t.name),s=null;for(let e of n)try{let n=await e._get(o);if(n){let r;if(typeof n==`string`){let e=await kr(t,{idToken:n}).catch(()=>void 0);if(!e)break;r=await qr._fromGetAccountInfoResponse(t,e,n)}else r=qr._fromJSON(t,n);e!==a&&(s=r),a=e;break}}catch{}let c=i.filter(e=>e._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new e(a,t,r):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==a)try{await e._remove(o)}catch{}})),new e(a,t,r))}};function ei(e){let t=e.toLowerCase();if(t.includes(`opera/`)||t.includes(`opr/`)||t.includes(`opios/`))return`Opera`;if(ii(t))return`IEMobile`;if(t.includes(`msie`)||t.includes(`trident/`))return`IE`;if(t.includes(`edge/`))return`Edge`;if(ti(t))return`Firefox`;if(t.includes(`silk/`))return`Silk`;if(oi(t))return`Blackberry`;if(si(t))return`Webos`;if(ni(t))return`Safari`;if((t.includes(`chrome/`)||ri(t))&&!t.includes(`edge/`))return`Chrome`;if(ai(t))return`Android`;{let t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(t?.length===2)return t[1]}return`Other`}function ti(e=A()){return/firefox\//i.test(e)}function ni(e=A()){let t=e.toLowerCase();return t.includes(`safari/`)&&!t.includes(`chrome/`)&&!t.includes(`crios/`)&&!t.includes(`android`)}function ri(e=A()){return/crios\//i.test(e)}function ii(e=A()){return/iemobile/i.test(e)}function ai(e=A()){return/android/i.test(e)}function oi(e=A()){return/blackberry/i.test(e)}function si(e=A()){return/webos/i.test(e)}function ci(e=A()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function li(){return Ze()&&document.documentMode===10}function ui(e=A()){return ci(e)||ai(e)||si(e)||oi(e)||/windows phone/i.test(e)||ii(e)}function di(e,t=[]){let n;switch(e){case`Browser`:n=ei(A());break;case`Worker`:n=`${ei(A())}-${e}`;break;default:n=e}let r=t.length?t.join(`,`):`FirebaseCore-web`;return`${n}/JsCore/${kn}/${r}`}var fi=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(let e of t)try{e()}catch{}throw this.auth._errorFactory.create(`login-blocked`,{originalMessage:e?.message})}}};async function pi(e,t={}){return vr(e,`GET`,`/v2/passwordPolicy`,_r(e,t))}var mi=6,hi=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??mi,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState===`ENFORCEMENT_STATE_UNSPECIFIED`&&(this.enforcementState=`OFF`),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join(``)??``,this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&=t.meetsMinPasswordLength??!0,t.isValid&&=t.meetsMaxPasswordLength??!0,t.isValid&&=t.containsLowercaseLetter??!0,t.isValid&&=t.containsUppercaseLetter??!0,t.isValid&&=t.containsNumericCharacter??!0,t.isValid&&=t.containsNonAlphanumericCharacter??!0,t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>=`a`&&n<=`z`,n>=`A`&&n<=`Z`,n>=`0`&&n<=`9`,this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||=t),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||=n),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||=r),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||=i)}},gi=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vi(this),this.idTokenSubscription=new vi(this),this.beforeStateQueue=new fi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $r.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await kr(this,{idToken:e}),n=await qr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn(`FirebaseServerApp could not login user with provided authIdToken: `,e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Dn(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);(!t||t===i)&&a?.user&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return P(this._popupRedirectResolver,this,`argument-error`),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zr(e)}catch(e){if(e?.code!==`auth/network-request-failed`)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ur()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(rr(this));let t=e?ft(e):null;return t&&P(t.auth.config.apiKey===this.config.apiKey,this,`invalid-user-token`),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&P(this.tenantId===e.tenantId,this,`tenant-id-mismatch`),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?t.validatePassword(e):Promise.reject(this._errorFactory.create(`unsupported-password-policy-schema-version`,{}))}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new hi(await pi(this));this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rt(`auth`,`Firebase`,e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:`apple.com`,tokenType:`ACCESS_TOKEN`,token:e,idToken:await this.currentUser.getIdToken()};this.tenantId!=null&&(t.tenantId=this.tenantId),await Wr(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Yr(e)||this._popupRedirectResolver;P(t,this,`argument-error`),this.redirectPersistenceManager=await $r.create(this,[Yr(t._redirectPersistence)],`redirectUser`),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i=typeof t==`function`?t:t.next.bind(t),a=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(P(o,this,`internal-error`),o.then(()=>{a||i(this.currentUser)}),typeof t==`function`){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}else{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,`internal-error`),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=di(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e[`X-Firebase-gmpid`]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e[`X-Firebase-Client`]=t);let n=await this._getAppCheckToken();return n&&(e[`X-Firebase-AppCheck`]=n),e}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Qn(`Error while retrieving App Check token: ${e.error}`),e?.token}};function _i(e){return ft(e)}var vi=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ct(e=>this.observer=e)}get next(){return P(this.observer,this.auth,`internal-error`),this.observer.next.bind(this.observer)}},yi={async loadJS(){throw Error(`Unable to load external scripts`)},recaptchaV2Script:``,recaptchaEnterpriseScript:``,gapiScript:``};function bi(e){yi=e}function xi(e){return yi.loadJS(e)}function Si(){return yi.recaptchaEnterpriseScript}function Ci(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var wi=class{constructor(){this.enterprise=new Ti}ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},Ti=class{ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},Ei=`recaptcha-enterprise`,Di=`NO_RECAPTCHA`,Oi=class{constructor(e){this.type=Ei,this.auth=_i(e)}async verify(e=`verify`,t=!1){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null)return e._agentRecaptchaConfig.siteKey;if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==void 0)return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Dr(e,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}).then(r=>{if(r.recaptchaKey===void 0)n(Error(`recaptcha Enterprise site key undefined`));else{let n=new Er(r);return e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;Tr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Di)})}):r(Error(`No reCAPTCHA enterprise script loaded.`))}return this.auth.settings.appVerificationDisabledForTesting?new wi().execute(`siteKey`,{action:`verify`}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&Tr(window.grecaptcha))r(n,e,i);else{if(typeof window>`u`){i(Error(`RecaptchaVerifier is only supported in browser`));return}let t=Si();t.length!==0&&(t+=n),xi(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}};async function ki(e,t,n,r=!1,i=!1){let a=new Oi(e),o;if(i)o=Di;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}let s={...t};if(n===`mfaSmsEnrollment`||n===`mfaSmsSignIn`){if(`phoneEnrollmentInfo`in s){let e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}else if(`phoneSignInInfo`in s){let e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:`CLIENT_TYPE_WEB`}),Object.assign(s,{recaptchaVersion:`RECAPTCHA_ENTERPRISE`}),s}async function Ai(e,t,n,r,i){return i===`EMAIL_PASSWORD_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)?r(e,await ki(e,t,n,n===`getOobCode`)):r(e,t).catch(async i=>i.code===`auth/missing-recaptcha-token`?(console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`),r(e,await ki(e,t,n,n===`getOobCode`))):Promise.reject(i)):i===`PHONE_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`PHONE_PROVIDER`)?r(e,await ki(e,t,n)).catch(async i=>e._getRecaptchaConfig()?.getProviderEnforcementState(`PHONE_PROVIDER`)===`AUDIT`&&(i.code===`auth/missing-recaptcha-token`||i.code===`auth/invalid-app-credential`)?(console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`),r(e,await ki(e,t,n,!1,!0))):Promise.reject(i)):r(e,await ki(e,t,n,!1,!0)):Promise.reject(i+` provider is not supported.`)}async function ji(e){let t=_i(e),n=new Er(await Dr(t,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}));t.tenantId==null?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new Oi(t).verify()}function Mi(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Yr);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}var Ni=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ar(`not implemented`)}_getIdTokenResponse(e){return ar(`not implemented`)}_linkToIdToken(e,t){return ar(`not implemented`)}_getReauthenticationResolver(e){return ar(`not implemented`)}};async function Pi(e,t){return vr(e,`POST`,`/v1/accounts:signUp`,t)}async function Fi(e,t){return br(e,`POST`,`/v1/accounts:signInWithPassword`,_r(e,t))}async function Ii(e,t){return br(e,`POST`,`/v1/accounts:signInWithEmailLink`,_r(e,t))}async function Li(e,t){return br(e,`POST`,`/v1/accounts:signInWithEmailLink`,_r(e,t))}var Ri=class e extends Ni{constructor(e,t,n,r=null){super(`password`,n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,`password`)}static _fromEmailAndCode(t,n,r=null){return new e(t,n,`emailLink`,r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e==`string`?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod===`password`)return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod===`emailLink`)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case`password`:return Ai(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signInWithPassword`,Fi,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return Ii(e,{email:this._email,oobCode:this._password});default:er(e,`internal-error`)}}async _linkToIdToken(e,t){switch(this.signInMethod){case`password`:return Ai(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,Pi,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return Li(e,{idToken:t,email:this._email,oobCode:this._password});default:er(e,`internal-error`)}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function F(e,t){return br(e,`POST`,`/v1/accounts:signInWithIdp`,_r(e,t))}var zi=`http://localhost`,Bi=class e extends Ni{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):er(`argument-error`),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let{providerId:n,signInMethod:r,...i}=typeof t==`string`?JSON.parse(t):t;if(!n||!r)return null;let a=new e(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return F(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,F(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,F(e,t)}buildRequest(){let e={requestUri:zi,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=at(t)}return e}};async function Vi(e,t){return vr(e,`POST`,`/v1/accounts:sendVerificationCode`,_r(e,t))}async function Hi(e,t){return br(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,_r(e,t))}async function Ui(e,t){let n=await br(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,_r(e,t));if(n.temporaryProof)throw wr(e,`account-exists-with-different-credential`,n);return n}var Wi={USER_NOT_FOUND:`user-not-found`};async function Gi(e,t){return br(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,_r(e,{...t,operation:`REAUTH`}),Wi)}var Ki=class e extends Ni{constructor(e){super(`phone`,`phone`),this.params=e}static _fromVerification(t,n){return new e({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new e({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(e){return Hi(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Ui(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Gi(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(t){typeof t==`string`&&(t=JSON.parse(t));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=t;return!r&&!n&&!i&&!a?null:new e({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}};function qi(e){switch(e){case`recoverEmail`:return`RECOVER_EMAIL`;case`resetPassword`:return`PASSWORD_RESET`;case`signIn`:return`EMAIL_SIGNIN`;case`verifyEmail`:return`VERIFY_EMAIL`;case`verifyAndChangeEmail`:return`VERIFY_AND_CHANGE_EMAIL`;case`revertSecondFactorAddition`:return`REVERT_SECOND_FACTOR_ADDITION`;default:return null}}function Ji(e){let t=ot(st(e)).link,n=t?ot(st(t)).deep_link_id:null,r=ot(st(e)).deep_link_id;return(r?ot(st(r)).link:null)||r||n||t||e}var Yi=class e{constructor(e){let t=ot(st(e)),n=t.apiKey??null,r=t.oobCode??null,i=qi(t.mode??null);P(n&&r&&i,`argument-error`),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(t){let n=Ji(t);try{return new e(n)}catch{return null}}},Xi=class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Ri._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=Yi.parseLink(t);return P(n,`argument-error`),Ri._fromEmailAndCode(e,n.code,n.tenantId)}};Xi.PROVIDER_ID=`password`,Xi.EMAIL_PASSWORD_SIGN_IN_METHOD=`password`,Xi.EMAIL_LINK_SIGN_IN_METHOD=`emailLink`;var Zi=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}},Qi=class extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},$i=class e extends Qi{constructor(){super(`facebook.com`)}static credential(t){return Bi._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};$i.FACEBOOK_SIGN_IN_METHOD=`facebook.com`,$i.PROVIDER_ID=`facebook.com`;var ea=class e extends Qi{constructor(){super(`google.com`),this.addScope(`profile`)}static credential(t,n){return Bi._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}};ea.GOOGLE_SIGN_IN_METHOD=`google.com`,ea.PROVIDER_ID=`google.com`;var ta=class e extends Qi{constructor(){super(`github.com`)}static credential(t){return Bi._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};ta.GITHUB_SIGN_IN_METHOD=`github.com`,ta.PROVIDER_ID=`github.com`;var na=class e extends Qi{constructor(){super(`twitter.com`)}static credential(t,n){return Bi._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch{return null}}};na.TWITTER_SIGN_IN_METHOD=`twitter.com`,na.PROVIDER_ID=`twitter.com`;var ra=class e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){return new e({user:await qr._fromIdTokenResponse(t,r,i),providerId:ia(r),_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){return await t._updateTokensIfNecessary(r,!0),new e({user:t,providerId:ia(r),_tokenResponse:r,operationType:n})}};function ia(e){return e.providerId?e.providerId:`phoneNumber`in e?`phone`:null}var aa=class e extends nt{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function oa(e,t,n,r){return(t===`reauthenticate`?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw n.code===`auth/multi-factor-auth-required`?aa._fromErrorAndOperation(e,n,t,r):n})}async function sa(e,t,n=!1){let r=await Fr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ra._forOperation(e,`link`,r)}async function ca(e,t,n=!1){let{auth:r}=e;if(Dn(r.app))return Promise.reject(rr(r));let i=`reauthenticate`;try{let a=await Fr(e,oa(r,i,t,e),n);P(a.idToken,r,`internal-error`);let o=Nr(a.idToken);P(o,r,`internal-error`);let{sub:s}=o;return P(e.uid===s,r,`user-mismatch`),ra._forOperation(e,i,a)}catch(e){throw e?.code===`auth/user-not-found`&&er(r,`user-mismatch`),e}}async function la(e,t,n=!1){if(Dn(e.app))return Promise.reject(rr(e));let r=`signIn`,i=await oa(e,r,t),a=await ra._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function ua(e,t){return vr(e,`POST`,`/v2/accounts/mfaEnrollment:start`,_r(e,t))}function da(e,t){return vr(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,_r(e,t))}function fa(e,t){return vr(e,`POST`,`/v2/accounts/mfaEnrollment:start`,_r(e,t))}function pa(e,t){return vr(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,_r(e,t))}var ma=`__sak`,ha=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ma,`1`),this.storage.removeItem(ma),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}},ga=1e3,_a=10,va=class extends ha{constructor(){super(()=>window.localStorage,`LOCAL`),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ui(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);li()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,_a):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent(`storage`,{key:e,oldValue:t,newValue:n}),!0)})},ga)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}attachListener(){window.addEventListener(`storage`,this.boundEventHandler)}detachListener(){window.removeEventListener(`storage`,this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};va.type=`LOCAL`;var ya=1e3;function ba(e){let t=e.replace(/[\\^$.*+?()[\]{}|]/g,`\\$&`),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function xa(e){return`${window.location.protocol===`http:`?`__dev_`:`__HOST-`}FIREBASE_${e.split(`:`)[3]}`}var Sa=class{constructor(){this.type=`COOKIE`,this.listenerUnsubscribes=new Map}_getFinalTarget(e){let t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set(`finalTarget`,e),t}async _isAvailable(){return typeof isSecureContext==`boolean`&&!isSecureContext||typeof navigator>`u`||typeof document>`u`?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;let t=xa(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:ba(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let t=xa(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch(`/__cookies__`,{method:`DELETE`}).catch(()=>void 0)}_addListener(e,t){if(!this._isAvailable())return;let n=xa(e);if(window.cookieStore){let e=(e=>{let r=e.changed.find(e=>e.name===n);r&&t(r.value),e.deleted.find(e=>e.name===n)&&t(null)});return this.listenerUnsubscribes.set(t,()=>window.cookieStore.removeEventListener(`change`,e)),window.cookieStore.addEventListener(`change`,e)}let r=ba(n),i=setInterval(()=>{let e=ba(n);e!==r&&(t(e),r=e)},ya);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){let n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}};Sa.type=`COOKIE`;var Ca=class extends ha{constructor(){super(()=>window.sessionStorage,`SESSION`)}_addListener(e,t){}_removeListener(e,t){}};Ca.type=`SESSION`;function wa(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}var Ta=class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;let r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:`ack`,eventId:n,eventType:r});let o=await wa(Array.from(a).map(async e=>e(t.origin,i)));t.ports[0].postMessage({status:`done`,eventId:n,eventType:r,response:o})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener(`message`,this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener(`message`,this.boundEventHandler)}};Ta.receivers=[];function Ea(e=``,t=10){let n=``;for(let e=0;e<t;e++)n+=Math.floor(Math.random()*10);return e+n}var Da=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener(`message`,e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r=typeof MessageChannel<`u`?new MessageChannel:null;if(!r)throw Error(`connection_unavailable`);let i,a;return new Promise((o,s)=>{let c=Ea(``,20);r.port1.start();let l=setTimeout(()=>{s(Error(`unsupported_event`))},n);a={messageChannel:r,onMessage(e){let t=e;if(t.data.eventId===c)switch(t.data.status){case`ack`:clearTimeout(l),i=setTimeout(()=>{s(Error(`timeout`))},3e3);break;case`done`:clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(Error(`invalid_response`));break}}},this.handlers.add(a),r.port1.addEventListener(`message`,a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function Oa(){return window}function ka(){return Oa().WorkerGlobalScope!==void 0&&typeof Oa().importScripts==`function`}async function Aa(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ja(){return navigator?.serviceWorker?.controller||null}function Ma(){return ka()?self:null}var Na=`firebaseLocalStorageDb`,Pa=1,Fa=`firebaseLocalStorage`,Ia=`fbase_key`,La=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener(`success`,()=>{e(this.request.result)}),this.request.addEventListener(`error`,()=>{t(this.request.error)})})}};function Ra(e,t){return e.transaction([Fa],t?`readwrite`:`readonly`).objectStore(Fa)}function za(){return new La(indexedDB.deleteDatabase(Na)).toPromise()}function Ba(){let e=indexedDB.open(Na,Pa);return new Promise((t,n)=>{e.addEventListener(`error`,()=>{n(e.error)}),e.addEventListener(`upgradeneeded`,()=>{let t=e.result;try{t.createObjectStore(Fa,{keyPath:Ia})}catch(e){n(e)}}),e.addEventListener(`success`,async()=>{let n=e.result;n.objectStoreNames.contains(Fa)?t(n):(n.close(),await za(),t(await Ba()))})})}async function Va(e,t,n){return new La(Ra(e,!0).put({[Ia]:t,value:n})).toPromise()}async function Ha(e,t){let n=await new La(Ra(e,!1).get(t)).toPromise();return n===void 0?null:n.value}function Ua(e,t){return new La(Ra(e,!0).delete(t)).toPromise()}var Wa=800,Ga=3,Ka=class{constructor(){this.type=`LOCAL`,this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||=await Ba(),this.db}async _withRetries(e){let t=0;for(;;)try{return await e(await this._openDb())}catch(e){if(t++>Ga)throw e;this.db&&=(this.db.close(),void 0)}}async initializeServiceWorkerMessaging(){return ka()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ta._getInstance(Ma()),this.receiver._subscribe(`keyChanged`,async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe(`ping`,async(e,t)=>[`keyChanged`])}async initializeSender(){if(this.activeServiceWorker=await Aa(),!this.activeServiceWorker)return;this.sender=new Da(this.activeServiceWorker);let e=await this.sender._send(`ping`,{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes(`keyChanged`)&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ja()!==this.activeServiceWorker))try{await this.sender._send(`keyChanged`,{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await Ba();return await Va(e,ma,`1`),await Ua(e,ma),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Va(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>Ha(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ua(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new La(Ra(e,!1).getAll()).toPromise());if(!e||this.pendingWrites!==0)return[];let t=[],n=new Set;if(e.length!==0)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Wa)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Ka.type=`LOCAL`;function qa(e,t){return vr(e,`POST`,`/v2/accounts/mfaSignIn:start`,_r(e,t))}function Ja(e,t){return vr(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,_r(e,t))}function Ya(e,t){return vr(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,_r(e,t))}Ci(`rcb`),new dr(3e4,6e4);var Xa=`recaptcha`;async function Za(e,t,n){if(!e._getRecaptchaConfig())try{await ji(e)}catch{console.log(`Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.`)}try{let r;if(r=typeof t==`string`?{phoneNumber:t}:t,`session`in r){let t=r.session;if(`phoneNumber`in r)return P(t.type===`enroll`,e,`internal-error`),(await Ai(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`}},`mfaSmsEnrollment`,async(e,t)=>t.phoneEnrollmentInfo.captchaResponse===Di?(P(n?.type===Xa,e,`argument-error`),ua(e,await Qa(e,t,n))):ua(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo;{P(t.type===`signin`,e,`internal-error`);let i=r.multiFactorHint?.uid||r.multiFactorUid;return P(i,e,`missing-multi-factor-info`),(await Ai(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:`CLIENT_TYPE_WEB`}},`mfaSmsSignIn`,async(e,t)=>t.phoneSignInInfo.captchaResponse===Di?(P(n?.type===Xa,e,`argument-error`),qa(e,await Qa(e,t,n))):qa(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}else return(await Ai(e,{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`},`sendVerificationCode`,async(e,t)=>t.captchaResponse===Di?(P(n?.type===Xa,e,`argument-error`),Vi(e,await Qa(e,t,n))):Vi(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).sessionInfo}finally{n?._reset()}}async function Qa(e,t,n){P(n.type===Xa,e,`argument-error`);let r=await n.verify();P(typeof r==`string`,e,`argument-error`);let i={...t};if(`phoneEnrollmentInfo`in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}else if(`phoneSignInInfo`in i){let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}else return Object.assign(i,{recaptchaToken:r}),i}var $a=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=_i(t)}verifyPhoneNumber(e,t){return Za(this.auth,e,ft(t))}static credential(e,t){return Ki._fromVerification(e,t)}static credentialFromResult(t){let n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?Ki._fromTokenResponse(t,n):null}};$a.PROVIDER_ID=`phone`,$a.PHONE_SIGN_IN_METHOD=`phone`;var eo=class extends Ni{constructor(e){super(`custom`,`custom`),this.params=e}_getIdTokenResponse(e){return F(e,this._buildIdpRequest())}_linkToIdToken(e,t){return F(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return F(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function to(e){return la(e.auth,new eo(e),e.bypassAuthState)}function no(e){let{auth:t,user:n}=e;return P(n,t,`internal-error`),ca(n,new eo(e),e.bypassAuthState)}async function ro(e){let{auth:t,user:n}=e;return P(n,t,`internal-error`),sa(n,new eo(e),e.bypassAuthState)}var io=class{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}let s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case`signInViaPopup`:case`signInViaRedirect`:return to;case`linkViaPopup`:case`linkViaRedirect`:return ro;case`reauthViaPopup`:case`reauthViaRedirect`:return no;default:er(this.auth,`internal-error`)}}resolve(e){or(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}},ao=new dr(2e3,1e4),oo=class e extends io{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return P(e,this.auth,`internal-error`),e}async onExecution(){or(this.filter.length===1,`Popup operations only handle one event`);let e=Ea();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(tr(this.auth,`web-storage-unsupported`))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(tr(this.auth,`cancelled-popup-request`))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,`popup-closed-by-user`))},8e3);return}this.pollId=window.setTimeout(e,ao.get())};e()}};oo.currentPopupAction=null,new dr(3e4,6e4),new dr(5e3,15e3);var so=class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case`enroll`:return this._finalizeEnroll(e,t.credential,n);case`signin`:return this._finalizeSignIn(e,t.credential);default:return ar(`unexpected MultiFactorSessionType`)}}},co=class e extends so{constructor(e){super(`phone`),this.credential=e}static _fromCredential(t){return new e(t)}_finalizeEnroll(e,t,n){return da(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Ja(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},lo=class{constructor(){}static assertion(e){return co._fromCredential(e)}};lo.FACTOR_ID=`phone`;var uo=class{static assertionForEnrollment(e,t){return fo._fromSecret(e,t)}static assertionForSignIn(e,t){return fo._fromEnrollmentId(e,t)}static async generateSecret(e){let t=e;P(t.user?.auth!==void 0,`internal-error`);let n=await fa(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return po._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}};uo.FACTOR_ID=`totp`;var fo=class e extends so{constructor(e,t,n){super(`totp`),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(t,n){return new e(n,void 0,t)}static _fromEnrollmentId(t,n){return new e(n,t)}async _finalizeEnroll(e,t,n){return P(this.secret!==void 0,e,`argument-error`),pa(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){P(this.enrollmentId!==void 0&&this.otp!==void 0,e,`argument-error`);let n={verificationCode:this.otp};return Ya(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}},po=class e{constructor(e,t,n,r,i,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return(mo(e)||mo(t))&&(n=!0),n&&(mo(e)&&(e=this.auth.currentUser?.email||`unknownuser`),mo(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function mo(e){return e===void 0||e?.length===0}var ho=`@firebase/auth`,go=`1.12.0`,_o=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,`dependent-sdk-initialized-before-auth`)}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function I(e){switch(e){case`Node`:return`node`;case`ReactNative`:return`rn`;case`Worker`:return`webworker`;case`Cordova`:return`cordova`;case`WebExtension`:return`web-extension`;default:return}}function vo(e){En(new pt(`auth`,(t,{options:n})=>{let r=t.getProvider(`app`).getImmediate(),i=t.getProvider(`heartbeat`),a=t.getProvider(`app-check-internal`),{apiKey:o,authDomain:s}=r.options;P(o&&!o.includes(`:`),`invalid-api-key`,{appName:r.name});let c=new gi(r,i,a,{apiKey:o,authDomain:s,clientPlatform:e,apiHost:`identitytoolkit.googleapis.com`,tokenApiHost:`securetoken.googleapis.com`,apiScheme:`https`,sdkClientVersion:di(e)});return Mi(c,n),c},`PUBLIC`).setInstantiationMode(`EXPLICIT`).setInstanceCreatedCallback((e,t,n)=>{e.getProvider(`auth-internal`).initialize()})),En(new pt(`auth-internal`,e=>(e=>new _o(e))(_i(e.getProvider(`auth`).getImmediate())),`PRIVATE`).setInstantiationMode(`EXPLICIT`)),An(ho,go,I(e)),An(ho,go,`esm2020`)}function yo(){return document.getElementsByTagName(`head`)?.[0]??document}bi({loadJS(e){return new Promise((t,n)=>{let r=document.createElement(`script`);r.setAttribute(`src`,e),r.onload=t,r.onerror=e=>{let t=tr(`internal-error`);t.customData=e,n(t)},r.type=`text/javascript`,r.charset=`UTF-8`,yo().appendChild(r)})},gapiScript:`https://apis.google.com/js/api.js`,recaptchaV2Script:`https://www.google.com/recaptcha/api.js`,recaptchaEnterpriseScript:`https://www.google.com/recaptcha/enterprise.js?render=`}),vo(`Browser`);var bo=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},xo={},So;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;let r=Array(16);if(typeof t==`string`)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a=e.g[3],o;o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.v=function(e,t){t===void 0&&(t=e.length);let n=t-this.blockSize,r=this.C,a=this.h,o=0;for(;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.A=function(){var e=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=this.o*8;for(var n=e.length-8;n<e.length;++n)e[n]=t&255,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&e<128?a(e,function(e){return new o([e|0],e<0?-1:0)}):new o([e|0],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(e<0)return g(l(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,t<2||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(e.indexOf(`-`)>=0)throw Error(`number format error: interior "-" character`);let n=l(t**8),r=d;for(let a=0;a<e.length;a+=8){var i=Math.min(8,e.length-a);let o=parseInt(e.substring(a,a+i),t);i<8?(i=l(t**+i),r=r.j(i).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,e<2||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);let t=l(e**6);var n=this;let r=``;for(;;){let i=b(n,t).g;n=_(n,i.j(t));let a=((n.g.length>0?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;a.length<6;)a=`0`+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(let t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(this.i(i)&65535)+(e.i(i)&65535),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(this.l(p)<0&&e.l(p)<0)return l(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,a=this.i(r)&65535,o=e.i(t)>>>16,s=e.i(t)&65535;n[2*r+2*t]+=a*s,v(n,2*r+2*t),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+1]+=a*o,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;r.l(e)<=0;)n=x(n),r=x(r);var i=ee(n,1),a=ee(r,1);for(r=ee(r,2),n=ee(n,2);!m(r);){var o=a.add(r);o.l(e)<=0&&(i=i.add(n),a=o),r=ee(r,1),n=ee(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=r<=48?1:2**(r-48),a=l(n),o=a.j(t);h(o)||o.l(e)>0;)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.B=function(e){return b(this,e).h},e.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function ee(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,xo.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,So=xo.Integer=o}).apply(bo===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:bo);var Co=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},wo={},To,Eo,Do,Oo,ko,Ao,jo,Mo;(function(){var e,t=Object.defineProperty;function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof Co==`object`&&Co];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}i(`Symbol.dispose`,function(e){return e||Symbol(`Symbol.dispose`)}),i(`Array.prototype.values`,function(e){return e||function(){return this[Symbol.iterator]()}}),i(`Object.entries`,function(e){return e||function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}});var a=a||{},o=this||self;function s(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return l=c,l.apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var f=typeof AsyncContext<`u`&&typeof AsyncContext.Snapshot==`function`?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function p(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if(n=n==`object`?r?Array.isArray(r)?`array`:n:`null`:n,n==`array`||n==`object`&&typeof r.length==`number`){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}class h{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function g(e){o.setTimeout(()=>{throw e},0)}function _(){var e=S;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class v{constructor(){this.h=this.g=null}add(e,t){let n=y.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var y=new h(()=>new b,e=>e.reset());class b{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,ee=!1,S=new v,C=()=>{let e=Promise.resolve(void 0);x=()=>{e.then(w)}};function w(){for(var e;e=_();){try{e.h.call(e.g)}catch(e){g(e)}var t=y;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}ee=!1}function te(){this.u=this.u,this.C=this.C}te.prototype.u=!1,te.prototype.dispose=function(){this.u||(this.u=!0,this.N())},te.prototype[Symbol.dispose]=function(){this.dispose()},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};o.addEventListener(`test`,e,t),o.removeEventListener(`test`,e,t)}catch{}return e}();function ie(e){return/^[\s\xa0]*$/.test(e)}function ae(e,t){ne.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e&&this.init(e,t)}d(ae,ne),ae.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget,t||(n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var oe=`closure_listenable_`+(Math.random()*1e6|0),se=0;function ce(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++se,this.da=this.fa=!1}function le(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ue(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function T(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function E(e){let t={};for(let n in e)t[n]=e[n];return t}let de=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function fe(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<de.length;t++)n=de[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function pe(e){this.src=e,this.g={},this.h=0}pe.prototype.add=function(e,t,n,r,i){let a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);let o=D(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):(t=new ce(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function me(e,t){let n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=i>=0)&&Array.prototype.splice.call(r,i,1),a&&(le(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function D(e,t,n,r){for(let i=0;i<e.length;++i){let a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var O=`closure_lm_`+(Math.random()*1e6|0),he={};function ge(e,t,n,r,i){if(r&&r.once)return ye(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)ge(e,t[a],n,r,i);return null}return n=Ee(n),e&&e[oe]?e.J(t,n,s(r)?!!r.capture:!!r,i):_e(e,t,n,!1,r,i)}function _e(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);let o=s(i)?!!i.capture:!!i,c=we(e);if(c||(e[O]=c=new pe(e)),n=c.add(t,n,r,o,a),n.proxy)return n;if(r=ve(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)re||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Se(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function ve(){function e(n){return t.call(e.src,e.listener,n)}let t=Ce;return e}function ye(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)ye(e,t[a],n,r,i);return null}return n=Ee(n),e&&e[oe]?e.K(t,n,s(r)?!!r.capture:!!r,i):_e(e,t,n,!0,r,i)}function be(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)be(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=Ee(n),e&&e[oe]?(e=e.i,a=String(t).toString(),a in e.g&&(t=e.g[a],n=D(t,n,r,i),n>-1&&(le(t[n]),Array.prototype.splice.call(t,n,1),t.length==0&&(delete e.g[a],e.h--)))):(e&&=we(e))&&(t=e.g[t.toString()],e=-1,t&&(e=D(t,n,r,i)),(n=e>-1?t[e]:null)&&xe(n))}function xe(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[oe])me(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Se(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=we(t))?(me(n,e),n.h==0&&(n.src=null,t[O]=null)):le(e)}}}function Se(e){return e in he?he[e]:he[e]=`on`+e}function Ce(e,t){if(e.da)e=!0;else{t=new ae(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&xe(e),e=n.call(r,t)}return e}function we(e){return e=e[O],e instanceof pe?e:null}var Te=`__closure_events_fn_`+(Math.random()*1e9>>>0);function Ee(e){return typeof e==`function`?e:(e[Te]||(e[Te]=function(t){return e.handleEvent(t)}),e[Te])}function De(){te.call(this),this.i=new pe(this),this.M=this,this.G=null}d(De,te),De.prototype[oe]=!0,De.prototype.removeEventListener=function(e,t,n,r){be(this,e,t,n,r)};function Oe(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new ne(t,e);else if(t instanceof ne)t.target=t.target||e;else{var i=t;t=new ne(r,e),fe(t,i)}i=!0;let a,o;if(n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=ke(a,r,!0,t)&&i;if(a=t.g=e,i=ke(a,r,!0,t)&&i,i=ke(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=ke(a,r,!1,t)&&i}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)le(n[e]);delete e.g[t],e.h--}}this.G=null},De.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},De.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ke(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){let o=t[a];if(o&&!o.da&&o.capture==n){let t=o.listener,n=o.ha||o.src;o.fa&&me(e.i,o),i=t.call(n,r)!==!1&&i}}return i&&!r.defaultPrevented}function Ae(e,t){if(typeof e!=`function`)if(e&&typeof e.handleEvent==`function`)e=l(e.handleEvent,e);else throw Error(`Invalid listener argument`);return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}function je(e){e.g=Ae(()=>{e.g=null,e.i&&(e.i=!1,je(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class Me extends te{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(e){te.call(this),this.h=e,this.g={}}d(Ne,te);var Pe=[];function k(e){ue(e.g,function(e,t){this.g.hasOwnProperty(t)&&xe(e)},e),e.g={}}Ne.prototype.N=function(){Ne.Z.N.call(this),k(this)},Ne.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var Fe=o.JSON.stringify,Ie=o.JSON.parse,Le=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function Re(){}function ze(){}var Be={OPEN:`a`,hb:`b`,ERROR:`c`,tb:`d`};function Ve(){ne.call(this,`d`)}d(Ve,ne);function He(){ne.call(this,`c`)}d(He,ne);var Ue={},We=null;function Ge(){return We||=new De}Ue.Ia=`serverreachability`;function A(e){ne.call(this,Ue.Ia,e)}d(A,ne);function Ke(e){let t=Ge();Oe(t,new A(t))}Ue.STAT_EVENT=`statevent`;function qe(e,t){ne.call(this,Ue.STAT_EVENT,e),this.stat=t}d(qe,ne);function Je(e){let t=Ge();Oe(t,new qe(t,e))}Ue.Ja=`timingevent`;function Ye(e,t){ne.call(this,Ue.Ja,e),this.size=t}d(Ye,ne);function Xe(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return o.setTimeout(function(){e()},t)}function Ze(){this.g=!0}Ze.prototype.ua=function(){this.g=!1};function Qe(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o=``,s=a.split(`&`);for(let e=0;e<s.length;e++){var c=s[e].split(`=`);if(c.length>1){let e=c[0];c=c[1];let t=e.split(`_`);o=t.length>=2&&t[1]==`type`?o+(e+`=`+c+`&`):o+(e+`=redacted&`)}}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function $e(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function et(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+nt(e,n)+(r?` `+r:``)})}function tt(e,t){e.info(function(){return`TIMEOUT: `+t})}Ze.prototype.info=function(){};function nt(e,t){if(!e.g)return t;if(!t)return null;try{let a=JSON.parse(t);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if(i!=`noop`&&i!=`stop`&&i!=`close`)for(let e=1;e<r.length;e++)r[e]=``}}}}return Fe(a)}catch{return t}}var rt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},it={ib:`complete`,Fb:`success`,ERROR:`error`,Ga:`abort`,xb:`ready`,yb:`readystatechange`,TIMEOUT:`timeout`,sb:`incrementaldata`,wb:`progress`,lb:`downloadprogress`,Nb:`uploadprogress`},j;function at(){}d(at,Re),at.prototype.g=function(){return new XMLHttpRequest},j=new at;function ot(e){return encodeURIComponent(String(e))}function st(e){var t=1;e=e.split(`:`);let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function ct(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new Ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lt}function lt(){this.i=null,this.g=``,this.h=!1}var ut={},dt={};function ft(e,t,n){e.M=1,e.A=Lt(Nt(t)),e.u=n,e.R=!0,pt(e,null)}function pt(e,t){e.F=Date.now(),gt(e),e.B=Nt(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),Zt(n.i,`t`,r),e.C=0,n=e.j.L,e.h=new lt,e.g=Un(e.j,n?t:null,!e.u),e.P>0&&(e.O=new Me(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i=`readystatechange`;Array.isArray(i)||(i&&(Pe[0]=i.toString()),i=Pe);for(let e=0;e<i.length;e++){let a=ge(n,i[e],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.J?E(e.J):{},e.u?(e.v||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.B,e.v,e.u,t)):(e.v=`GET`,e.g.ea(e.B,e.v,null,t)),Ke(),Qe(e.i,e.v,e.B,e.l,e.S,e.u)}ct.prototype.ba=function(e){e=e.target;let t=this.O;t&&bn(e)==3?t.j():this.Y(e)},ct.prototype.Y=function(e){try{if(e==this.g)a:{let s=bn(this.g),c=this.g.ya(),l=this.g.ca();if(!(s<3)&&(s!=3||this.g&&(this.h.h||this.g.la()||xn(this.g)))){this.K||s!=4||c==7||Ke(c==8||l<=0?3:2),vt(this);var t=this.g.ca();this.X=t;var n=mt(this);if(this.o=t==200,$e(this.i,this.v,this.B,this.l,this.S,s,t),this.o){if(this.U&&!this.L){b:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!ie(r)){var a=r;break b}}a=null}if(e=a)et(this.i,this.l,e,`Initial handshake response via X-HTTP-Initial-Response`),this.L=!0,xt(this,e);else{this.o=!1,this.m=3,Je(12),bt(this),yt(this);break a}}if(this.R){e=!0;let t;for(;!this.K&&this.C<n.length;)if(t=ht(this,n),t==dt){s==4&&(this.m=4,Je(14),e=!1),et(this.i,this.l,null,`[Incomplete Response]`);break}else if(t==ut){this.m=4,Je(15),et(this.i,this.l,n,`[Invalid Chunk]`),e=!1;break}else et(this.i,this.l,t,null),xt(this,t);if(M(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),s!=4||n.length!=0||this.h.h||(this.m=1,Je(16),e=!1),this.o=this.o&&e,!e)et(this.i,this.l,n,`[Invalid Chunked Response]`),bt(this),yt(this);else if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info(`Great, no buffering proxy detected. Bytes received: `+n.length),Fn(o),o.P=!0,Je(11))}}else et(this.i,this.l,n,null),xt(this,n);s==4&&bt(this),this.o&&!this.K&&(s==4?Rn(this.j,this):(this.o=!1,gt(this)))}else Sn(this.g),t==400&&n.indexOf(`Unknown SID`)>0?(this.m=3,Je(12)):(this.m=0,Je(13)),bt(this),yt(this)}}}catch{}};function mt(e){if(!M(e))return e.g.la();let t=xn(e.g);if(t===``)return``;let n=``,r=t.length,i=bn(e.g)==4;if(!e.h.i){if(typeof TextDecoder>`u`)return bt(e),yt(e),``;e.h.i=new o.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}function M(e){return e.g?e.v==`GET`&&e.M!=2&&e.j.Aa:!1}function ht(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?dt:(n=Number(t.substring(n,r)),isNaN(n)?ut:(r+=1,r+n>t.length?dt:(t=t.slice(r,r+n),e.C=r+n,t)))}ct.prototype.cancel=function(){this.K=!0,bt(this)};function gt(e){e.T=Date.now()+e.H,_t(e,e.H)}function _t(e,t){if(e.D!=null)throw Error(`WatchDog timer not null`);e.D=Xe(l(e.aa,e),t)}function vt(e){e.D&&=(o.clearTimeout(e.D),null)}ct.prototype.aa=function(){this.D=null;let e=Date.now();e-this.T>=0?(tt(this.i,this.B),this.M!=2&&(Ke(),Je(17)),bt(this),this.m=2,yt(this)):_t(this,this.T-e)};function yt(e){e.j.I==0||e.K||Rn(e.j,e)}function bt(e){vt(e);var t=e.O;t&&typeof t.dispose==`function`&&t.dispose(),e.O=null,k(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function xt(e,t){try{var n=e.j;if(n.I!=0&&(n.g==e||Et(n.h,e))){if(!e.L&&Et(n.h,e)&&n.I==3){try{var r=n.Ba.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)Ln(n),En(n);else break a;Pn(n),Je(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=Xe(l(n.Va,n),6e3));Tt(n.h)<=1&&n.ta&&(n.ta=void 0)}else Bn(n,11)}else if((e.L||n.g==e)&&Ln(n),!ie(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t],u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],n.I==2)if(l[0]==`c`){n.M=l[1],n.ba=l[2];let t=l[3];t!=null&&(n.ka=t,n.j.info(`VER=`+n.ka));let i=l[4];i!=null&&(n.za=i,n.j.info(`SVER=`+n.za));let u=l[5];u!=null&&typeof u==`number`&&u>0&&(r=1.5*u,n.O=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(Dt(a,a.h),null))}if(r.G){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.wa=e,N(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.T+`ms`)),r=n;var o=e;if(r.na=Hn(r,r.L?r.ba:null,r.W),o.L){Ot(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(vt(s),gt(s)),r.g=o}else Nn(r);n.i.length>0&&On(n)}else l[0]!=`stop`&&l[0]!=`close`||Bn(n,7);else n.I==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?Bn(n,7):Tn(n):l[0]!=`noop`&&n.l&&n.l.qa(l),n.A=0)}}Ke(4)}catch{}}var St=class{constructor(e,t){this.g=e,this.map=t}};function Ct(e){this.l=e||10,o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType(`navigation`),e=e.length>0&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wt(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Tt(e){return e.h?1:e.g?e.g.size:0}function Et(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Dt(e,t){e.g?e.g.add(t):e.h=t}function Ot(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Ct.prototype.cancel=function(){if(this.i=kt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function kt(e){if(e.h!=null)return e.i.concat(e.h.G);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return p(e.i)}var At=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function jt(e,t){if(e){e=e.split(`&`);for(let n=0;n<e.length;n++){let r=e[n].indexOf(`=`),i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g,` `)):``)}}}function Mt(e){this.g=this.o=this.j=``,this.u=null,this.m=this.h=``,this.l=!1;let t;e instanceof Mt?(this.l=e.l,Pt(this,e.j),this.o=e.o,this.g=e.g,Ft(this,e.u),this.h=e.h,It(this,Qt(e.i)),this.m=e.m):e&&(t=String(e).match(At))?(this.l=!1,Pt(this,t[1]||``,!0),this.o=Rt(t[2]||``),this.g=Rt(t[3]||``,!0),Ft(this,t[4]),this.h=Rt(t[5]||``,!0),It(this,t[6]||``,!0),this.m=Rt(t[7]||``)):(this.l=!1,this.i=new Kt(null,this.l))}Mt.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(zt(t,Vt,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push(zt(t,Vt,!0),`@`),e.push(ot(n).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.u,n!=null&&e.push(`:`,String(n))),(n=this.h)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push(zt(n,n.charAt(0)==`/`?Ut:Ht,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,zt(n,Gt)),e.join(``)},Mt.prototype.resolve=function(e){let t=Nt(this),n=!!e.j;n?Pt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=e.u!=null;var r=e.h;if(n)Ft(t,e.u);else if(n=!!e.h){if(r.charAt(0)!=`/`)if(this.g&&!this.h)r=`/`+r;else{var i=t.h.lastIndexOf(`/`);i!=-1&&(r=t.h.slice(0,i+1)+r)}if(i=r,i==`..`||i==`.`)r=``;else if(i.indexOf(`./`)!=-1||i.indexOf(`/.`)!=-1){r=i.lastIndexOf(`/`,0)==0,i=i.split(`/`);let e=[];for(let t=0;t<i.length;){let n=i[t++];n==`.`?r&&t==i.length&&e.push(``):n==`..`?((e.length>1||e.length==1&&e[0]!=``)&&e.pop(),r&&t==i.length&&e.push(``)):(e.push(n),r=!0)}r=e.join(`/`)}else r=i}return n?t.h=r:n=e.i.toString()!==``,n?It(t,Qt(e.i)):n=!!e.m,n&&(t.m=e.m),t};function Nt(e){return new Mt(e)}function Pt(e,t,n){e.j=n?Rt(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Ft(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error(`Bad port number `+t);e.u=t}else e.u=null}function It(e,t,n){t instanceof Kt?(e.i=t,en(e.i,e.l)):(n||(t=zt(t,Wt)),e.i=new Kt(t,e.l))}function N(e,t,n){e.i.set(t,n)}function Lt(e){return N(e,`zx`,Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),e}function Rt(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function zt(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,Bt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function Bt(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var Vt=/[#\/\?@]/g,Ht=/[#\?:]/g,Ut=/[#\?]/g,Wt=/[#\?@]/g,Gt=/#/g;function Kt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qt(e){e.g||(e.g=new Map,e.h=0,e.i&&jt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=Kt.prototype,e.add=function(e,t){qt(this),this.i=null,e=$t(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Jt(e,t){qt(e),t=$t(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Yt(e,t){return qt(e),t=$t(e,t),e.g.has(t)}e.forEach=function(e,t){qt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)};function Xt(e,t){qt(e);let n=[];if(typeof t==`string`)Yt(e,t)&&(n=n.concat(e.g.get($t(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}e.set=function(e,t){return qt(this),this.i=null,e=$t(this,e),Yt(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=Xt(this,e),e.length>0?String(e[0]):t):t};function Zt(e,t,n){Jt(e,t),n.length>0&&(e.i=null,e.g.set($t(e,t),p(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=ot(n);n=Xt(this,n);for(let t=0;t<n.length;t++){let r=i;n[t]!==``&&(r+=`=`+ot(n[t])),e.push(r)}}return this.i=e.join(`&`)};function Qt(e){let t=new Kt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function $t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function en(e,t){t&&!e.j&&(qt(e),e.i=null,e.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&(Jt(this,t),Zt(this,n,e))},e)),e.j=t}function tn(e,t){let n=new Ze;if(o.Image){let r=new Image;r.onload=u(rn,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=u(rn,n,`TestLoadImage: error`,!1,t,r),r.onabort=u(rn,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=u(rn,n,`TestLoadImage: timeout`,!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function nn(e,t){let n=new Ze,r=new AbortController,i=setTimeout(()=>{r.abort(),rn(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?rn(n,`TestPingServer: ok`,!0,t):rn(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),rn(n,`TestPingServer: error`,!1,t)})}function rn(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function an(){this.g=new Le}function on(e){this.i=e.Sb||null,this.h=e.ab||!1}d(on,Re),on.prototype.g=function(){return new sn(this.i,this.h)};function sn(e,t){De.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F=`GET`,this.D=``,this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(sn,De),e=sn.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.F=e,this.D=t,this.readyState=1,un(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);if(this.v.signal.aborted)throw this.abort(),Error(`Request was aborted.`);this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ln(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,un(this)),this.g&&(this.readyState=3,un(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(o.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.B=new TextDecoder;cn(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))};function cn(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ln(this):un(this),this.readyState==3&&cn(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,ln(this))},e.Na=function(e){this.g&&(this.response=e,ln(this))},e.ga=function(){this.g&&ln(this)};function ln(e){e.readyState=4,e.l=null,e.j=null,e.B=null,un(e)}e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function un(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(sn.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function dn(e){let t=``;return ue(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function fn(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=dn(n),typeof e==`string`||N(e,t,n))}function pn(e){De.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D=``,this.o=0,this.l=``,this.j=this.B=this.v=this.A=!1,this.m=null,this.F=``,this.H=!1}d(pn,De);var mn=/^https?$/i,hn=[`POST`,`PUT`];e=pn.prototype,e.Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():j.g(),this.g.onreadystatechange=f(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){gn(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(hn,t,void 0)>=0)||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),`withCredentials`in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&=(clearTimeout(this.m),null),this.v=!0,this.g.send(e),this.v=!1}catch(e){gn(this,e)}};function gn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,_n(e),yn(e)}function _n(e){e.A||(e.A=!0,Oe(e,`complete`),Oe(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,Oe(this,`complete`),Oe(this,`abort`),yn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yn(this,!0)),pn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?vn(this):this.Xa())},e.Xa=function(){vn(this)};function vn(e){if(e.h&&a!==void 0){if(e.v&&bn(e)==4)setTimeout(e.Ca.bind(e),0);else if(Oe(e,`readystatechange`),bn(e)==4){e.h=!1;try{let a=e.ca();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){let t=String(e.D).match(At)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!mn.test(t?t.toLowerCase():``)}n=r}if(n)Oe(e,`complete`),Oe(e,`success`);else{e.o=6;try{var i=bn(e)>2?e.g.statusText:``}catch{i=``}e.l=i+` [`+e.ca()+`]`,_n(e)}}finally{yn(e)}}}}function yn(e,t){if(e.g){e.m&&=(clearTimeout(e.m),null);let n=e.g;e.g=null,t||Oe(e,`ready`);try{n.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function bn(e){return e.g?e.g.readyState:0}e.ca=function(){try{return bn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Ie(t)}};function xn(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.F){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Sn(e){let t={};e=(e.g&&bn(e)>=2&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(ie(e[r]))continue;var n=st(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}T(t,function(e){return e.join(`, `)})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l==`string`?this.l:String(this.l)};function Cn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function wn(e){this.za=0,this.i=[],this.j=new Ze,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cn(`failFast`,!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cn(`baseRetryDelayMs`,5e3,e),this.Za=Cn(`retryDelaySeedMs`,1e4,e),this.Ta=Cn(`forwardChannelMaxRetries`,2,e),this.va=Cn(`forwardChannelRequestTimeoutMs`,2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M=``,this.h=new Ct(e&&e.concurrentRequestLimit),this.Ba=new an,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=wn.prototype,e.ka=8,e.I=1,e.connect=function(e,t,n,r){Je(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=Hn(this,null,this.W),On(this)};function Tn(e){if(Dn(e),e.I==3){var t=e.V++,n=Nt(e.J);if(N(n,`SID`,e.M),N(n,`RID`,t),N(n,`TYPE`,`terminate`),jn(e,n),t=new ct(e,e.j,t),t.M=2,t.A=Lt(Nt(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),``)}catch{}!n&&o.Image&&(new Image().src=t.A,n=!0),n||(t.g=Un(t.j,null),t.g.ea(t.A)),t.F=Date.now(),gt(t)}Vn(e)}function En(e){e.g&&=(Fn(e),e.g.cancel(),null)}function Dn(e){En(e),e.v&&=(o.clearTimeout(e.v),null),Ln(e),e.h.cancel(),e.m&&=(typeof e.m==`number`&&o.clearTimeout(e.m),null)}function On(e){if(!wt(e.h)&&!e.m){e.m=!0;var t=e.Ea;x||C(),ee||=(x(),!0),S.add(t,e),e.D=0}}function kn(e,t){return Tt(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.G.concat(e.i),!0):e.I==1||e.I==2||e.D>=(e.Sa?0:e.Ta)?!1:(e.m=Xe(l(e.Ea,e,t),zn(e,e.D)),e.D++,!0)}e.Ea=function(e){if(this.m)if(this.m=null,this.I==1){if(!e){this.V=Math.floor(Math.random()*1e5),e=this.V++;let i=new ct(this,this.j,e),a=this.o;if(this.U&&(a?(a=E(a),fe(a,this.U)):a=this.U),this.u!==null||this.R||(i.J=a,a=null),this.S)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,t>4096){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=Mn(this,i,t),n=Nt(this.J),N(n,`RID`,e),N(n,`CVER`,22),this.G&&N(n,`X-HTTP-Session-Id`,this.G),jn(this,n),a&&(this.R?t=`headers=`+ot(dn(a))+`&`+t:this.u&&fn(n,this.u,a)),Dt(this.h,i),this.Ra&&N(n,`TYPE`,`init`),this.S?(N(n,`$req`,t),N(n,`SID`,`null`),i.U=!0,ft(i,n,null)):ft(i,n,t),this.I=2}}else this.I==3&&(e?An(this,e):this.i.length==0||wt(this.h)||An(this))};function An(e,t){var n=t?t.l:e.V++;let r=Nt(e.J);N(r,`SID`,e.M),N(r,`RID`,n),N(r,`AID`,e.K),jn(e,r),e.u&&e.o&&fn(r,e.u,e.o),n=new ct(e,e.j,n,e.D+1),e.u===null&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Mn(e,n,1e3),n.H=Math.round(e.va*.5)+Math.round(e.va*.5*Math.random()),Dt(e.h,n),ft(n,r,t)}function jn(e,t){e.H&&ue(e.H,function(e,n){N(t,n,e)}),e.l&&ue({},function(e,n){N(t,n,e)})}function Mn(e,t,n){n=Math.min(e.i.length,n);let r=e.l?l(e.l.Ka,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?n>0?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let c=!0;for(let l=0;l<n;l++){var a=i[l].g;let n=i[l].map;if(a-=t,a<0)t=Math.max(0,i[l].g-100),c=!1;else try{a=`req`+a+`_`||``;try{var o=n instanceof Map?n:Object.entries(n);for(let[t,n]of o){let r=n;s(n)&&(r=Fe(n)),e.push(a+t+`=`+encodeURIComponent(r))}}catch(t){throw e.push(a+`type=_badmap`),t}}catch{r&&r(n)}}if(c){o=e.join(`&`);break a}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Nn(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;x||C(),ee||=(x(),!0),S.add(t,e),e.A=0}}function Pn(e){return e.g||e.v||e.A>=3?!1:(e.Y++,e.v=Xe(l(e.Da,e),zn(e,e.A)),e.A++,!0)}e.Da=function(){if(this.v=null,In(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var e=4*this.T;this.j.info(`BP detection timer enabled: `+e),this.B=Xe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.P=!0,Je(10),En(this),In(this))};function Fn(e){e.B!=null&&(o.clearTimeout(e.B),e.B=null)}function In(e){e.g=new ct(e,e.j,`rpc`,e.Y),e.u===null&&(e.g.J=e.o),e.g.P=0;var t=Nt(e.na);N(t,`RID`,`rpc`),N(t,`SID`,e.M),N(t,`AID`,e.K),N(t,`CI`,e.F?`0`:`1`),!e.F&&e.ia&&N(t,`TO`,e.ia),N(t,`TYPE`,`xmlhttp`),jn(e,t),e.u&&e.o&&fn(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=Lt(Nt(t)),n.u=null,n.R=!0,pt(n,e)}e.Va=function(){this.C!=null&&(this.C=null,En(this),Pn(this),Je(19))};function Ln(e){e.C!=null&&(o.clearTimeout(e.C),e.C=null)}function Rn(e,t){var n=null;if(e.g==t){Ln(e),Fn(e),e.g=null;var r=2}else if(Et(e.h,t))n=t.G,Ot(e.h,t),r=1;else return;if(e.I!=0){if(t.o)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;r=Ge(),Oe(r,new Ye(r,n)),On(e)}else Nn(e);else if(i=t.m,i==3||i==0&&t.X>0||!(r==1&&kn(e,t)||r==2&&Pn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Bn(e,5);break;case 4:Bn(e,10);break;case 3:Bn(e,6);break;default:Bn(e,2)}}}function zn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function Bn(e,t){if(e.j.info(`Error code `+t),t==2){var n=l(e.bb,e),r=e.Ua;let t=!r;r=new Mt(r||`//www.google.com/images/cleardot.gif`),o.location&&o.location.protocol==`http`||Pt(r,`https`),Lt(r),t?tn(r.toString(),n):nn(r.toString(),n)}else Je(2);e.I=0,e.l&&e.l.pa(t),Vn(e),Dn(e)}e.bb=function(e){e?(this.j.info(`Successfully pinged google.com`),Je(2)):(this.j.info(`Failed to ping google.com`),Je(1))};function Vn(e){if(e.I=0,e.ja=[],e.l){let t=kt(e.h);(t.length!=0||e.i.length!=0)&&(m(e.ja,t),m(e.ja,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.oa()}}function Hn(e,t,n){var r=n instanceof Mt?Nt(n):new Mt(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Ft(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;let e=new Mt(null);r&&Pt(e,r),t&&(e.g=t),i&&Ft(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&N(r,n,t),N(r,`VER`,e.ka),jn(e,r),r}function Un(e,t,n){if(t&&!e.L)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Aa&&!e.ma?new pn(new on({ab:n})):new pn(e.ma),t.Fa(e.L),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wn(){}e=Wn.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Gn(){}Gn.prototype.g=function(e,t){return new Kn(e,t)};function Kn(e,t){De.call(this),this.g=new wn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e[`X-WebChannel-Client-Profile`]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!ie(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!ie(t)&&(this.g.G=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Yn(this)}d(Kn,De),Kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){Tn(this.g)},Kn.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Fe(e),e=n);t.i.push(new St(t.Ya++,e)),t.I==3&&On(t)},Kn.prototype.N=function(){this.g.l=null,delete this.j,Tn(this.g),delete this.g,Kn.Z.N.call(this)};function qn(e){Ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}d(qn,Ve);function Jn(){He.call(this),this.status=1}d(Jn,He);function Yn(e){this.g=e}d(Yn,Wn),Yn.prototype.ra=function(){Oe(this.g,`a`)},Yn.prototype.qa=function(e){Oe(this.g,new qn(e))},Yn.prototype.pa=function(e){Oe(this.g,new Jn)},Yn.prototype.oa=function(){Oe(this.g,`b`)},Gn.prototype.createWebChannel=Gn.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,Mo=wo.createWebChannelTransport=function(){return new Gn},jo=wo.getStatEventTarget=function(){return Ge()},Ao=wo.Event=Ue,ko=wo.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,Oo=wo.ErrorCode=rt,it.COMPLETE=`complete`,Do=wo.EventType=it,ze.EventType=Be,Be.OPEN=`a`,Be.CLOSE=`b`,Be.ERROR=`c`,Be.MESSAGE=`d`,De.prototype.listen=De.prototype.J,Eo=wo.WebChannel=ze,wo.FetchXmlHttpFactory=on,pn.prototype.listenOnce=pn.prototype.K,pn.prototype.getLastError=pn.prototype.Ha,pn.prototype.getLastErrorCode=pn.prototype.ya,pn.prototype.getStatus=pn.prototype.ca,pn.prototype.getResponseJson=pn.prototype.La,pn.prototype.getResponseText=pn.prototype.la,pn.prototype.send=pn.prototype.ea,pn.prototype.setWithCredentials=pn.prototype.Fa,To=wo.XhrIo=pn}).apply(Co===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:Co);var No=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};No.UNAUTHENTICATED=new No(null),No.GOOGLE_CREDENTIALS=new No(`google-credentials-uid`),No.FIRST_PARTY=new No(`first-party-uid`),No.MOCK_USER=new No(`mock-user`);var Po=`12.8.0`;function Fo(e){Po=e}var Io=new yt(`@firebase/firestore`);function Lo(){return Io.logLevel}function L(e,...t){if(Io.logLevel<=M.DEBUG){let n=t.map(Bo);Io.debug(`Firestore (${Po}): ${e}`,...n)}}function Ro(e,...t){if(Io.logLevel<=M.ERROR){let n=t.map(Bo);Io.error(`Firestore (${Po}): ${e}`,...n)}}function zo(e,...t){if(Io.logLevel<=M.WARN){let n=t.map(Bo);Io.warn(`Firestore (${Po}): ${e}`,...n)}}function Bo(e){if(typeof e==`string`)return e;try{return function(e){return JSON.stringify(e)}(e)}catch{return e}}function R(e,t,n){let r=`Unexpected state`;typeof t==`string`?r=t:n=t,Vo(e,r,n)}function Vo(e,t,n){let r=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=` CONTEXT: `+JSON.stringify(n)}catch{r+=` CONTEXT: `+n}throw Ro(r),Error(r)}function Ho(e,t,n,r){let i=`Unexpected state`;typeof n==`string`?i=n:r=n,e||Vo(t,i,r)}function Uo(e,t){return e}var z={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},B=class extends nt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},Wo=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},Go=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},Ko=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(No.UNAUTHENTICATED)))}shutdown(){}},qo=class{constructor(e){this.t=e,this.currentUser=No.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ho(this.o===void 0,42304);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new Wo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Wo,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{L(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(L(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new Wo)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(Ho(typeof t.accessToken==`string`,31837,{l:t}),new Go(t.accessToken,this.currentUser)):null:(L(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ho(e===null||typeof e==`string`,2055,{h:e}),new No(e)}},Jo=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type=`FirstParty`,this.user=No.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set(`X-Goog-AuthUser`,this.P);let e=this.A();return e&&this.R.set(`Authorization`,e),this.T&&this.R.set(`X-Goog-Iam-Authorization-Token`,this.T),this.R}},Yo=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Jo(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(No.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},Xo=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},Zo=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ho(this.o===void 0,3512);let n=e=>{e.error!=null&&L(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,L(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{L(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):L(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){if(this.p)return Promise.resolve(new Xo(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ho(typeof e.token==`string`,44558,{tokenResult:e}),this.m=e.token,new Xo(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Qo(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}var $o=class{static newId(){let e=``;for(;e.length<20;){let t=Qo(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function V(e,t){return e<t?-1:e>t?1:0}function es(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return rs(n)===rs(i)?V(n,i):rs(n)?1:-1}return V(e.length,t.length)}var ts=55296,ns=57343;function rs(e){let t=e.charCodeAt(0);return t>=ts&&t<=ns}function is(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}var as=`__name__`,os=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&R(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&R(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let r=e.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return V(t.length,n.length)}static compareSegments(t,n){let r=e.isNumericId(t),i=e.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?e.extractNumericId(t).compare(e.extractNumericId(n)):es(t,n)}static isNumericId(e){return e.startsWith(`__id`)&&e.endsWith(`__`)}static extractNumericId(e){return So.fromString(e.substring(4,e.length-2))}},ss=class e extends os{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new B(z.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},cs=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ls=class e extends os{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return cs.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===`__name__`}static keyField(){return new e([as])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new B(z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new B(z.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new B(z.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new B(z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},H=class e{constructor(e){this.path=e}static fromPath(t){return new e(ss.fromString(t))}static fromName(t){return new e(ss.fromString(t).popFirst(5))}static empty(){return new e(ss.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ss.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ss.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new ss(t.slice()))}};function us(e,t,n,r){if(!0===t&&!0===r)throw new B(z.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ds(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function fs(e,t){let n={typeString:e};return t&&(n.value=t),n}function ps(e,t){if(!ds(e))throw new B(z.INVALID_ARGUMENT,`JSON must be an object`);let n;for(let r in t)if(t[r]){let i=t[r].typeString,a=`value`in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new B(z.INVALID_ARGUMENT,n);return!0}var ms=-62135596800,hs=1e6,gs=class e{static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3);return new e(n,Math.floor((t-1e3*n)*hs))}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new B(z.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<ms||e>=253402300800)throw new B(z.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hs}_compareTo(e){return this.seconds===e.seconds?V(this.nanoseconds,e.nanoseconds):V(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ps(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}valueOf(){let e=this.seconds-ms;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}};gs._jsonSchemaVersion=`firestore/timestamp/1.0`,gs._jsonSchema={type:fs(`string`,gs._jsonSchemaVersion),seconds:fs(`number`),nanoseconds:fs(`number`)};var _s=class e{static fromTimestamp(t){return new e(t)}static min(){return new e(new gs(0,0))}static max(){return new e(new gs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},vs=-1,ys=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};ys.UNKNOWN_ID=-1;function bs(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new Ss(_s.fromTimestamp(r===1e9?new gs(n+1,0):new gs(n,r)),H.empty(),t)}function xs(e){return new Ss(e.readTime,e.key,vs)}var Ss=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(_s.min(),H.empty(),vs)}static max(){return new e(_s.max(),H.empty(),vs)}};function Cs(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=H.comparator(e.documentKey,t.documentKey),n===0?V(e.largestBatchId,t.largestBatchId):n):n}var ws=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}},U=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&R(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}};function Ts(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}function Es(e){return e.name===`IndexedDbTransactionError`}var Ds=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};Ds.ce=-1;var Os=-1;function ks(e){return e==null}function As(e){return e===0&&1/e==-1/0}function js(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ms(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ns(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ps=class e{constructor(e,t){this.comparator=e,this.root=t||Is.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Is.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Is.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fs(this.root,e,this.comparator,!0)}},Fs=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Is=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw R(43730,{key:this.key,value:this.value});if(this.right.isRed())throw R(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw R(27949);return e+(this.isRed()?0:1)}};Is.EMPTY=null,Is.RED=!0,Is.BLACK=!1,Is.EMPTY=new class{constructor(){this.size=0}get key(){throw R(57766)}get value(){throw R(16141)}get color(){throw R(16727)}get left(){throw R(29726)}get right(){throw R(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Is(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ls=class e{constructor(e){this.comparator=e,this.data=new Ps(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Rs(this.data.getIterator())}getIteratorFrom(e){return new Rs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},Rs=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}},zs=class e{constructor(e){this.fields=e,e.sort(ls.comparator)}static empty(){return new e([])}unionWith(t){let n=new Ls(ls.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return is(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},Bs=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},Vs=class e{constructor(e){this.binaryString=e}static fromBase64String(t){return new e(function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new Bs(`Invalid base64 string: `+e):e}}(t))}static fromUint8Array(t){return new e(function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return V(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Vs.EMPTY_BYTE_STRING=new Vs(``);var Hs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(e){if(Ho(!!e,39018),typeof e==`string`){let t=0,n=Hs.exec(e);if(Ho(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ws(e.seconds),nanos:Ws(e.nanos)}}function Ws(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function Gs(e){return typeof e==`string`?Vs.fromBase64String(e):Vs.fromUint8Array(e)}var Ks=`server_timestamp`,qs=`__type__`,Js=`__previous_value__`,Ys=`__local_write_time__`;function Xs(e){return(e?.mapValue?.fields||{})[qs]?.stringValue===Ks}function Zs(e){let t=e.mapValue.fields[Js];return Xs(t)?Zs(t):t}function Qs(e){let t=Us(e.mapValue.fields[Ys].timestampValue);return new gs(t.seconds,t.nanos)}var $s=`(default)`,ec=class e{constructor(e,t){this.projectId=e,this.database=t||$s}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===$s}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}};function tc(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new B(z.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new ec(e.options.projectId,t)}var nc=`__type__`,rc=`__max__`,ic={mapValue:{fields:{__type__:{stringValue:rc}}}},ac=`__vector__`,oc=`value`;function sc(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?Xs(e)?4:bc(e)?9007199254740991:vc(e)?10:11:R(28295,{value:e})}function cc(e,t){if(e===t)return!0;let n=sc(e);if(n!==sc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qs(e).isEqual(Qs(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=Us(e.timestampValue),r=Us(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Gs(e.bytesValue).isEqual(Gs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ws(e.geoPointValue.latitude)===Ws(t.geoPointValue.latitude)&&Ws(e.geoPointValue.longitude)===Ws(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return Ws(e.integerValue)===Ws(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=Ws(e.doubleValue),r=Ws(t.doubleValue);return n===r?As(n)===As(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return is(e.arrayValue.values||[],t.arrayValue.values||[],cc);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(js(n)!==js(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!cc(n[e],r[e])))return!1;return!0}(e,t);default:return R(52216,{left:e})}}function lc(e,t){return(e.values||[]).find((e=>cc(e,t)))!==void 0}function uc(e,t){if(e===t)return 0;let n=sc(e),r=sc(t);if(n!==r)return V(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return V(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=Ws(e.integerValue||e.doubleValue),r=Ws(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return dc(e.timestampValue,t.timestampValue);case 4:return dc(Qs(e),Qs(t));case 5:return es(e.stringValue,t.stringValue);case 6:return function(e,t){let n=Gs(e),r=Gs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=V(n[e],r[e]);if(t!==0)return t}return V(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=V(Ws(e.latitude),Ws(t.latitude));return n===0?V(Ws(e.longitude),Ws(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return fc(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[oc]?.arrayValue,a=r[oc]?.arrayValue,o=V(i?.values?.length||0,a?.values?.length||0);return o===0?fc(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ic.mapValue&&t===ic.mapValue)return 0;if(e===ic.mapValue)return 1;if(t===ic.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=es(r[e],a[e]);if(t!==0)return t;let o=uc(n[r[e]],i[a[e]]);if(o!==0)return o}return V(r.length,a.length)}(e.mapValue,t.mapValue);default:throw R(23264,{he:n})}}function dc(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return V(e,t);let n=Us(e),r=Us(t),i=V(n.seconds,r.seconds);return i===0?V(n.nanos,r.nanos):i}function fc(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=uc(n[e],r[e]);if(t)return t}return V(n.length,r.length)}function pc(e){return mc(e)}function mc(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=Us(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return Gs(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return H.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=mc(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${mc(e.fields[i])}`;return n+`}`}(e.mapValue):R(61005,{value:e})}function hc(e){return!!e&&`integerValue`in e}function gc(e){return!!e&&`arrayValue`in e}function _c(e){return!!e&&`mapValue`in e}function vc(e){return(e?.mapValue?.fields||{})[nc]?.stringValue===ac}function yc(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return Ms(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=yc(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yc(e.arrayValue.values[n]);return t}return{...e}}function bc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===rc}var xc=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!_c(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yc(t)}setAll(e){let t=ls.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=yc(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());_c(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];_c(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ms(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(yc(this.value))}},Sc=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,_s.min(),_s.min(),_s.min(),xc.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,_s.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,_s.min(),_s.min(),xc.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,_s.min(),_s.min(),xc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_s.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_s.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},Cc=class{constructor(e,t){this.position=e,this.inclusive=t}};function wc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?H.comparator(H.fromName(o.referenceValue),n.key):uc(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function Tc(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cc(e.position[n],t.position[n]))return!1;return!0}var Ec=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function Dc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Oc=class{},kc=class e extends Oc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new Lc(t,n,r):n===`array-contains`?new Vc(t,r):n===`in`?new Hc(t,r):n===`not-in`?new Uc(t,r):n===`array-contains-any`?new Wc(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new Rc(e,n):new zc(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&t.nullValue===void 0&&this.matchesComparison(uc(t,this.value)):t!==null&&sc(this.value)===sc(t)&&this.matchesComparison(uc(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return R(47266,{operator:this.op})}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ac=class e extends Oc{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(t,n){return new e(t,n)}matches(e){return jc(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function jc(e){return e.op===`and`}function Mc(e){return Nc(e)&&jc(e)}function Nc(e){for(let t of e.filters)if(t instanceof Ac)return!1;return!0}function Pc(e){if(e instanceof kc)return e.field.canonicalString()+e.op.toString()+pc(e.value);if(Mc(e))return e.filters.map((e=>Pc(e))).join(`,`);{let t=e.filters.map((e=>Pc(e))).join(`,`);return`${e.op}(${t})`}}function Fc(e,t){return e instanceof kc?function(e,t){return t instanceof kc&&e.op===t.op&&e.field.isEqual(t.field)&&cc(e.value,t.value)}(e,t):e instanceof Ac?function(e,t){return t instanceof Ac&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&Fc(n,t.filters[r])),!0):!1}(e,t):void R(19439)}function Ic(e){return e instanceof kc?function(e){return`${e.field.canonicalString()} ${e.op} ${pc(e.value)}`}(e):e instanceof Ac?function(e){return e.op.toString()+` {`+e.getFilters().map(Ic).join(` ,`)+`}`}(e):`Filter`}var Lc=class extends kc{constructor(e,t,n){super(e,t,n),this.key=H.fromName(n.referenceValue)}matches(e){let t=H.comparator(e.key,this.key);return this.matchesComparison(t)}},Rc=class extends kc{constructor(e,t){super(e,`in`,t),this.keys=Bc(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},zc=class extends kc{constructor(e,t){super(e,`not-in`,t),this.keys=Bc(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function Bc(e,t){return(t.arrayValue?.values||[]).map((e=>H.fromName(e.referenceValue)))}var Vc=class extends kc{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return gc(t)&&lc(t.arrayValue,this.value)}},Hc=class extends kc{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&lc(this.value.arrayValue,t)}},Uc=class extends kc{constructor(e,t){super(e,`not-in`,t)}matches(e){if(lc(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!lc(this.value.arrayValue,t)}},Wc=class extends kc{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!gc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>lc(this.value.arrayValue,e)))}},Gc=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}};function Kc(e,t=null,n=[],r=[],i=null,a=null,o=null){return new Gc(e,t,n,r,i,a,o)}function qc(e){let t=Uo(e);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>Pc(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),ks(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>pc(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>pc(e))).join(`,`)),t.Te=e}return t.Te}function Jc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Dc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Fc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Tc(e.startAt,t.startAt)&&Tc(e.endAt,t.endAt)}var Yc=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}};function Xc(e,t,n,r,i,a,o,s){return new Yc(e,t,n,r,i,a,o,s)}function Zc(e){return new Yc(e)}function Qc(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function $c(e){return H.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function el(e){return e.collectionGroup!==null}function tl(e){let t=Uo(e);if(t.Ie===null){t.Ie=[];let e=new Set;for(let n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new Ls(ls.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ec(r,n))})),e.has(ls.keyField().canonicalString())||t.Ie.push(new Ec(ls.keyField(),n))}return t.Ie}function nl(e){let t=Uo(e);return t.Ee||=rl(t,tl(e)),t.Ee}function rl(e,t){if(e.limitType===`F`)return Kc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new Ec(e.field,t)}));let n=e.endAt?new Cc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Cc(e.startAt.position,e.startAt.inclusive):null;return Kc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function il(e,t,n){return new Yc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function al(e,t){return Jc(nl(e),nl(t))&&e.limitType===t.limitType}function ol(e){return`${qc(nl(e))}|lt:${e.limitType}`}function sl(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Ic(e))).join(`, `)}]`),ks(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>pc(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>pc(e))).join(`,`)),`Target(${t})`}(nl(e))}; limitType=${e.limitType})`}function cl(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?H.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of tl(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=wc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,tl(e),t)||e.endAt&&!function(e,t,n){let r=wc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,tl(e),t))}(e,t)}function ll(e){return(t,n)=>{let r=!1;for(let i of tl(e)){let e=ul(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function ul(e,t,n){let r=e.field.isKeyField()?H.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?uc(r,i):R(42886)}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return R(19790,{direction:e.dir})}}var dl=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return Ns(this.inner)}size(){return this.innerSize}},fl=new Ps(H.comparator);function pl(){return fl}var ml=new Ps(H.comparator);function hl(...e){let t=ml;for(let n of e)t=t.insert(n.key,n);return t}function gl(e){let t=ml;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function _l(){return yl()}function vl(){return yl()}function yl(){return new dl((e=>e.toString()),((e,t)=>e.isEqual(t)))}new Ps(H.comparator);var bl=new Ls(H.comparator);function xl(...e){let t=bl;for(let n of e)t=t.add(n);return t}var Sl=new Ls(V);function Cl(){return Sl}function wl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:As(t)?`-0`:t}}function Tl(e){return{integerValue:``+e}}var El=class{constructor(){this._=void 0}};function Dl(e,t,n){return e instanceof Al?function(e,t){let n={fields:{[qs]:{stringValue:Ks},[Ys]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Xs(t)&&(t=Zs(t)),t&&(n.fields[Js]=t),{mapValue:n}}(n,t):e instanceof jl?Ml(e,t):e instanceof Nl?Pl(e,t):function(e,t){let n=kl(e,t),r=Il(n)+Il(e.Ae);return hc(n)&&hc(e.Ae)?Tl(r):wl(e.serializer,r)}(e,t)}function Ol(e,t,n){return e instanceof jl?Ml(e,t):e instanceof Nl?Pl(e,t):n}function kl(e,t){return e instanceof Fl?function(e){return hc(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var Al=class extends El{},jl=class extends El{constructor(e){super(),this.elements=e}};function Ml(e,t){let n=Ll(t);for(let t of e.elements)n.some((e=>cc(e,t)))||n.push(t);return{arrayValue:{values:n}}}var Nl=class extends El{constructor(e){super(),this.elements=e}};function Pl(e,t){let n=Ll(t);for(let t of e.elements)n=n.filter((e=>!cc(e,t)));return{arrayValue:{values:n}}}var Fl=class extends El{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function Il(e){return Ws(e.integerValue||e.doubleValue)}function Ll(e){return gc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Rl(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof jl&&t instanceof jl||e instanceof Nl&&t instanceof Nl?is(e.elements,t.elements,cc):e instanceof Fl&&t instanceof Fl?cc(e.Ae,t.Ae):e instanceof Al&&t instanceof Al}(e.transform,t.transform)}var zl=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Bl(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var W=class{};function Vl(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ql(e.key,zl.none()):new Hl(e.key,e.data,zl.none());{let n=e.data,r=xc.empty(),i=new Ls(ls.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new Ul(e.key,r,new zs(i.toArray()),zl.none())}}function G(e,t,n){e instanceof Hl?function(e,t,n){let r=e.value.clone(),i=Gl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ul?function(e,t,n){if(!Bl(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=Gl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Wl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function K(e,t,n,r){return e instanceof Hl?function(e,t,n,r){if(!Bl(e.precondition,t))return n;let i=e.value.clone(),a=Kl(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ul?function(e,t,n,r){if(!Bl(e.precondition,t))return n;let i=Kl(e.fieldTransforms,r,t),a=t.data;return a.setAll(Wl(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Bl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function q(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&is(e,t,((e,t)=>Rl(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Hl=class extends W{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Ul=class extends W{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function Wl(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function Gl(e,t,n){let r=new Map;Ho(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Ol(o,s,n[i]))}return r}function Kl(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,Dl(e,a,t))}return r}var ql=class extends W{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Jl=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&G(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=K(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=K(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=vl();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=Vl(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(_s.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xl())}isEqual(e){return this.batchId===e.batchId&&is(this.mutations,e.mutations,((e,t)=>q(e,t)))&&is(this.baseMutations,e.baseMutations,((e,t)=>q(e,t)))}},Yl=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},Xl,J;function Zl(e){if(e===void 0)return Ro(`GRPC error has no .code`),z.UNKNOWN;switch(e){case Xl.OK:return z.OK;case Xl.CANCELLED:return z.CANCELLED;case Xl.UNKNOWN:return z.UNKNOWN;case Xl.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Xl.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Xl.INTERNAL:return z.INTERNAL;case Xl.UNAVAILABLE:return z.UNAVAILABLE;case Xl.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Xl.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Xl.NOT_FOUND:return z.NOT_FOUND;case Xl.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Xl.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Xl.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Xl.ABORTED:return z.ABORTED;case Xl.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Xl.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Xl.DATA_LOSS:return z.DATA_LOSS;default:return R(39323,{code:e})}}(J=Xl||={})[J.OK=0]=`OK`,J[J.CANCELLED=1]=`CANCELLED`,J[J.UNKNOWN=2]=`UNKNOWN`,J[J.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,J[J.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,J[J.NOT_FOUND=5]=`NOT_FOUND`,J[J.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,J[J.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,J[J.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,J[J.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,J[J.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,J[J.ABORTED=10]=`ABORTED`,J[J.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,J[J.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,J[J.INTERNAL=13]=`INTERNAL`,J[J.UNAVAILABLE=14]=`UNAVAILABLE`,J[J.DATA_LOSS=15]=`DATA_LOSS`,new So([4294967295,4294967295],0);var Ql=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function $l(e){return Ho(!!e,49232),_s.fromTimestamp(function(e){let t=Us(e);return new gs(t.seconds,t.nanos)}(e))}function eu(e,t){let n=function(e){return new ss([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function tu(e){let t=ss.fromString(e);return Ho(su(t),10190,{key:t.toString()}),t}function nu(e){let t=tu(e);return t.length===4?ss.emptyPath():ru(t)}function ru(e){return Ho(e.length>4&&e.get(4)===`documents`,29091,{key:e.toString()}),e.popFirst(5)}function iu(e){let t=nu(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ho(r===1,65062);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=au(e);return t instanceof Ac&&Mc(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Ec(ou(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,ks(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before;return new Cc(e.values||[],t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before;return new Cc(e.values||[],t)}(n.endAt)),Xc(t,i,o,a,s,`F`,c,l)}function au(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?R(30097,{filter:e}):function(e){return Ac.create(e.compositeFilter.filters.map((e=>au(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return R(1026)}}(e.compositeFilter.op))}(e):function(e){return kc.create(ou(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;case`OPERATOR_UNSPECIFIED`:return R(58110);default:return R(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=ou(e.unaryFilter.field);return kc.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=ou(e.unaryFilter.field);return kc.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=ou(e.unaryFilter.field);return kc.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=ou(e.unaryFilter.field);return kc.create(i,`!=`,{nullValue:`NULL_VALUE`});case`OPERATOR_UNSPECIFIED`:return R(61313);default:return R(60726)}}(e)}function ou(e){return ls.fromServerFormat(e.fieldPath)}function su(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}var cu=class{constructor(e){this.yt=e}};function lu(e){let t=iu({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?il(t,t.limit,`L`):t}var uu=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if(`nullValue`in e)this.Ft(t,5);else if(`booleanValue`in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if(`integerValue`in e)this.Ft(t,15),t.Mt(Ws(e.integerValue));else if(`doubleValue`in e){let n=Ws(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),As(n)?t.Mt(0):t.Mt(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.Ft(t,20),typeof n==`string`&&(n=Us(n)),t.xt(`${n.seconds||``}`),t.Mt(n.nanos||0)}else if(`stringValue`in e)this.Ot(e.stringValue,t),this.Nt(t);else if(`bytesValue`in e)this.Ft(t,30),t.Bt(Gs(e.bytesValue)),this.Nt(t);else if(`referenceValue`in e)this.Lt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else `mapValue`in e?bc(e)?this.Ft(t,2**53-1):vc(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):`arrayValue`in e?(this.qt(e.arrayValue,t),this.Nt(t)):R(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let n=e.fields||{};this.Ft(t,55);for(let e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=oc,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Ws(i)),this.Ot(r,t),this.Ct(n[r],t)}qt(e,t){let n=e.values||[];this.Ft(t,50);for(let e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),H.fromName(e).path.forEach((e=>{this.Ft(t,60),this.$t(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};uu.Wt=new uu;var du=class{constructor(){this.Sn=new fu}addToCollectionParentIndex(e,t){return this.Sn.add(t),U.resolve()}getCollectionParents(e,t){return U.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return U.resolve()}deleteFieldIndex(e,t){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,t){return U.resolve()}getDocumentsMatchingTarget(e,t){return U.resolve(null)}getIndexType(e,t){return U.resolve(0)}getFieldIndexes(e,t){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,t){return U.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return U.resolve(Ss.min())}updateCollectionGroup(e,t,n){return U.resolve()}updateIndexEntries(e,t){return U.resolve()}},fu=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ls(ss.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ls(ss.comparator)).toArray()}};new Uint8Array;var pu=41943040,mu=class e{static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}};mu.DEFAULT_COLLECTION_PERCENTILE=10,mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mu.DEFAULT=new mu(pu,mu.DEFAULT_COLLECTION_PERCENTILE,mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mu.DISABLED=new mu(-1,0,0);var hu=class e{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new e(0)}static ar(){return new e(-1)}},gu=1048576,_u=class{constructor(){this.changes=new dl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):U.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},vu=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},yu=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&K(n.mutation,e,zs.empty(),gs.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,xl()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=xl()){let r=_l();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=hl();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=_l();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,xl())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=pl(),a=yl(),o=function(){return yl()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof Ul)?i=i.insert(t.key,t):o===void 0?a.set(t.key,zs.empty()):(a.set(t.key,o.mutation.getFieldMask()),K(o.mutation,t,o.mutation.getFieldMask(),gs.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new vu(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=yl(),r=new Ps(((e,t)=>e-t)),i=xl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||zs.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||xl()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=vl();c.forEach((e=>{if(!i.has(e)){let r=Vl(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return U.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return $c(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):el(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):U.resolve(_l()),o=vs,s=i;return a.next((t=>U.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?U.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,xl()))).next((e=>({batchId:o,changes:gl(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next((e=>{let t=hl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=hl();return this.indexManager.getCollectionParents(e,i).next((o=>U.forEach(o,(o=>{let s=function(e,t){return new Yc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,Sc.newInvalidDocument(r)))}));let n=hl();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&K(a.mutation,r,zs.empty(),gs.now()),cl(t,r)&&(n=n.insert(e,r))})),n}))}},bu=class{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return U.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:$l(e.createTime)}}(t)),U.resolve()}getNamedQuery(e,t){return U.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,function(e){return{name:e.name,query:lu(e.bundledQuery),readTime:$l(e.readTime)}}(t)),U.resolve()}},xu=class{constructor(){this.overlays=new Ps(H.comparator),this.Lr=new Map}getOverlay(e,t){return U.resolve(this.overlays.get(t))}getOverlays(e,t){let n=_l();return U.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.bt(e,t,r)})),U.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.Lr.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Lr.delete(n)),U.resolve()}getOverlaysForCollection(e,t,n){let r=_l(),i=t.length+1,a=new H(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return U.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ps(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=_l(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=_l(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return U.resolve(o)}bt(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.Lr.get(r.largestBatchId).delete(n.key);this.Lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Yl(t,n));let i=this.Lr.get(t);i===void 0&&(i=xl(),this.Lr.set(t,i)),this.Lr.set(t,i.add(n.key))}},Su=class{constructor(){this.sessionToken=Vs.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,U.resolve()}},Cu=class{constructor(){this.kr=new Ls(wu.Kr),this.qr=new Ls(wu.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let n=new wu(e,t);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Wr(new wu(e,t))}Qr(e,t){e.forEach((e=>this.removeReference(e,t)))}Gr(e){let t=new H(new ss([])),n=new wu(t,e),r=new wu(t,e+1),i=[];return this.qr.forEachInRange([n,r],(e=>{this.Wr(e),i.push(e.key)})),i}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new H(new ss([])),n=new wu(t,e),r=new wu(t,e+1),i=xl();return this.qr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new wu(e,0),n=this.kr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},wu=class{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return H.comparator(e.key,t.key)||V(e.Hr,t.Hr)}static Ur(e,t){return V(e.Hr,t.Hr)||H.comparator(e.key,t.key)}},Tu=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Ls(wu.Kr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new Jl(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.Jr=this.Jr.add(new wu(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,t){return U.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.Xr(n),i=r<0?0:r;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Os:this.Yn-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new wu(t,0),r=new wu(t,1/0),i=[];return this.Jr.forEachInRange([n,r],(e=>{let t=this.Zr(e.Hr);i.push(t)})),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ls(V);return t.forEach((e=>{let t=new wu(e,0),r=new wu(e,1/0);this.Jr.forEachInRange([t,r],(e=>{n=n.add(e.Hr)}))})),U.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;H.isDocumentKey(i)||(i=i.child(``));let a=new wu(new H(i),0),o=new Ls(V);return this.Jr.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Hr)),!0)}),a),U.resolve(this.Yr(o))}Yr(e){let t=[];return e.forEach((e=>{let n=this.Zr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){Ho(this.ei(t.batchId,`removed`)===0,55003),this.mutationQueue.shift();let n=this.Jr;return U.forEach(t.mutations,(r=>{let i=new wu(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Jr=n}))}nr(e){}containsKey(e,t){let n=new wu(t,0),r=this.Jr.firstAfterOrEqual(n);return U.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},Eu=class{constructor(e){this.ti=e,this.docs=function(){return new Ps(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ti(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return U.resolve(n?n.document.mutableCopy():Sc.newInvalidDocument(t))}getEntries(e,t){let n=pl();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Sc.newInvalidDocument(e))})),U.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=pl(),a=t.path,o=new H(a.child(`__id-9223372036854775808__`)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Cs(xs(o),n)<=0||(r.has(o.key)||cl(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,t,n,r){R(9500)}ni(e,t){return U.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Du(this)}getSize(e){return U.resolve(this.size)}},Du=class extends _u{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(n)})),U.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}},Ou=class{constructor(e){this.persistence=e,this.ri=new dl((e=>qc(e)),Jc),this.lastRemoteSnapshotVersion=_s.min(),this.highestTargetId=0,this.ii=0,this.si=new Cu,this.targetCount=0,this.oi=hu._r()}forEachTarget(e,t){return this.ri.forEach(((e,n)=>t(n))),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ii&&(this.ii=t),U.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new hu(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,U.resolve()}updateTargetData(e,t){return this.lr(t),U.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),--this.targetCount,U.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.ri.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.ri.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),U.waitFor(i).next((()=>r))}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,t){let n=this.ri.get(t)||null;return U.resolve(n)}addMatchingKeys(e,t,n){return this.si.$r(t,n),U.resolve()}removeMatchingKeys(e,t,n){this.si.Qr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),U.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),U.resolve()}getMatchingKeysForTargetId(e,t){let n=this.si.jr(t);return U.resolve(n)}containsKey(e,t){return U.resolve(this.si.containsKey(t))}},ku=class{constructor(e,t){this._i={},this.overlays={},this.ai=new Ds(0),this.ui=!1,this.ui=!0,this.ci=new Su,this.referenceDelegate=e(this),this.li=new Ou(this),this.indexManager=new du,this.remoteDocumentCache=function(e){return new Eu(e)}((e=>this.referenceDelegate.hi(e))),this.serializer=new cu(t),this.Pi=new bu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this._i[e.toKey()];return n||(n=new Tu(t,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,n){L(`MemoryPersistence`,`Starting transaction:`,e);let r=new Au(this.ai.next());return this.referenceDelegate.Ti(),n(r).next((e=>this.referenceDelegate.Ii(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ei(e,t){return U.or(Object.values(this._i).map((n=>()=>n.containsKey(e,t))))}},Au=class extends ws{constructor(e){super(),this.currentSequenceNumber=e}},ju=class e{constructor(e){this.persistence=e,this.Ri=new Cu,this.Ai=null}static Vi(t){return new e(t)}get di(){if(this.Ai)return this.Ai;throw R(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.di.delete(n.toString()),U.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.di.add(n.toString()),U.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),U.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((e=>this.di.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.di,(n=>{let r=H.fromPath(n);return this.mi(e,r).next((e=>{e||t.removeEntry(r,_s.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return U.or([()=>U.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Mu=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ts=n,this.Is=r}static Es(t,n){let r=xl(),i=xl();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},Nu=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},Pu=class{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return Qe()?8:Ts(A())>0?6:4}()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.gs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ps(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new Nu;return this.ys(e,t,n).next((r=>{if(i.result=r,this.As)return this.ws(e,t,n,r.size)}))})).next((()=>i.result))}ws(e,t,n,r){return n.documentReadCount<this.Vs?(Lo()<=M.DEBUG&&L(`QueryEngine`,`SDK will not create cache indexes for query:`,sl(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.Vs,`documents`),U.resolve()):(Lo()<=M.DEBUG&&L(`QueryEngine`,`Query:`,sl(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.ds*r?(Lo()<=M.DEBUG&&L(`QueryEngine`,`The SDK decides to create cache indexes for query:`,sl(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,nl(t))):U.resolve())}gs(e,t){if(Qc(t))return U.resolve(null);let n=nl(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=il(t,null,`F`),n=nl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=xl(...r);return this.fs.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.bs(t,r);return this.Ss(t,a,i,n.readTime)?this.gs(e,il(t,null,`F`)):this.Ds(e,a,t,n)}))))})))))}ps(e,t,n,r){return Qc(t)||r.isEqual(_s.min())?U.resolve(null):this.fs.getDocuments(e,n).next((i=>{let a=this.bs(t,i);return this.Ss(t,a,n,r)?U.resolve(null):(Lo()<=M.DEBUG&&L(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),sl(t)),this.Ds(e,a,t,bs(r,vs)).next((e=>e)))}))}bs(e,t){let n=new Ls(ll(e));return t.forEach(((t,r)=>{cl(e,r)&&(n=n.add(r))})),n}Ss(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(e,t,n){return Lo()<=M.DEBUG&&L(`QueryEngine`,`Using full collection scan to execute query:`,sl(t)),this.fs.getDocumentsMatchingQuery(e,t,Ss.min(),n)}Ds(e,t,n,r){return this.fs.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},Fu=`LocalStore`,Iu=class{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new Ps(V),this.Fs=new dl((e=>qc(e)),Jc),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yu(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.vs)))}};function Lu(e,t,n,r){return new Iu(e,t,n,r)}async function Ru(e,t){let n=Uo(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=xl();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ns:e,removedBatchIds:i,addedBatchIds:a})))}))}))}var zu=class{constructor(){this.activeTargetIds=Cl()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Bu=class{constructor(){this.vo=new zu,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||`not-current`}updateQueryState(e,t,n){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new zu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},Vu=class{Mo(e){}shutdown(){}},Hu=`ConnectivityMonitor`,Uu=class{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener(`online`,this.xo),window.removeEventListener(`offline`,this.No)}ko(){window.addEventListener(`online`,this.xo),window.addEventListener(`offline`,this.No)}Oo(){L(Hu,`Network connectivity changed: AVAILABLE`);for(let e of this.Lo)e(0)}Bo(){L(Hu,`Network connectivity changed: UNAVAILABLE`);for(let e of this.Lo)e(1)}static v(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},Wu=null;function Gu(){return Wu===null?Wu=function(){return 268435456+Math.round(2147483648*Math.random())}():Wu++,`0x`+Wu.toString(16)}var Ku=`RestConnection`,Y={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`,ExecutePipeline:`executePipeline`},qu=class{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+`://`+e.host,this.Uo=`projects/${n}/databases/${r}`,this.$o=this.databaseId.database===$s?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){let a=Gu(),o=this.Qo(e,t.toUriEncodedString());L(Ku,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(s,r,i);let{host:c}=new URL(o),l=Ge(c);return this.zo(e,o,s,n,l).then((t=>(L(Ku,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw zo(Ku,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}jo(e,t,n,r,i,a){return this.Wo(e,t,n,r,i)}Go(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+Po}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Qo(e,t){let n=Y[e],r=`${this.qo}/v1/${t}:${n}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}},Ju=class{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}},Yu=`WebChannelConnection`,Xu=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))},Zu=class e extends qu{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){e.c_||=(Xu(jo(),Ao.STAT_EVENT,(e=>{e.stat===ko.PROXY?L(Yu,`STAT_EVENT: detected buffering proxy`):e.stat===ko.NOPROXY&&L(Yu,`STAT_EVENT: detected no buffering proxy`)})),!0)}zo(e,t,n,r,i){let a=Gu();return new Promise(((i,o)=>{let s=new To;s.setWithCredentials(!0),s.listenOnce(Do.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Oo.NO_ERROR:let t=s.getResponseJson();L(Yu,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case Oo.TIMEOUT:L(Yu,`RPC '${e}' ${a} timed out`),o(new B(z.DEADLINE_EXCEEDED,`Request time out`));break;case Oo.HTTP_ERROR:let n=s.getStatus();if(L(Yu,`RPC '${e}' ${a} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;t&&t.status&&t.message?o(new B(function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(z).indexOf(t)>=0?t:z.UNKNOWN}(t.status),t.message)):o(new B(z.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new B(z.UNAVAILABLE,`Connection failed.`));break;default:R(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{L(Yu,`RPC '${e}' ${a} completed.`)}}));let c=JSON.stringify(r);L(Yu,`RPC '${e}' ${a} sending request:`,r),s.send(t,`POST`,c,n,15)}))}T_(t,n,r){let i=Gu(),a=[this.qo,`/`,`google.firestore.v1.Firestore`,`/`,t,`/channel`],o=this.createWebChannelTransport(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,n,r),s.encodeInitMessageHeaders=!0;let l=a.join(``);L(Yu,`Creating RPC '${t}' stream ${i}: ${l}`,s);let u=o.createWebChannel(l,s);this.I_(u);let d=!1,f=!1,p=new Ju({Ho:e=>{f?L(Yu,`Not sending because RPC '${t}' stream ${i} is closed:`,e):(d||=(L(Yu,`Opening RPC '${t}' stream ${i} transport.`),u.open(),!0),L(Yu,`RPC '${t}' stream ${i} sending:`,e),u.send(e))},Jo:()=>u.close()});return Xu(u,Eo.EventType.OPEN,(()=>{f||(L(Yu,`RPC '${t}' stream ${i} transport opened.`),p.i_())})),Xu(u,Eo.EventType.CLOSE,(()=>{f||(f=!0,L(Yu,`RPC '${t}' stream ${i} transport closed`),p.o_(),this.E_(u))})),Xu(u,Eo.EventType.ERROR,(e=>{f||(f=!0,zo(Yu,`RPC '${t}' stream ${i} transport errored. Name:`,e.name,`Message:`,e.message),p.o_(new B(z.UNAVAILABLE,`The operation could not be completed`)))})),Xu(u,Eo.EventType.MESSAGE,(e=>{if(!f){let n=e.data[0];Ho(!!n,16349);let r=n,a=r?.error||r[0]?.error;if(a){L(Yu,`RPC '${t}' stream ${i} received error:`,a);let e=a.status,n=function(e){let t=Xl[e];if(t!==void 0)return Zl(t)}(e),r=a.message;n===void 0&&(n=z.INTERNAL,r=`Unknown error status: `+e+` with message `+a.message),f=!0,p.o_(new B(n,r)),u.close()}else L(Yu,`RPC '${t}' stream ${i} received:`,n),p.__(n)}})),e.u_(),setTimeout((()=>{p.s_()}),0),p}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,n){super.Go(e,t,n),this.databaseInfo.apiKey&&(e[`x-goog-api-key`]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Mo()}};function Qu(e){return new Zu(e)}function $u(){return typeof document<`u`?document:null}function ed(e){return new Ql(e,!0)}Zu.c_=!1;var td=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Ci=e,this.timerId=t,this.R_=n,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&L(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}},nd=class{},rd=class extends nd{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new B(z.FAILED_PRECONDITION,`The client has already been terminated.`)}Wo(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Wo(e,eu(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new B(z.UNKNOWN,e.toString())}))}jo(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.jo(e,eu(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new B(z.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}};function id(e,t,n,r){return new rd(e,t,n,r)}var ad=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca(`Unknown`),this._a=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this._a=null,this.la(`Backend didn't respond within 10 seconds.`),this.ca(`Offline`),Promise.resolve()))))}ha(e){this.state===`Online`?this.ca(`Unknown`):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca(`Offline`)))}set(e){this.Pa(),this.oa=0,e===`Online`&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ro(t),this.aa=!1):L(`OnlineStateTracker`,t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}},od=`RemoteStore`,sd=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo((e=>{n.enqueueAndForget((async()=>{ud(this)&&(L(od,`Restarting streams for network reachability change.`),await async function(e){let t=Uo(e);t.Ea.add(4),await ld(t),t.Va.set(`Unknown`),t.Ea.delete(4),await cd(t)}(this))}))})),this.Va=new ad(n,r)}};async function cd(e){if(ud(e))for(let t of e.Ra)await t(!0)}async function ld(e){for(let t of e.Ra)await t(!1)}function ud(e){return Uo(e).Ea.size===0}async function dd(e,t){let n=Uo(e);t?(n.Ea.delete(2),await cd(n)):t||(n.Ea.add(2),await ld(n),n.Va.set(`Unknown`))}var fd=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Wo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(z.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}},pd=class{constructor(){this.queries=md(),this.onlineState=`Unknown`,this.Ca=new Set}terminate(){(function(e,t){let n=Uo(e),r=n.queries;n.queries=md(),r.forEach(((e,n)=>{for(let e of n.ba)e.onError(t)}))})(this,new B(z.ABORTED,`Firestore shutting down`))}};function md(){return new dl((e=>ol(e)),al)}function hd(e){e.Ca.forEach((e=>{e.next()}))}var gd,_d;(_d=gd||={}).Ma=`default`,_d.Cache=`cache`;var vd=`SyncEngine`,yd=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new dl((e=>ol(e)),al),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ps(H.comparator),this.Au=new Map,this.Vu=new Cu,this.du={},this.mu=new Map,this.fu=hu.ar(),this.onlineState=`Unknown`,this.gu=void 0}get isPrimaryClient(){return!0===this.gu}};function bd(e,t,n){let r=Uo(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Tu.forEach(((n,r)=>{let i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=Uo(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.ba)e.va(t)&&(r=!0)})),r&&hd(n)}(r.eventManager,t),e.length&&r.Pu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xd(e,t,n){let r=Uo(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,s)=>{o.push(r.pu(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=Mu.Es(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.Pu.J_(i),await async function(e,t){let n=Uo(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>U.forEach(t,(t=>U.forEach(t.Ts,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>U.forEach(t.Is,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Es(e))throw e;L(Fu,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.vs.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.vs=n.vs.insert(t,i)}}}(r.localStore,a))}async function X(e,t){let n=Uo(e);if(!n.currentUser.isEqual(t)){L(vd,`User change. New user:`,t.toKey());let e=await Ru(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new B(z.CANCELLED,t))}))})),e.mu.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await xd(n,e.Ns)}}var Sd=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Lu(this.persistence,new Pu,e.initialUser,this.serializer)}Cu(e){return new ku(ju.Vi,this.serializer)}Du(e){return new Bu}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};Sd.provider={build:()=>new Sd};var Cd=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>bd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=X.bind(null,this.syncEngine),await dd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pd}()}createDatastore(e){let t=ed(e.databaseInfo.databaseId),n=Qu(e.databaseInfo);return id(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new sd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>bd(this.syncEngine,e,0)),function(){return Uu.v()?new Uu:new Vu}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new yd(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){let t=Uo(e);L(od,`RemoteStore shutting down.`),t.Ea.add(5),await ld(t),t.Aa.shutdown(),t.Va.set(`Unknown`)}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};Cd.provider={build:()=>new Cd};function wd(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var Td=`ComponentProvider`,Ed=new Map,Dd=`firestore.googleapis.com`,Od=!0,kd=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new B(z.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=Dd,this.ssl=Od}else this.host=e.host,this.ssl=e.ssl??Od;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pu;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gu)throw new B(z.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}us(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wd(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new B(z.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new B(z.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new B(z.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ad=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new kd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new B(z.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new B(z.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new kd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new Ko;switch(e.type){case`firstParty`:return new Yo(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new B(z.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=Ed.get(e);t&&(L(Td,`Removing Datastore`),Ed.delete(e),t.terminate())}(this),Promise.resolve()}},jd=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},Md=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(ps(n,e._jsonSchema))return new e(t,r||null,new H(ss.fromString(n.referencePath)))}};Md._jsonSchemaVersion=`firestore/documentReference/1.0`,Md._jsonSchema={type:fs(`string`,Md._jsonSchemaVersion),referencePath:fs(`string`)};var Nd=class e extends jd{constructor(e,t,n){super(e,t,Zc(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Md(this.firestore,null,new H(e))}withConverter(t){return new e(this.firestore,t,this._path)}},Pd=`AsyncQueue`,Z=class{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new td(this,`async_queue_retry`),this._c=()=>{let e=$u();e&&L(Pd,`Visibility state changed to `+e.visibilityState),this.M_.w_()},this.ac=e;let t=$u();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=$u();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));let t=new Wo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Es(e))throw e;L(Pd,`Operation failed with retryable error: `+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){let t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,Ro(`INTERNAL UNHANDLED ERROR: `,Fd(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=fd.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&R(47125,{Pc:Fd(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.tc)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function Fd(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}var Id=class extends Ad{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new Z,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Z(e),this._firestoreClient=void 0,await e}}},Ld=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(Vs.fromBase64String(t))}catch(e){throw new B(z.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(Vs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ps(t,e._jsonSchema))return e.fromBase64String(t.bytes)}};Ld._jsonSchemaVersion=`firestore/bytes/1.0`,Ld._jsonSchema={type:fs(`string`,Ld._jsonSchemaVersion),bytes:fs(`string`)};var Rd=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new B(z.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new ls(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},zd=class e{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(z.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new B(z.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return V(this._lat,e._lat)||V(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(t){if(ps(t,e._jsonSchema))return new e(t.latitude,t.longitude)}};zd._jsonSchemaVersion=`firestore/geoPoint/1.0`,zd._jsonSchema={type:fs(`string`,zd._jsonSchemaVersion),latitude:fs(`number`),longitude:fs(`number`)};var Bd=class e{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ps(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e==`number`)))return new e(t.vectorValues);throw new B(z.INVALID_ARGUMENT,`Expected 'vectorValues' field to be a number array`)}}};Bd._jsonSchemaVersion=`firestore/vectorValue/1.0`,Bd._jsonSchema={type:fs(`string`,Bd._jsonSchemaVersion),vectorValues:fs(`object`)};function Vd(e,t,n){if((t=ft(t))instanceof Rd)return t._internalPath;if(typeof t==`string`)return Ud(e,t);throw Wd(`Field path arguments must be of type string or `,e,!1,void 0,n)}var Hd=RegExp(`[~\\*/\\[\\]]`);function Ud(e,t,n){if(t.search(Hd)>=0)throw Wd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Rd(...t.split(`.`))._internalPath}catch{throw Wd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Wd(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new B(z.INVALID_ARGUMENT,s+e+c)}var Gd=`@firebase/firestore`,Kd=`4.10.0`,qd=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Md(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Jd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(Vd(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Jd=class extends qd{data(){return super.data()}},Yd=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xd=class e extends qd{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(Vd(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(z.FAILED_PRECONDITION,`DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t=this._document,n={};return n.type=e._jsonSchemaVersion,n.bundle=``,n.bundleSource=`DocumentSnapshot`,n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,`previous`),n.bundle=(this._firestore,this.ref.path,`NOT SUPPORTED`),n)}};Xd._jsonSchemaVersion=`firestore/documentSnapshot/1.0`,Xd._jsonSchema={type:fs(`string`,Xd._jsonSchemaVersion),bundleSource:fs(`string`,`DocumentSnapshot`),bundleName:fs(`string`),bundle:fs(`string`)};var Zd=class extends Xd{data(e={}){return super.data(e)}},Qd=class e{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Zd(this._firestore,this._userDataWriter,n.key,n,new Yd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B(z.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new Zd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Yd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new Zd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:$d(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(z.FAILED_PRECONDITION,`QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t={};t.type=e._jsonSchemaVersion,t.bundleSource=`QuerySnapshot`,t.bundleName=$o.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach((e=>{e._document!==null&&(n.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,`previous`)),i.push(e.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,`NOT SUPPORTED`),t}};function $d(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return R(61501,{type:e})}}Qd._jsonSchemaVersion=`firestore/querySnapshot/1.0`,Qd._jsonSchema={type:fs(`string`,Qd._jsonSchemaVersion),bundleSource:fs(`string`,`QuerySnapshot`),bundleName:fs(`string`),bundle:fs(`string`)},(function(e,t=!0){Fo(kn),En(new pt(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new Id(new qo(e.getProvider(`auth-internal`)),new Zo(i,e.getProvider(`app-check-internal`)),tc(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),An(Gd,Kd,e),An(Gd,Kd,`esm2020`)})();var ef=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),Q=o(((e,t)=>{t.exports=ef()}))(),{useState:$,useEffect:tf,useRef:nf}=S,rf={"Current Course":{name:`Mental Fitness`,modules:[{id:`item-1768749223001`,title:`Course Materials`,materials:[{id:`mat-00`,number:`00`,title:`What is Sports Psychology?`,description:`The Diagnostic & Baseline Protocol.`,viewUrl:`https://drive.google.com/file/d/1my_sOJYdOLcvvQi4TQdkDJNUz6P7MvYY/preview`,downloadUrl:`https://drive.google.com/file/d/1my_sOJYdOLcvvQi4TQdkDJNUz6P7MvYY/view?usp=sharing`,color:`slate`,hidden:!1,order:0},{id:`mat-01`,number:`01`,title:`The Engine`,description:`Values, Identity & Foundation.`,viewUrl:`https://drive.google.com/file/d/1DQvItijEudKroqUieRBKaJAqJJnzEa2x/preview`,downloadUrl:`https://drive.google.com/file/d/1DQvItijEudKroqUieRBKaJAqJJnzEa2x/view?usp=sharing`,color:`rose`,hidden:!1,order:1},{id:`mat-02`,number:`02`,title:`The Drive`,description:`Motivation, 7/10 Task & Maintenance.`,viewUrl:`https://drive.google.com/file/d/1XWwy8F27_0jupo8xdXO3oi2E4l9R4Rot/preview`,downloadUrl:`https://drive.google.com/file/d/1XWwy8F27_0jupo8xdXO3oi2E4l9R4Rot/view?usp=sharing`,color:`amber`,hidden:!1,order:2},{id:`mat-03`,number:`03`,title:`The Focus`,description:`Spotlight, Cues & The Fortress.`,viewUrl:`https://drive.google.com/file/d/1kUq790zE4VP73THdysuNKVR3cE6EG3X2/preview`,downloadUrl:`https://drive.google.com/file/d/1kUq790zE4VP73THdysuNKVR3cE6EG3X2/view?usp=sharing`,color:`emerald`,hidden:!1,order:3},{id:`mat-04`,number:`04`,title:`The Toolkit`,description:`Confidence & Visualization Protocols.`,viewUrl:`https://drive.google.com/file/d/1GueN1ikd982jYVZVf7GkEDG18NHQ9YpW/preview`,downloadUrl:`https://drive.google.com/file/d/1GueN1ikd982jYVZVf7GkEDG18NHQ9YpW/view?usp=sharing`,color:`sky`,hidden:!1,order:4}],code:{id:`view-materials`,html:`<div id="view-materials" class="w-full h-full custom-scroll p-8 md:p-12">
            <div class="max-w-5xl mx-auto space-y-8">
                <div class="mb-12">
                    <h2 class="text-3xl font-black text-white italic uppercase tracking-tighter">Course <span class="text-sky-500">Materials</span></h2>
                    <p class="text-xs text-slate-400 font-mono uppercase tracking-widest mt-2">Access lectures, presentations, and briefing documents.</p>
                </div>
                <div id="pdf-viewer-container" class="hidden mb-12 bg-black rounded-xl border border-slate-700 overflow-hidden shadow-2xl">
                    <div class="flex justify-between items-center p-3 bg-slate-800 border-b border-slate-700">
                        <span id="viewer-title" class="text-xs font-bold text-white uppercase tracking-widest px-2">Document Viewer</span>
                        <button onclick="closeViewer()" class="text-xs text-rose-400 hover:text-white font-bold uppercase tracking-widest px-2">Close X</button>
                    </div>
                    <iframe id="pdf-frame" src="" width="100%" height="600" style="border:none;"></iframe>
                </div>
                <div class="grid grid-cols-1 gap-4" id="materials-container">
                    <p class="text-center text-slate-500 italic py-8">Materials will be generated dynamically when you compile the site.</p>
                </div>
            </div>
        </div>`,script:`
        // Dynamic Materials Renderer (runs in builder and compiled site)
        function renderMaterials() {
            // This will be populated by the compile process
            // For now, shows placeholder in builder
            const container = document.getElementById('materials-container');
            if (!container) return;
            
            // Check if we're in the compiled site with materials data
            if (window.courseMaterials && window.courseMaterials.length > 0) {
                container.innerHTML = window.courseMaterials.map(mat => {
                    const colorClass = mat.color || 'slate';
                    const borderClass = colorClass !== 'slate' ? 'border-l-4 border-l-' + colorClass + '-500' : '';
                    const bgClass = colorClass !== 'slate' ? 'bg-' + colorClass + '-500/10' : 'bg-slate-800';
                    const borderColorClass = colorClass !== 'slate' ? 'border-' + colorClass + '-500/20' : 'border-slate-700';
                    const textColorClass = colorClass !== 'slate' ? 'text-' + colorClass + '-500' : 'text-slate-500';
                    const buttonColorClass = colorClass !== 'slate' ? 'bg-' + colorClass + '-600 hover:bg-' + colorClass + '-500' : 'bg-sky-600 hover:bg-sky-500';
                    
                    return '<div class="material-card flex flex-col md:flex-row items-center justify-between gap-6 ' + borderClass + '">' +
                        '<div class="flex items-center gap-6">' +
                            '<div class="w-12 h-12 rounded-lg ' + bgClass + ' flex items-center justify-center ' + textColorClass + ' font-black italic text-xl border ' + borderColorClass + '">' + mat.number + '</div>' +
                            '<div>' +
                                '<h3 class="text-lg font-bold text-white uppercase italic">' + mat.title + '</h3>' +
                                '<p class="text-xs text-slate-400 font-mono">' + mat.description + '</p>' +
                            '</div>' +
                        '</div>' +
                        '<div class="flex gap-3 w-full md:w-auto">' +
                            '<button onclick="openPDF('' + mat.viewUrl.replace(/'/g, "\\'") + '', '' + mat.title.replace(/'/g, "\\'") + '')" class="flex-1 bg-slate-800 hover:bg-slate-700 text-white text-[10px] font-bold uppercase tracking-widest py-3 px-6 rounded-lg border border-slate-600 transition-all">View Slides</button>' +
                            '<a href="' + mat.downloadUrl + '" target="_blank" class="flex-1 ' + buttonColorClass + ' text-white text-[10px] font-bold uppercase tracking-widest py-3 px-6 rounded-lg transition-all text-center flex items-center justify-center">Download</a>' +
                        '</div>' +
                    '</div>';
                }).join('');
            }
        }
        
        function openPDF(url, title) {
            const container = document.getElementById('pdf-viewer-container');
            document.getElementById('pdf-frame').src = url;
            document.getElementById('viewer-title').innerText = "VIEWING: " + title;
            container.classList.remove('hidden');
            container.scrollIntoView({ behavior: 'smooth' });
        }

        function closeViewer() {
            document.getElementById('pdf-viewer-container').classList.add('hidden');
            document.getElementById('pdf-frame').src = "";
        }
        
        // Try to render materials on load
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', renderMaterials);
        } else {
            renderMaterials();
        }`}},{id:`item-assessments`,title:`Assessments`,assessments:[],code:{id:`view-assessments`,html:`<div id="view-assessments" class="w-full h-full custom-scroll p-8 md:p-12">
            <div class="max-w-5xl mx-auto space-y-8">
                <div class="mb-12">
                    <h2 class="text-3xl font-black text-white italic uppercase tracking-tighter">Assessment <span class="text-purple-500">Center</span></h2>
                    <p class="text-xs text-slate-400 font-mono uppercase tracking-widest mt-2">Quizzes, tests, and reflection exercises.</p>
                </div>
                <div id="assessments-container" class="space-y-6">
                    <p class="text-center text-slate-500 italic py-8">Assessments will be generated dynamically when you compile the site.</p>
                </div>
            </div>
        </div>`,script:`
        // Dynamic Assessments Renderer
        function renderAssessments() {
            const container = document.getElementById('assessments-container');
            if (!container) return;
            
            if (window.courseAssessments && window.courseAssessments.length > 0) {
                container.innerHTML = window.courseAssessments.map(assessment => {
                    return '<div class="assessment-wrapper mb-8">' + assessment.html + '</div>';
                }).join('');
                
                // Execute assessment scripts
                window.courseAssessments.forEach((assessment, idx) => {
                    if (assessment.script) {
                        try {
                            eval(assessment.script);
                        } catch(e) {
                            console.error('Assessment script error:', e);
                        }
                    }
                });
            }
        }
        
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', renderAssessments);
        } else {
            renderAssessments();
        }`}},{id:`item-1768750987350`,title:`Phase 1: The Engine`,code:{id:`view-phase1`,html:`<div id="view-phase1" class="w-full h-full custom-scroll hidden p-4 md:p-8">
            <div class="max-w-6xl mx-auto">
                <header class="mb-8 text-center"><h1 class="text-3xl font-black italic tracking-tighter text-white uppercase mb-2 text-sky-500">Elite Operator Toolkit</h1><p class="text-[10px] font-mono uppercase tracking-[0.3em] text-slate-500 mb-6 font-bold underline decoration-sky-500/30 underline-offset-4">Regulation Engine: Tactical Assignment</p><div class="flex flex-wrap justify-center gap-3 mb-6 bg-slate-900/50 p-3 rounded-xl border border-slate-800 max-w-2xl mx-auto"><div class="flex items-center gap-2 px-3"><div id="p1-save-indicator" class="w-2 h-2 rounded-full bg-slate-600"></div><span id="p1-save-text" class="text-[9px] uppercase font-bold text-slate-500 tracking-widest">System Ready</span></div><div class="w-px h-6 bg-slate-800 mx-2 hidden sm:block"></div><button onclick="p1_downloadBackup()" class="flex items-center gap-2 bg-slate-800 hover:bg-slate-700 text-white px-3 py-1.5 rounded-lg text-[10px] uppercase font-bold tracking-wider transition-colors border border-slate-700">Save Backup File</button><button onclick="document.getElementById('p1-file-upload').click()" class="flex items-center gap-2 bg-slate-800 hover:bg-slate-700 text-sky-400 px-3 py-1.5 rounded-lg text-[10px] uppercase font-bold tracking-wider transition-colors border border-slate-700">Load Backup</button><input type="file" id="p1-file-upload" accept=".json" style="display: none;" onchange="p1_loadBackup(this)"></div><div class="flex justify-center gap-2 overflow-x-auto pb-2 px-2"><button onclick="p1_showStep(0)" class="mod-nav-btn active px-4 py-2 rounded-lg border border-slate-700 text-[10px] font-bold uppercase tracking-widest mono transition-all flex-shrink-0">Briefing</button><button onclick="p1_showStep(1)" class="mod-nav-btn px-4 py-2 rounded-lg border border-slate-700 text-[10px] font-bold uppercase tracking-widest mono transition-all flex-shrink-0">01 Stress Reset</button><button onclick="p1_showStep(2)" class="mod-nav-btn px-4 py-2 rounded-lg border border-slate-700 text-[10px] font-bold uppercase tracking-widest mono transition-all flex-shrink-0">02 Arousal</button><button onclick="p1_showStep(3)" class="mod-nav-btn px-4 py-2 rounded-lg border border-slate-800 text-[10px] font-bold uppercase tracking-widest mono transition-all flex-shrink-0">03 Targeting</button><button onclick="p1_showStep(4)" class="mod-nav-btn px-4 py-2 rounded-lg border border-slate-800 text-[10px] font-bold uppercase tracking-widest mono transition-all flex-shrink-0">04 Confidence</button><button onclick="p1_showStep(5)" class="mod-nav-btn px-4 py-2 rounded-lg border border-slate-800 text-[10px] font-bold uppercase tracking-widest mono transition-all flex-shrink-0">Review & Print</button></div></header>
                <div class="glass rounded-3xl shadow-2xl overflow-hidden min-h-[500px]">
                    <div id="p1-step0" class="step-content active"><div class="relative px-6 py-4 border-b border-slate-800 bg-slate-900/50"><div class="absolute top-0 left-0 w-full h-1 bg-sky-500"></div><h2 class="text-xl font-bold text-white uppercase italic tracking-tight">System Briefing: The Regulation Engine</h2></div><div class="p-8 space-y-8 text-center"><div class="max-w-3xl mx-auto space-y-6 text-left"><p class="text-slate-400 text-sm italic leading-relaxed">Elite performance is defined by the ability to regulate your internal operating system under pressure. While physical skill sets the floor, your mental fitness sets the ceiling. This assignment uses four <strong>Manual Overrides</strong> to ensure you stay in your <strong>Ideal Performance State (IPS)</strong>.</p><div class="bg-sky-500/10 border border-sky-500/30 p-4 rounded-xl flex flex-col gap-4 mb-2"><h3 class="text-sky-400 font-bold uppercase text-[10px] tracking-widest">Dashboard Logic: Read then Regulate</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="p-3 bg-slate-900/50 rounded border border-slate-700"><span class="text-[9px] font-black text-rose-400 uppercase block mb-1">Somatic Indicators (Body)</span><p class="text-[10px] text-slate-400">Cold hands, butterflies, muscle tension, sweating.</p></div><div class="p-3 bg-slate-900/50 rounded border border-slate-700"><span class="text-[9px] font-black text-amber-400 uppercase block mb-1">Cognitive Indicators (Mind)</span><p class="text-[10px] text-slate-400">Negative self-talk, doubt, inability to concentrate.</p></div></div></div><div class="flex justify-center pt-6"><button onclick="p1_showStep(1)" class="bg-sky-600 px-12 py-4 rounded-xl text-white font-black uppercase text-xs tracking-[0.2em] hover:bg-sky-500 transition-all shadow-lg active:scale-95">Initialize Stations</button></div></div></div></div>
                    <div id="p1-step1" class="step-content"><div class="relative px-6 py-4 border-b border-slate-800 bg-slate-900/50"><div class="absolute top-0 left-0 w-full h-1 bg-rose-500"></div><h2 class="text-xl font-bold text-white uppercase italic tracking-tight">Station 01: The Stress Loop Reset</h2></div><div class="p-8 space-y-8"><div class="grid grid-cols-1 md:grid-cols-2 gap-10"><div class="space-y-4"><h3 class="text-[10px] font-bold text-slate-500 uppercase mono italic underline tracking-widest">The Pivot Point</h3><p class="text-sm text-slate-300 leading-relaxed">Breathing is your manual override switch. It intercepts the Stress Process Loop at the moment a demand is perceived as a "threat." <strong class="text-rose-400">The goal is to identify a specific time you can execute this trigger and how the breath anchor will help you stay present in the moment.</strong></p><div class="bg-rose-500/10 p-3 rounded border border-rose-500/30"><span class="text-[9px] text-rose-300 font-bold uppercase">Warning:</span><p class="text-[10px] text-rose-200">Unchecked loop acceleration leads to performance crash.</p></div></div><div class="space-y-6"><div><label class="block text-[10px] font-bold uppercase text-sky-500 mb-2 mono">Deployment Scenario</label><input type="text" id="p1_breath_scenario" oninput="p1_saveData()" placeholder="When exactly will you use this? (e.g. Between points...)" class="w-full rounded-lg p-3 text-xs italic"><p class="helper-text">Identify a specific time you can execute this trigger.</p></div><div><label class="block text-[10px] font-bold uppercase text-sky-500 mb-2 mono">Centering Action Detail</label><textarea id="p1_breath_detail" oninput="p1_saveData()" placeholder="Describe your rhythmic diaphragmatic breathing habit..." class="w-full h-32 rounded-lg p-3 text-xs italic resize-none"></textarea><p class="helper-text">How will this breath anchor help you stay present in the moment?</p></div></div></div><div class="flex justify-between pt-4"><button onclick="p1_showStep(0)" class="text-slate-500 font-bold uppercase text-[10px] tracking-widest"> Back</button><button onclick="p1_showStep(2)" class="bg-sky-600 px-8 py-3 rounded-lg text-white font-bold uppercase text-[10px] tracking-widest">Next Station </button></div></div></div>
                    <div id="p1-step2" class="step-content"><div class="relative px-6 py-4 border-b border-slate-800 bg-slate-900/50"><div class="absolute top-0 left-0 w-full h-1 bg-amber-500"></div><h2 class="text-xl font-bold text-white uppercase italic tracking-tight">Station 02: Arousal Volume Control</h2></div><div class="p-8 space-y-8"><div class="grid grid-cols-1 md:grid-cols-2 gap-10"><div class="space-y-4"><h3 class="text-[10px] font-bold text-slate-500 uppercase mono italic underline tracking-widest">The Inverted-U</h3><p class="text-sm text-slate-300 leading-relaxed">Performance peaks at moderate arousal. You must 'down-regulate' to discharge tension or 'up-regulate' to wake the nervous system.</p></div><div class="space-y-6"><div><label class="block text-[10px] font-bold uppercase text-amber-500 mb-2 mono">Down-Regulation (Relaxation)</label><p class="text-[10px] text-slate-400 italic mb-2"><strong>PMR (Progressive Muscle Relaxation)</strong> is a technique where you systematically tense and then relax specific muscle groups to release physical tension.</p><textarea id="p1_relax_plan" oninput="p1_saveData()" placeholder="List muscle groups for your PMR routine..." class="w-full h-24 rounded-lg p-3 text-xs italic resize-none"></textarea><p class="helper-text">Describe your routine to discharge somatic tension.</p></div><div><label class="block text-[10px] font-bold uppercase text-rose-500 mb-2 mono">Up-Regulation (Activation)</label><p class="text-[10px] text-slate-400 italic mb-2"><strong>Up-Regulation</strong> involves using physical actions or environmental triggers to increase heart rate and alertness when energy is too low.</p><textarea id="p1_active_plan" oninput="p1_saveData()" placeholder="List your 'Psych-Up' triggers (Music, Cues, Physical actions)..." class="w-full h-24 rounded-lg p-3 text-xs italic resize-none"></textarea><p class="helper-text">Triggers used to discharge apathy and enter the zone.</p></div></div></div><div class="flex justify-between pt-4"><button onclick="p1_showStep(1)" class="text-slate-500 font-bold uppercase text-[10px] tracking-widest"> Back</button><button onclick="p1_showStep(3)" class="bg-sky-600 px-8 py-3 rounded-lg text-white font-bold uppercase text-[10px] tracking-widest">Next Station </button></div></div></div>
                    <div id="p1-step3" class="step-content"><div class="relative px-6 py-4 border-b border-slate-800 bg-slate-900/50"><div class="absolute top-0 left-0 w-full h-1 bg-emerald-500"></div><h2 class="text-xl font-bold text-white uppercase italic tracking-tight">Station 03: The Focus Filter</h2></div><div class="p-8 space-y-8"><div class="grid grid-cols-1 md:grid-cols-2 gap-10"><div class="space-y-4"><h3 class="text-[10px] font-bold text-slate-500 uppercase mono italic underline tracking-widest">Attentional Narrowing</h3><p class="text-sm text-slate-300 leading-relaxed">Under high stress, your peripheral vision and mental focus shrinkoften called <strong>"Tunnel Vision."</strong> You lose the big picture. Cue words act as "Decoder Keys" that force the system to lock back onto task-relevant targets.</p><div class="bg-emerald-500/10 p-3 rounded border border-emerald-500/30"><span class="text-[9px] text-emerald-300 font-bold uppercase">The Goal:</span><p class="text-[10px] text-emerald-200">Shift from internal worry (Emotion) to external cues (Action).</p></div></div><div class="space-y-6"><div><label class="block text-[10px] font-bold uppercase text-sky-400 mb-2 mono">Instructional Decoder</label><input type="text" id="p1_cue_inst" oninput="p1_saveData()" placeholder="e.g., 'Elbows in', 'Smooth'..." class="w-full rounded-lg p-3 text-xs font-black italic"><p class="helper-text">Create a 1-2 word key specifically to FIX sloppy mechanics or technical errors.</p></div><div><label class="block text-[10px] font-bold uppercase text-amber-500 mb-2 mono">Motivational Decoder</label><input type="text" id="p1_cue_mot" oninput="p1_saveData()" placeholder="e.g., 'Power', 'Explode'..." class="w-full rounded-lg p-3 text-xs font-black italic"><p class="helper-text">Create a 1-2 word key specifically to FIX low energy or effort when drive is fading.</p></div><div><label class="block text-[10px] font-bold uppercase text-slate-400 mb-2 mono italic underline">Radar Jamming Scenario</label><textarea id="p1_jam_scenario" oninput="p1_saveData()" placeholder="Describe a specific high-pressure moment where you lose focus..." class="w-full h-24 rounded-lg p-3 text-xs italic resize-none"></textarea><p class="helper-text">Identify the exact moment panic sets in and which cue breaks the jam.</p></div></div></div><div class="flex justify-between pt-4"><button onclick="p1_showStep(2)" class="text-slate-500 font-bold uppercase text-[10px] tracking-widest"> Back</button><button onclick="p1_showStep(4)" class="bg-sky-600 px-8 py-3 rounded-lg text-white font-bold uppercase text-[10px] tracking-widest">Next Station </button></div></div></div>
                    <div id="p1-step4" class="step-content"><div class="relative px-6 py-4 border-b border-slate-800 bg-slate-900/50"><div class="absolute top-0 left-0 w-full h-1 bg-sky-500"></div><h2 class="text-xl font-bold text-white uppercase italic tracking-tight">Station 04: Confidence Builder</h2></div><div class="p-8 space-y-8"><div class="grid grid-cols-1 md:grid-cols-2 gap-10"><div class="space-y-4"><h3 class="text-[10px] font-bold text-slate-500 uppercase mono italic underline tracking-widest">Certainty Logic</h3><p class="text-sm text-slate-300 leading-relaxed">Uncertainty generates anxiety; Certainty generates confidence. You cannot control the outcome (Winning), but you can control the process (Mechanics). By shifting your focus to what you control, you build a "High Confidence" state.</p><div class="bg-slate-900 p-4 border border-slate-700 rounded-xl space-y-2"><h4 class="text-[10px] font-black text-white uppercase">S.M.A.R.T. Definition</h4><ul class="text-[9px] text-slate-400 space-y-1 font-mono"><li><strong class="text-sky-400">S</strong>PECIFIC: Clear and defined.</li><li><strong class="text-sky-400">M</strong>EASURABLE: Can be tracked.</li><li><strong class="text-sky-400">A</strong>CHIEVABLE: Realistic to your skill.</li><li><strong class="text-sky-400">R</strong>ELEVANT: Matters to your sport.</li><li><strong class="text-sky-400">T</strong>IME-BOUND: Has a deadline.</li></ul></div></div><div class="space-y-6"><div class="p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl"><label class="block text-[10px] font-bold uppercase text-emerald-400 mb-2 mono underline italic">Process Goal (100% Control)</label><input type="text" id="p1_goal_proc" oninput="p1_saveData()" placeholder="Specific form or mechanics goal..." class="w-full rounded-lg p-3 text-xs font-black italic"><p class="helper-text">This goal builds high confidence because it is entirely under your power.</p></div><div class="grid grid-cols-2 gap-4"><div class="p-4 bg-slate-900 border border-slate-800 rounded-xl"><label class="block text-[10px] font-bold uppercase text-amber-500 mb-2 mono">Performance Goal</label><input type="text" id="p1_goal_perf" oninput="p1_saveData()" placeholder="e.g. 80% accuracy..." class="w-full rounded-lg p-2 text-xs italic"><p class="helper-text">Partial Control.</p></div><div class="p-4 bg-slate-900 border border-slate-800 rounded-xl"><label class="block text-[10px] font-bold uppercase text-rose-500 mb-2 mono">Outcome Goal</label><input type="text" id="p1_goal_out" oninput="p1_saveData()" placeholder="e.g. Winning..." class="w-full rounded-lg p-2 text-xs italic"><p class="helper-text">Low Control.</p></div></div><div><label class="block text-[10px] font-bold uppercase text-white mb-2 mono italic underline leading-none">Final S.M.A.R.T. Goal Statement</label><textarea id="p1_smart_final" oninput="p1_saveData()" placeholder="Write out your full goal statement here using the SMART criteria above..." class="w-full h-24 rounded-lg p-3 text-xs italic resize-none border-2 border-slate-700 focus:border-sky-500"></textarea><p class="helper-text">Combine your goals into one clear sentence.</p></div></div></div><div class="flex justify-between pt-4"><button onclick="p1_showStep(3)" class="text-slate-500 font-bold uppercase text-[10px] tracking-widest"> Back</button><button onclick="p1_showStep(5)" class="bg-sky-600 px-8 py-3 rounded-lg text-white font-bold uppercase text-[10px] tracking-widest">Review & Export </button></div></div>
                    </div>
                    <div id="p1-step5" class="step-content"><div class="relative px-6 py-4 border-b border-slate-800 bg-slate-900/50"><div class="absolute top-0 left-0 w-full h-1 bg-emerald-500"></div><h2 class="text-xl font-bold text-white uppercase italic tracking-tight">Final Review & Rubric</h2></div><div class="p-8 space-y-12"><div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><div><label class="block text-[10px] font-bold uppercase text-slate-500 mb-4 tracking-widest mono italic underline underline-offset-2">Mental Fitness Assessment</label><div id="sc-container" class="space-y-4"></div><div class="border-t border-slate-800 mt-6 pt-6 flex justify-between items-center"><span class="text-[10px] uppercase font-bold text-slate-500 tracking-[0.2em]">Readiness Score</span><div class="text-4xl font-black italic text-emerald-500 leading-none"><span id="p1-total-score">00</span><span class="text-xl text-slate-700 font-normal not-italic">/25</span></div></div></div><div class="space-y-6"><label class="block text-[10px] font-bold uppercase text-sky-400 mb-2 tracking-widest mono italic underline leading-none underline-offset-4">Integration Narrative (Required)</label><textarea id="p1_final_narrative" oninput="p1_saveData()" placeholder="Explain how you will use these four stations to monitor your indicators and regulate your performance state..." class="w-full h-[240px] rounded-xl p-4 text-sm resize-none text-slate-200 border-2 border-sky-500/20 focus:border-sky-500 transition-all"></textarea><p class="helper-text">Prove your understanding: How do these tools prevent the "Crash"?</p></div></div><div class="border-t border-slate-800 pt-8"><label class="block text-[10px] font-bold uppercase text-emerald-500 mb-4 tracking-widest mono italic underline underline-offset-4">Tactical Rubric</label><div class="overflow-x-auto glass rounded-2xl border border-slate-800 shadow-xl"><table class="w-full text-left text-[10px] border-collapse min-w-[700px]"><thead><tr class="bg-slate-900 border-b border-slate-800"><th class="p-4 text-slate-500 uppercase font-black">Criteria</th><th class="p-4 text-emerald-400 uppercase font-black tracking-widest">Proficient (4-5)</th><th class="p-4 text-amber-400 uppercase font-black tracking-widest">Developing (2-3)</th><th class="p-4 text-rose-400 uppercase font-black tracking-widest">Emerging (0-1)</th></tr></thead><tbody class="text-[10px] leading-relaxed italic text-slate-400"><tr class="border-b border-slate-800/50"><td class="p-4 font-bold uppercase text-white mono">Stress Reset</td><td onclick="p1_setScore('reset', 5)" id="reset-5" class="rubric-cell p-4">Centering action is clearly defined (diaphragm) with a specific time trigger. Breath anchor logic is clear.</td><td onclick="p1_setScore('reset', 3)" id="reset-3" class="rubric-cell p-4">Breathing technique mentioned but lacks specific trigger or physiological detail.</td><td onclick="p1_setScore('reset', 1)" id="reset-1" class="rubric-cell p-4">Missing centering action or trigger.</td></tr><tr class="border-b border-slate-800/50"><td class="p-4 font-bold uppercase text-white mono">Arousal Tuning</td><td onclick="p1_setScore('tune', 5)" id="tune-5" class="rubric-cell p-4">Clear distinction between Up/Down regulation. PMR definition is accurate. Tools are actionable.</td><td onclick="p1_setScore('tune', 3)" id="tune-3" class="rubric-cell p-4">Tools identified but generic. Lacks personal specificity or clear definition of PMR.</td><td onclick="p1_setScore('tune', 1)" id="tune-1" class="rubric-cell p-4">Incomplete tuning strategies.</td></tr><tr class="border-b border-slate-800/50"><td class="p-4 font-bold uppercase text-white mono">Targeting (Cues)</td><td onclick="p1_setScore('focus', 5)" id="focus-5" class="rubric-cell p-4">Instructional (Technical) & Motivational (Energy) cues are distinct. Scenario breaks the 'jam'.</td><td onclick="p1_setScore('focus', 3)" id="focus-3" class="rubric-cell p-4">Cues are too long or vague. No distinction between instructional/motivational function.</td><td onclick="p1_setScore('focus', 1)" id="focus-1" class="rubric-cell p-4">Missing cues or scenario.</td></tr><tr class="border-b border-slate-800/50"><td class="p-4 font-bold uppercase text-white mono">Confidence</td><td onclick="p1_setScore('goals', 5)" id="goals-5" class="rubric-cell p-4">Full SMART statement is written. Process goal is 100% controllable.</td><td onclick="p1_setScore('goals', 3)" id="goals-3" class="rubric-cell p-4">Process goal relies on partial external factors. SMART statement missing or incomplete.</td><td onclick="p1_setScore('goals', 1)" id="goals-1" class="rubric-cell p-4">Goals are confused (e.g. Outcome listed as Process).</td></tr><tr><td class="p-4 font-bold uppercase text-white mono">Integration</td><td onclick="p1_setScore('intel', 5)" id="intel-5" class="rubric-cell p-4">Narrative demonstrates understanding of the Dashboard (Somatic/Cognitive) and Regulation.</td><td onclick="p1_setScore('intel', 3)" id="intel-3" class="rubric-cell p-4">Restates definitions without demonstrating personal application or logic.</td><td onclick="p1_setScore('intel', 1)" id="intel-1" class="rubric-cell p-4">Incomplete narrative.</td></tr></tbody></table></div></div><div class="flex flex-col md:flex-row gap-4 pt-8"><button onclick="p1_showStep(1)" class="flex-1 text-slate-500 font-bold uppercase text-[10px] tracking-widest hover:text-white transition-colors border border-slate-800 rounded-xl py-4"> Start Over</button><button onclick="p1_generatePDF()" class="flex-[2] bg-emerald-600 hover:bg-emerald-500 text-white font-black uppercase tracking-widest py-4 rounded-xl shadow-lg active:scale-95">Generate Tactical Report</button></div></div></div>
                </div>
            </div>
        </div>`,script:`const p1_cats = [ { id: 'reset', label: 'Stress Reset' }, { id: 'tune', label: 'Arousal' }, { id: 'focus', label: 'Targeting' }, { id: 'goals', label: 'Confidence' }, { id: 'intel', label: 'Integration' } ];
        let p1_scores = { reset: 0, tune: 0, focus: 0, goals: 0, intel: 0 };
        function p1_showStep(n) {
            document.querySelectorAll('#view-phase1 .step-content').forEach(s => s.classList.remove('active'));
            document.getElementById('p1-step' + n).classList.add('active');
            document.querySelectorAll('#view-phase1 .mod-nav-btn').forEach((b, i) => b.classList.toggle('active', i === n));
        }
        function p1_setScore(cat, val) {
            p1_scores[cat] = val;
            const group = document.getElementById(\`group-\${cat}\`);
            if(group) { group.querySelectorAll('button').forEach((b, i) => b.classList.toggle('active', (i+1) === val)); }
            const total = Object.values(p1_scores).reduce((a, b) => a + b, 0);
            document.getElementById('p1-total-score').innerText = total.toString().padStart(2, '0');
            p1_saveData();
        }
        function p1_getFormData() {
             return { b_scenario: document.getElementById('p1_breath_scenario').value, b_detail: document.getElementById('p1_breath_detail').value, relax: document.getElementById('p1_relax_plan').value, active: document.getElementById('p1_active_plan').value, inst: document.getElementById('p1_cue_inst').value, mot: document.getElementById('p1_cue_mot').value, jam: document.getElementById('p1_jam_scenario').value, proc: document.getElementById('p1_goal_proc').value, perf: document.getElementById('p1_goal_perf').value, out: document.getElementById('p1_goal_out').value, smart_final: document.getElementById('p1_smart_final').value, narr: document.getElementById('p1_final_narrative').value, scores: p1_scores };
        }
        function p1_saveData() { localStorage.setItem('elite_operator_v3_p1', JSON.stringify(p1_getFormData())); document.getElementById('p1-save-text').innerText = "Saved"; setTimeout(() => document.getElementById('p1-save-text').innerText = "System Ready", 1000); }
        function p1_populate(data) { if(!data) return; if(data.b_scenario) document.getElementById('p1_breath_scenario').value = data.b_scenario; if(data.b_detail) document.getElementById('p1_breath_detail').value = data.b_detail; if(data.relax) document.getElementById('p1_relax_plan').value = data.relax; if(data.active) document.getElementById('p1_active_plan').value = data.active; if(data.inst) document.getElementById('p1_cue_inst').value = data.inst; if(data.mot) document.getElementById('p1_cue_mot').value = data.mot; if(data.jam) document.getElementById('p1_jam_scenario').value = data.jam; if(data.proc) document.getElementById('p1_goal_proc').value = data.proc; if(data.perf) document.getElementById('p1_goal_perf').value = data.perf; if(data.out) document.getElementById('p1_goal_out').value = data.out; if(data.smart_final) document.getElementById('p1_smart_final').value = data.smart_final; if(data.narr) document.getElementById('p1_final_narrative').value = data.narr; if(data.scores) { p1_scores = data.scores; Object.keys(p1_scores).forEach(c => { if(p1_scores[c]>0) p1_setScore(c, p1_scores[c]); }); } }
        function p1_downloadBackup() { const data = p1_getFormData(); const blob = new Blob([JSON.stringify(data)], { type: "application/json" }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = "phase1-backup.json"; a.click(); }
        function p1_loadBackup(input) { const file = input.files[0]; if(!file) return; const reader = new FileReader(); reader.onload = (e) => { p1_populate(JSON.parse(e.target.result)); alert("Phase 1 Data Loaded"); }; reader.readAsText(file); }
        function p1_generatePDF() { 
            const data = p1_getFormData(); 
            const total = Object.values(p1_scores).reduce((a, b) => a + b, 0);
            const scoreDetails = p1_cats.map(c => \`<div style="display:flex; justify-content:space-between; border-bottom:1px solid #eee; padding:6px 0;"><span style="font-size:10px; font-weight:bold; color:#666; text-transform:uppercase;">\${c.label}</span><span style="font-weight:900; font-style:italic;">\${p1_scores[c.id] || 0}/5</span></div>\`).join('');
            const html = \`<!DOCTYPE html><html><head><title>Elite Operator Report</title><link href="https://cdn.tailwindcss.com" rel="stylesheet"><style>body{font-family:sans-serif;padding:40px;color:black;background:white;line-height:1.3}.header{border-bottom:5px solid black;padding-bottom:10px;margin-bottom:25px}.section{margin-bottom:20px;border-left:4px solid black;padding-left:15px}.label{font-size:8px;font-weight:bold;text-transform:uppercase;color:#888}.val{font-size:13px;font-weight:900;font-style:italic;border-bottom:1px solid #ddd;margin-bottom:8px;min-height:18px;color:#111}.narr-val{font-size:11px;line-height:1.4;padding:12px;background:#f9f9f9;border-radius:8px;border:1px solid #eee;margin-top:5px}</style></head><body><div style="max-width:800px;margin:auto"><div class="header flex justify-between items-end"><div><h1 class="text-3xl font-black italic uppercase">Operator Report</h1><p style="font-size:10px;letter-spacing:3px;text-transform:uppercase;font-weight:bold">Regulation Engine Tactical Assessment</p></div><div style="text-align:right"><p style="font-size:10px;text-transform:uppercase;font-weight:bold">Mental Fitness Score</p><p style="font-size:40px;font-weight:900;font-style:italic;line-height:1">\${total}/25</p></div></div><div class="grid grid-cols-2 gap-8"><div class="section" style="border-left-color:#f43f5e"><h2 style="font-size:12px;font-weight:900;text-transform:uppercase;margin-bottom:10px;color:#f43f5e">01 Stress Loop Reset</h2><div class="label">Deployment Scenario</div><div class="val">\${data.b_scenario||'...'}</div><div class="label">Centering Action</div><div class="val">\${data.b_detail||'...'}</div></div><div class="section" style="border-left-color:#f59e0b"><h2 style="font-size:12px;font-weight:900;text-transform:uppercase;margin-bottom:10px;color:#f59e0b">02 Arousal Tuning</h2><div class="label">Down-Regulation (PMR)</div><div class="val">\${data.relax||'...'}</div><div class="label">Up-Regulation (Active)</div><div class="val">\${data.active||'...'}</div></div></div><div class="grid grid-cols-2 gap-8"><div class="section" style="border-left-color:#10b981"><h2 style="font-size:12px;font-weight:900;text-transform:uppercase;margin-bottom:10px;color:#10b981">03 Targeting (Cues)</h2><div class="label">Instructional Cue</div><div class="val">\${data.inst||'...'}</div><div class="label">Motivational Cue</div><div class="val">\${data.mot||'...'}</div><div class="label">Jamming Scenario</div><div class="val" style="font-size:11px">\${data.jam||'...'}</div></div><div class="section" style="border-left-color:#0ea5e9"><h2 style="font-size:12px;font-weight:900;text-transform:uppercase;margin-bottom:10px;color:#0ea5e9">04 Confidence (SMART)</h2><div class="label">Process Goal (100% Control)</div><div class="val">\${data.proc||'...'}</div><div class="label">Full SMART Statement</div><div class="val" style="font-size:11px">\${data.smart_final||'...'}</div></div></div><div class="section"><h2 style="font-size:12px;font-weight:900;text-transform:uppercase;margin-bottom:5px">Integration Narrative</h2><div class="narr-val">\${data.narr||'---'}</div></div><div style="margin-top:20px;border-top:2px solid black;padding-top:15px"><h2 style="font-size:10px;font-weight:900;text-transform:uppercase;margin-bottom:8px">Evaluation Breakdown</h2>\${scoreDetails}</div></div><script>window.onload=function(){setTimeout(function(){window.print()},500)};<\\/script></body></html>\`; 
            const win = window.open('','_blank'); win.document.write(html); win.document.close(); 
        }`}},{id:`item-x`,title:`Empty Module`,code:{}}]},"Global Toolkit":[{id:`feat-darkmode`,title:`Dark Mode`,enabled:!0,hiddenFromUser:!0,userToggleable:!1,includeUi:!1,category:`theme`,description:`Sets site theme to dark mode by default`,code:{id:`tool-darkmode`,html:``,script:`(function(){
            document.documentElement.setAttribute('data-theme', 'dark');
            document.body.style.background = '#020617';
          })();`}},{id:`feat-calculator`,title:`Calculator`,enabled:!0,hiddenFromUser:!1,userToggleable:!0,includeUi:!0,category:`utility`,description:`Simple calculator widget`,code:{id:`tool-calculator`,html:`<div id="tool-calculator" class="hidden fixed bottom-4 right-4 bg-slate-800 border border-slate-700 rounded-xl p-4 shadow-2xl z-50">
            <div class="flex items-center justify-between mb-3">
              <h3 class="text-sm font-bold text-white">Calculator</h3>
              <button onclick="toggleTool('calculator')" class="text-slate-400 hover:text-white"></button>
            </div>
            <input id="calc-display" type="text" readonly class="w-full mb-2 p-2 bg-slate-900 border border-slate-700 rounded text-right text-white" value="0">
            <div class="grid grid-cols-4 gap-2">
              <button onclick="calcInput('7')" class="p-2 bg-slate-700 hover:bg-slate-600 rounded text-white">7</button>
              <button onclick="calcInput('8')" class="p-2 bg-slate-700 hover:bg-slate-600 rounded text-white">8</button>
              <button onclick="calcInput('9')" class="p-2 bg-slate-700 hover:bg-slate-600 rounded text-white">9</button>
              <button onclick="calcInput('/')" class="p-2 bg-blue-600 hover:bg-blue-500 rounded text-white">/</button>
              <button onclick="calcInput('4')" class="p-2 bg-slate-700 hover:bg-slate-600 rounded text-white">4</button>
              <button onclick="calcInput('5')" class="p-2 bg-slate-700 hover:bg-slate-600 rounded text-white">5</button>
              <button onclick="calcInput('6')" class="p-2 bg-slate-700 hover:bg-slate-600 rounded text-white">6</button>
              <button onclick="calcInput('*')" class="p-2 bg-blue-600 hover:bg-blue-500 rounded text-white"></button>
              <button onclick="calcInput('1')" class="p-2 bg-slate-700 hover:bg-slate-600 rounded text-white">1</button>
              <button onclick="calcInput('2')" class="p-2 bg-slate-700 hover:bg-slate-600 rounded text-white">2</button>
              <button onclick="calcInput('3')" class="p-2 bg-slate-700 hover:bg-slate-600 rounded text-white">3</button>
              <button onclick="calcInput('-')" class="p-2 bg-blue-600 hover:bg-blue-500 rounded text-white"></button>
              <button onclick="calcInput('0')" class="p-2 bg-slate-700 hover:bg-slate-600 rounded text-white">0</button>
              <button onclick="calcInput('.')" class="p-2 bg-slate-700 hover:bg-slate-600 rounded text-white">.</button>
              <button onclick="calcEquals()" class="p-2 bg-emerald-600 hover:bg-emerald-500 rounded text-white">=</button>
              <button onclick="calcInput('+')" class="p-2 bg-blue-600 hover:bg-blue-500 rounded text-white">+</button>
              <button onclick="calcClear()" class="col-span-4 p-2 bg-rose-600 hover:bg-rose-500 rounded text-white">Clear</button>
            </div>
          </div>`,script:`let calcValue = '0';
          function calcInput(val) {
            if (calcValue === '0') calcValue = val;
            else calcValue += val;
            document.getElementById('calc-display').value = calcValue;
          }
          function calcEquals() {
            try {
              calcValue = eval(calcValue).toString();
              document.getElementById('calc-display').value = calcValue;
            } catch(e) { calcValue = 'Error'; }
          }
          function calcClear() {
            calcValue = '0';
            document.getElementById('calc-display').value = calcValue;
          }`}},{id:`feat-timer`,title:`Timer`,enabled:!0,hiddenFromUser:!1,userToggleable:!0,includeUi:!0,category:`utility`,description:`Simple countdown timer`,code:{id:`tool-timer`,html:`<div id="tool-timer" class="hidden fixed bottom-4 left-4 bg-slate-800 border border-slate-700 rounded-xl p-4 shadow-2xl z-50 w-64">
            <div class="flex items-center justify-between mb-3">
              <h3 class="text-sm font-bold text-white">Timer</h3>
              <button onclick="toggleTool('timer')" class="text-slate-400 hover:text-white"></button>
            </div>
            <div id="timer-display" class="text-4xl font-bold text-center text-white mb-3">05:00</div>
            <div class="flex gap-2">
              <button onclick="startTimer()" class="flex-1 bg-emerald-600 hover:bg-emerald-500 text-white py-2 rounded">Start</button>
              <button onclick="pauseTimer()" class="flex-1 bg-amber-600 hover:bg-amber-500 text-white py-2 rounded">Pause</button>
              <button onclick="resetTimer()" class="flex-1 bg-rose-600 hover:bg-rose-500 text-white py-2 rounded">Reset</button>
            </div>
          </div>`,script:`let timerSeconds = 300;
          let timerInterval = null;
          function startTimer() {
            if (timerInterval) return;
            timerInterval = setInterval(() => {
              if (timerSeconds > 0) {
                timerSeconds--;
                const mins = Math.floor(timerSeconds / 60);
                const secs = timerSeconds % 60;
                document.getElementById('timer-display').textContent = mins.toString().padStart(2,'0') + ':' + secs.toString().padStart(2,'0');
              } else {
                clearInterval(timerInterval);
                timerInterval = null;
                alert('Timer finished!');
              }
            }, 1000);
          }
          function pauseTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
          }
          function resetTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
            timerSeconds = 300;
            document.getElementById('timer-display').textContent = '05:00';
          }`}},{id:`feat-print`,title:`Print Page`,enabled:!0,hiddenFromUser:!1,userToggleable:!1,includeUi:!1,category:`utility`,description:`Adds print button to toolbar`,code:{id:`tool-print`,html:`<button onclick="window.print()" class="fixed top-4 right-4 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-white px-4 py-2 rounded-lg text-sm font-bold shadow-lg z-50"> Print</button>`,script:``}}]},af=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MENTAL FITNESS | MASTER CONSOLE</title>
    <script src="https://cdn.tailwindcss.com"><\/script>
    <link href="https://fonts.googleapis.com/css?family=Inter:ital,wght@0,400;0,700;1,400;1,900&family=JetBrains+Mono:wght@700&display=swap" rel="stylesheet">
    <style>
        /* --- GLOBAL & SHARED STYLES --- */
        body { font-family: 'Inter', sans-serif; background-color: #020617; color: #e2e8f0; margin: 0; height: 100vh; overflow: hidden; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .glass-panel { background: rgba(15, 23, 42, 0.95); border-right: 1px solid rgba(51, 65, 85, 0.5); }
        .custom-scroll { overflow-y: auto; }
        .glass { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(10px); border: 1px solid rgba(51, 65, 85, 0.5); }
        input, textarea, select { background: #0f172a !important; border: 1px solid #1e293b !important; transition: all 0.2s; color: #e2e8f0; }
        input:focus, textarea:focus, select:focus { border-color: #0ea5e9 !important; outline: none; box-shadow: 0 0 0 1px #0ea5e9; }
        
        /* Navigation */
        .nav-item { display: flex; align-items: center; gap: 12px; width: 100%; padding: 16px; color: #64748b; font-size: 11px; text-transform: uppercase; letter-spacing: 0.1em; font-weight: 700; transition: all 0.2s; border-left: 2px solid transparent; }
        .nav-item:hover { background: rgba(30, 41, 59, 0.5); color: #e2e8f0; }
        .nav-item.active { background: rgba(14, 165, 233, 0.1); color: #38bdf8; border-left: 2px solid #38bdf8; }

        /* Module Buttons & Tabs */
        .score-btn, .mod-nav-btn, .nav-btn { background: #0f172a; border: 1px solid #1e293b; color: #64748b; transition: all 0.2s; }
        .score-btn:hover, .mod-nav-btn:hover, .nav-btn:hover { border-color: #0ea5e9; color: white; }
        .score-btn.active, .mod-nav-btn.active, .nav-btn.active { background: #0ea5e9; color: #000; font-weight: 900; border-color: #0ea5e9; }
        
        /* Layout Helpers */
        .phase-header { border-left: 4px solid #334155; padding-left: 1rem; margin-bottom: 1rem; }
        .phase-header.active { border-color: #0ea5e9; }
        .step-content { display: none; }
        .step-content.active { display: block; }
        .rubric-cell { cursor: pointer; transition: all 0.2s; border: 1px solid transparent; }
        .rubric-cell:hover { background: rgba(255,255,255,0.05); }
        .active-proficient { background: rgba(16, 185, 129, 0.2); border: 1px solid #10b981; color: #10b981; }
        .active-developing { background: rgba(245, 158, 11, 0.2); border: 1px solid #f59e0b; color: #f59e0b; }
        .active-emerging { background: rgba(244, 63, 94, 0.2); border: 1px solid #f43f5e; color: #f43f5e; }
        .helper-text { font-size: 8px; color: #64748b; font-style: italic; margin-top: 4px; line-height: 1.2; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 700; }
        .info-card { background: rgba(30, 41, 59, 0.4); border-left: 3px solid #0ea5e9; padding: 1.5rem; border-radius: 0.75rem; }
        .top-ten-input { font-size: 0.75rem; padding: 0.5rem !important; border-radius: 0.375rem !important; }
        
        /* Animations */
        @keyframes pulse-green { 0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); } 70% { box-shadow: 0 0 0 6px rgba(16, 185, 129, 0); } 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); } }
        .status-saved { animation: pulse-green 2s infinite; }
        .scan-line { height: 2px; width: 100%; background: rgba(0, 255, 65, 0.2); position: absolute; animation: scan 3s linear infinite; pointer-events: none; }
        @keyframes scan { 0% { top: 0%; } 100% { top: 100%; } }
    </style>
</head>
<body class="flex">

    <div class="w-64 glass-panel flex-shrink-0 flex flex-col h-full z-50">
        <div class="p-8 border-b border-slate-800">
            <h1 class="text-xl font-black italic text-white tracking-tighter uppercase leading-none">Mental<br><span class="text-sky-500">Fitness</span></h1>
            <p class="text-[10px] text-slate-500 mt-2 mono uppercase tracking-widest">Master Console v2.0</p>
        </div>
        <nav class="flex-1 overflow-y-auto py-4 space-y-1" id="main-nav">
            <div class="px-4 py-2 mt-4 text-[9px] font-bold text-slate-600 uppercase tracking-widest mono">System Modules</div>
            <!-- Dynamic Modules will be injected here -->
        </nav>
        <div class="p-6 border-t border-slate-800 text-center"><p class="text-[9px] text-slate-600 italic">"Recognition is the trigger for regulation."</p></div>
    </div>

    <div class="flex-1 relative bg-slate-900 h-full overflow-hidden" id="content-container">

        <!-- VIEW: MATERIALS -->
        <div id="view-materials" class="w-full h-full custom-scroll p-8 md:p-12">
            <div class="max-w-5xl mx-auto space-y-8">
                <div class="mb-12">
                    <h2 class="text-3xl font-black text-white italic uppercase tracking-tighter">Course <span class="text-sky-500">Materials</span></h2>
                </div>
                 <div id="pdf-viewer-container" class="hidden mb-12 bg-black rounded-xl border border-slate-700 overflow-hidden shadow-2xl"><div class="flex justify-between items-center p-3 bg-slate-800 border-b border-slate-700"><span id="viewer-title" class="text-xs font-bold text-white uppercase tracking-widest px-2">Document Viewer</span><button onclick="closeViewer()" class="text-xs text-rose-400 hover:text-white font-bold uppercase tracking-widest px-2">Close X</button></div><iframe id="pdf-frame" src="" width="100%" height="600" style="border:none;"></iframe></div>
                 <!-- Initial Materials Placeholder -->
                 <p class="text-slate-500 text-sm">Select a module to begin.</p>
            </div>
        </div>
        
        <!-- Dynamic Views will be injected here -->

        <iframe id="view-external" class="w-full h-full hidden" src=""></iframe>

    </div>

    <!-- MODULE SCRIPTS CONTAINER -->
    <script id="module-scripts">
        // New module logic will be appended here
    <\/script>

    <script>
        // --- CORE NAVIGATION LOGIC ---
        function switchView(view) {
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            
            // Hide all views generically
            const allViews = document.querySelectorAll('[id^="view-"]');
            allViews.forEach(v => v.classList.add('hidden'));

            // Show specific view
            const target = document.getElementById('view-' + view);
            if(target) target.classList.remove('hidden');
            
            // Activate button
            const navBtn = document.getElementById('nav-' + view);
            if(navBtn) navBtn.classList.add('active');
        }

        function openPDF(url, title) {
            const container = document.getElementById('pdf-viewer-container');
            document.getElementById('pdf-frame').src = url;
            document.getElementById('viewer-title').innerText = "VIEWING: " + title;
            container.classList.remove('hidden');
            container.scrollIntoView({ behavior: 'smooth' });
        }

        function closeViewer() {
            document.getElementById('pdf-viewer-container').classList.add('hidden');
            document.getElementById('pdf-frame').src = "";
        }
    <\/script>
</body>
</html>`,of=({title:e,icon:t,isActive:n,onClick:r,badge:i,badgeColor:a=`bg-blue-600`})=>(0,Q.jsxs)(`button`,{onClick:r,className:`w-full text-left p-4 mb-2 rounded-lg border transition-all duration-200 flex items-center justify-between gap-3 ${n?`bg-blue-900/20 border-blue-500 text-blue-100`:`bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-750 hover:border-slate-600`}`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`p-2 rounded-md ${n?`bg-blue-500/20 text-blue-400`:`bg-slate-700 text-slate-500`}`,children:(0,Q.jsx)(t,{size:20})}),(0,Q.jsx)(`span`,{className:`font-semibold text-lg`,children:e})]}),i>0&&(0,Q.jsx)(`span`,{className:`${a} text-white text-xs font-bold px-2 py-1 rounded-full`,children:i})]}),sf=({label:e,code:t,height:n=`h-32`})=>{let[r,i]=$(!1);return(0,Q.jsxs)(`div`,{className:`mt-4 border border-slate-700 rounded-lg overflow-hidden bg-slate-950`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center px-4 py-2 bg-slate-900 border-b border-slate-700`,children:[(0,Q.jsx)(`span`,{className:`text-xs font-mono text-slate-400 uppercase`,children:e}),(0,Q.jsxs)(`button`,{onClick:()=>{let e=document.createElement(`textarea`);e.value=typeof t==`string`?t:JSON.stringify(t,null,2),e.style.position=`fixed`,e.style.left=`-9999px`,e.style.top=`0`,document.body.appendChild(e),e.focus(),e.select();try{document.execCommand(`copy`)&&(i(!0),setTimeout(()=>i(!1),2e3))}catch(e){console.error(`Copy failed`,e)}document.body.removeChild(e)},className:`flex items-center gap-1 text-xs text-blue-400 hover:text-blue-300 transition-colors`,children:[r?(0,Q.jsx)(ie,{size:14}):(0,Q.jsx)(le,{size:14}),r?`Copied!`:`Copy Code`]})]}),(0,Q.jsx)(`pre`,{className:`p-4 overflow-x-auto text-sm font-mono text-slate-300 leading-relaxed whitespace-pre-wrap ${n}`,children:typeof t==`string`?t:JSON.stringify(t,null,2)})]})},cf=({active:e,labelA:t,labelB:n,labelC:r,onToggle:i,iconA:a,iconB:o,iconC:s})=>(0,Q.jsxs)(`div`,{className:`flex bg-slate-900 p-1 rounded-lg border border-slate-700 mb-6`,children:[(0,Q.jsxs)(`button`,{onClick:()=>i(`A`),className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-md text-xs font-bold transition-all ${e===`A`?`bg-blue-600 text-white shadow-lg`:`text-slate-500 hover:text-slate-300`}`,children:[(0,Q.jsx)(a,{size:14}),` `,t]}),(0,Q.jsxs)(`button`,{onClick:()=>i(`B`),className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-md text-xs font-bold transition-all ${e===`B`?`bg-purple-600 text-white shadow-lg`:`text-slate-500 hover:text-slate-300`}`,children:[(0,Q.jsx)(o,{size:14}),` `,n]}),r&&(0,Q.jsxs)(`button`,{onClick:()=>i(`C`),className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-md text-xs font-bold transition-all ${e===`C`?`bg-pink-600 text-white shadow-lg`:`text-slate-500 hover:text-slate-300`}`,children:[(0,Q.jsx)(s,{size:14}),` `,r]})]}),lf=()=>{let[e,t]=$(!1),[n,r]=$(``),i=`I need to update the Master Shell Template in "CourseFactoryDashboard.tsx".

**New Shell Code:**
\`\`\`html
${n}
\`\`\`

**Task:**
1. Locate the \`const MASTER_SHELL\` variable at the top of the file.
2. Replace its entire content (the backticked string) with the new HTML code provided above.
3. Do not modify any other logic.`;return(0,Q.jsx)(`div`,{className:`space-y-6 animate-in fade-in duration-500`,children:(0,Q.jsxs)(`div`,{className:`bg-slate-800 p-6 rounded-lg border border-slate-700`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,Q.jsxs)(`h2`,{className:`text-xl font-bold text-white flex items-center gap-2`,children:[(0,Q.jsx)(me,{className:`text-blue-400`}),` Phase 0: Master Shell`]}),(0,Q.jsxs)(`button`,{onClick:()=>t(!e),className:`text-xs px-3 py-1 rounded-full border transition-all flex items-center gap-2 ${e?`bg-amber-500/20 border-amber-500 text-amber-400`:`bg-slate-700 border-slate-600 text-slate-400`}`,children:[(0,Q.jsx)(se,{size:14}),` `,e?`Cancel Update`:`Update Template`]})]}),e?(0,Q.jsxs)(`div`,{className:`animate-in fade-in slide-in-from-top-4 bg-amber-900/10 border border-amber-800/50 p-4 rounded-xl mb-4`,children:[(0,Q.jsx)(`h3`,{className:`text-sm font-bold text-amber-400 mb-2`,children:`Update Master Template`}),(0,Q.jsxs)(`p`,{className:`text-xs text-slate-400 mb-4`,children:[`Paste your `,(0,Q.jsx)(`strong`,{children:`improved`}),` empty shell here (e.g. with new Global Features added). This will become the new "Factory Default" for all future projects.`]}),(0,Q.jsx)(`textarea`,{value:n,onChange:e=>r(e.target.value),className:`w-full bg-slate-950 border border-amber-900 rounded-lg p-3 text-xs text-amber-100 font-mono h-48 focus:border-amber-500 outline-none resize-y mb-4`,placeholder:`<!DOCTYPE html>...`}),n&&(0,Q.jsx)(sf,{label:`Canvas Update Prompt`,code:i,height:`h-32`})]}):(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`p`,{className:`text-slate-400 mb-4 text-sm`,children:[`This is your `,(0,Q.jsx)(`strong`,{children:`Golden Master`}),`. Copy this to start any new project.`]}),(0,Q.jsx)(sf,{label:`Master Shell (index.html)`,code:af,height:`h-64`})]})]})})},uf=({onImport:e})=>{let[t,n]=$(``),[r,i]=$([]),[a,o]=$({}),s=(e,t)=>{if(!t)return``;let n=e.split(`
`),r=[],i=!1,a=0,o=RegExp(`^(function|const|let|var)\\s+${t}`),s=RegExp(`^(function|const|let|var)\\s+`);for(let e=0;e<n.length;e++){let t=n[e],c=t.trim();if(o.test(c)&&(i=!0),i&&s.test(c)&&!o.test(c)&&a===0&&(i=!1),i){r.push(t);let e=c.replace(/"[^"]*"/g,``).replace(/'[^']*'/g,``).replace(/`[^`]*`/g,``),n=(e.match(/{/g)||[]).length,i=(e.match(/}/g)||[]).length;a+=n-i}}return r.join(`
`)};return(0,Q.jsx)(`div`,{className:`space-y-4 animate-in fade-in slide-in-from-right-8 mb-8`,children:(0,Q.jsxs)(`div`,{className:`bg-indigo-900/20 p-6 rounded-xl border border-indigo-500/50`,children:[(0,Q.jsxs)(`h3`,{className:`text-sm font-bold text-indigo-400 mb-2 flex items-center gap-2`,children:[(0,Q.jsx)(ue,{size:16}),` Batch Monolith Importer (V7-GapParser)`]}),(0,Q.jsxs)(`p`,{className:`text-xs text-slate-400 mb-4`,children:[`Paste the full `,(0,Q.jsx)(`code`,{className:`bg-slate-800 px-1 rounded`,children:`index.html`}),` code below. This version uses line-by-line Gap Parsing to safely extract code blocks.`]}),r.length===0?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(`textarea`,{value:t,onChange:e=>n(e.target.value),className:`w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-xs text-slate-300 font-mono h-48 focus:border-indigo-500 outline-none resize-y mb-4`,placeholder:`<!DOCTYPE html>...`}),(0,Q.jsx)(`button`,{onClick:()=>{try{let e=new DOMParser().parseFromString(t,`text/html`),n=Array.from(e.querySelectorAll(`script`)).map(e=>e.textContent).join(`

`),r=Array.from(e.querySelectorAll(`[id^="view-"]`)),a=Array.from(e.querySelectorAll(`.nav-item`)),c=r.map(e=>{let t=e.id,r=t.replace(`view-`,``),i=r.toUpperCase(),o=a.find(e=>{let t=e.getAttribute(`onclick`)||``;return t.includes(`'${r}'`)||t.includes(`"${r}"`)||e.id===`nav-${r}`});o&&(i=o.innerText.trim());let c=e.outerHTML.match(/onclick="([a-zA-Z0-9]+)_[a-zA-Z0-9]+\(/),l=c?c[1]+`_`:null,u=``;if(l)u=s(n,l);else if(t===`view-materials`){let e=n.match(/function openPDF[\s\S]*?closeViewer[\s\S]*?}/);e&&(u=e[0])}return{id:t,title:i,html:e.innerHTML.trim(),script:u,selected:!0}});i(c);let l={};c.forEach((e,t)=>l[t]=!0),o(l)}catch(e){alert(`Error parsing HTML: `+e.message)}},disabled:!t,className:`w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-lg text-xs disabled:opacity-50`,children:`Scan Code`})]}):(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsx)(`div`,{className:`max-h-96 overflow-y-auto space-y-2 pr-2 custom-scroll bg-slate-950/50 p-2 rounded-lg border border-slate-800`,children:r.map((e,t)=>(0,Q.jsxs)(`label`,{className:`flex items-start gap-3 p-3 bg-slate-900 rounded border border-slate-800 cursor-pointer hover:border-indigo-500 transition-colors group`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:!!a[t],onChange:e=>o({...a,[t]:e.target.checked}),className:`mt-1`}),(0,Q.jsxs)(`div`,{className:`flex-1`,children:[(0,Q.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,Q.jsx)(`div`,{className:`text-xs font-bold text-white group-hover:text-indigo-300 transition-colors`,children:e.title}),(0,Q.jsx)(`div`,{className:`text-[9px] px-1.5 py-0.5 rounded font-bold uppercase ${e.script.length>50?`bg-emerald-900/30 text-emerald-400`:`bg-rose-900/30 text-rose-400`}`,children:e.script.length>50?`JS Found`:`No JS / Global`})]}),(0,Q.jsx)(`div`,{className:`text-[10px] text-slate-500 font-mono mt-1`,children:e.id}),e.script.length>0&&(0,Q.jsxs)(`div`,{className:`mt-2 p-2 bg-black/50 rounded text-[9px] font-mono text-slate-600 truncate border border-slate-800`,children:[e.script.substring(0,100).replace(/\n/g,` `),`...`]})]})]},t))}),(0,Q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,Q.jsx)(`button`,{onClick:()=>i([]),className:`flex-1 bg-slate-800 text-slate-400 py-3 rounded-lg text-xs font-bold hover:bg-slate-700 hover:text-white transition-colors`,children:`Cancel`}),(0,Q.jsxs)(`button`,{onClick:()=>{e(r.filter((e,t)=>a[t])),i([]),n(``)},className:`flex-1 bg-emerald-600 text-white py-3 rounded-lg text-xs font-bold shadow-lg shadow-emerald-900/20 hover:bg-emerald-500 transition-colors`,children:[`Import `,Object.values(a).filter(e=>e).length,` Modules`]})]})]})]})})},df=({projectData:e,setProjectData:t,scannerNotes:n,setScannerNotes:r,addMaterial:i,editMaterial:a,deleteMaterial:o,moveMaterial:s,toggleMaterialHidden:c,addAssessment:l,editAssessment:u,deleteAssessment:d,moveAssessment:f,toggleAssessmentHidden:p,addQuestionToMaster:m,moveQuestion:h,deleteQuestion:g,updateQuestion:_,clearMasterAssessment:v,masterQuestions:y,setMasterQuestions:b,masterAssessmentTitle:x,setMasterAssessmentTitle:ee,currentQuestionType:S,setCurrentQuestionType:C,currentQuestion:w,setCurrentQuestion:te,editingQuestion:ie,setEditingQuestion:ae,generateMixedAssessment:oe,generatedAssessment:T,setGeneratedAssessment:pe,assessmentType:D,setAssessmentType:O,assessmentTitle:he,setAssessmentTitle:ge,quizQuestions:Se,setQuizQuestions:we,printInstructions:Te,setPrintInstructions:De,editingAssessment:Oe,setEditingAssessment:Me,migrateCode:Ne,setMigrateCode:Pe,migratePrompt:k,setMigratePrompt:Fe,migrateOutput:Ie,setMigrateOutput:Le})=>{let[Re,ze]=$(`MODULE`),[Be,Ve]=$(`B`),[He,Ue]=$(``),[We,Ge]=$(``),[A,Ke]=$(``),[qe,Je]=$(``),[Ye,Xe]=$(null),[Ze,Qe]=$(null),[$e,et]=$(!1),[tt,nt]=$(``),[rt,it]=$(null),[j,at]=$({number:``,title:``,description:``,viewUrl:``,downloadUrl:``,color:`slate`}),[ot,st]=$(``),[ct,lt]=$(``),[ut,dt]=$(null),[ft,pt]=$(null),[mt,M]=$(`MODULE`),ht=e=>{let n=e.map(e=>({id:e.id||`item-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:e.title,code:{id:e.id,html:e.html,script:e.script}}));t(e=>({...e,"Current Course":{...e[`Current Course`],modules:[...e[`Current Course`].modules,...n]}})),Xe(`success`),setTimeout(()=>Xe(null),3e3),et(!1)},gt=()=>{we([...Se,{question:``,options:[``,``,``,``],correct:0}])},_t=(e,t,n)=>{let r=[...Se];if(t===`question`||t===`correct`)r[e][t]=n;else if(t.startsWith(`option-`)){let i=parseInt(t.split(`-`)[1]);r[e].options[i]=n}we(r)},vt=()=>{let e=`quiz_${Date.now()}`;if(D===`quiz`){let t=Se.map((e,t)=>`
        <div class="mb-8 p-6 bg-slate-900 rounded-xl border border-slate-700">
          <h3 class="text-lg font-bold text-white mb-4">${t+1}. ${e.question}</h3>
          <div class="space-y-2">
            ${e.options.map((e,n)=>`
              <label class="flex items-center gap-3 p-3 bg-slate-800 rounded-lg cursor-pointer hover:bg-slate-750 transition-colors">
                <input type="radio" name="q${t}" value="${n}" class="w-4 h-4" />
                <span class="text-slate-300">${e}</span>
              </label>
            `).join(``)}
          </div>
        </div>
      `).join(``),n=Se.map(e=>e.correct),r=`<div id="${e}" class="w-full h-full custom-scroll p-8">
        <div class="max-w-4xl mx-auto">
          <header class="mb-8">
            <h1 class="text-3xl font-black text-white italic mb-2">${he}</h1>
            <p class="text-sm text-slate-400">Select the best answer for each question.</p>
          </header>
          <form id="${e}-form" class="space-y-6">
            ${t}
            <div class="flex gap-4">
              <button type="button" onclick="${e}_submit()" class="bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 px-8 rounded-lg">Submit Quiz</button>
              <button type="button" onclick="${e}_reset()" class="bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 px-8 rounded-lg">Reset</button>
            </div>
          </form>
          <div id="${e}-result" class="hidden mt-6 p-6 rounded-xl"></div>
        </div>
      </div>`,i=`
      const ${e}_answers = ${JSON.stringify(n)};
      function ${e}_submit() {
        const form = document.getElementById('${e}-form');
        let score = 0;
        let total = ${e}_answers.length;
        ${e}_answers.forEach((correctAnswer, idx) => {
          const selected = form.querySelector('input[name="q' + idx + '"]:checked');
          if (selected && parseInt(selected.value) === correctAnswer) {
            score++;
          }
        });
        const percentage = Math.round((score / total) * 100);
        const resultDiv = document.getElementById('${e}-result');
        resultDiv.className = percentage >= 70 ? 'mt-6 p-6 rounded-xl bg-emerald-900/20 border border-emerald-500' : 'mt-6 p-6 rounded-xl bg-rose-900/20 border border-rose-500';
        resultDiv.innerHTML = '<h3 class="text-2xl font-bold mb-2">' + (percentage >= 70 ? ' Passed!' : ' Keep Trying') + '</h3><p class="text-lg">Score: ' + score + '/' + total + ' (' + percentage + '%)</p>';
        resultDiv.classList.remove('hidden');
      }
      function ${e}_reset() {
        document.getElementById('${e}-form').reset();
        document.getElementById('${e}-result').classList.add('hidden');
      }
      `;pe(JSON.stringify({id:e,html:r,script:i,type:`quiz`,title:he},null,2))}else if(D===`longanswer`){let t=`<div id="${e}" class="w-full h-full custom-scroll p-8">
        <div class="max-w-4xl mx-auto">
          <header class="mb-8">
            <h1 class="text-3xl font-black text-white italic mb-2 print-title">${he}</h1>
            <p class="text-sm text-slate-400 no-print">Complete all questions. Your responses are auto-saved.</p>
          </header>
          
          <!-- Student Info -->
          <div class="grid grid-cols-2 gap-4 mb-8 p-6 bg-slate-900 rounded-xl border border-slate-700 print-header">
            <div>
              <label class="block text-xs font-bold text-slate-400 uppercase mb-2">Student Name</label>
              <input 
                type="text" 
                id="${e}-student-name"
                placeholder="Enter your name..."
                class="w-full bg-slate-950 border border-slate-700 rounded p-3 text-white text-sm focus:border-purple-500 focus:outline-none"
              />
            </div>
            <div>
              <label class="block text-xs font-bold text-slate-400 uppercase mb-2">Date</label>
              <input 
                type="date" 
                id="${e}-student-date"
                class="w-full bg-slate-950 border border-slate-700 rounded p-3 text-white text-sm focus:border-purple-500 focus:outline-none"
              />
            </div>
          </div>

          <!-- Questions -->
          <div class="space-y-6">
            ${Se.map((t,n)=>`
        <div class="mb-8 p-6 bg-slate-900 rounded-xl border border-slate-700 print-section">
          <h3 class="text-lg font-bold text-white mb-4 print-question">${n+1}. ${t.question}</h3>
          <textarea 
            id="${e}-answer-${n}" 
            placeholder="Type your answer here..."
            class="w-full h-48 bg-slate-950 border border-slate-700 rounded-lg p-4 text-white resize-none focus:border-purple-500 focus:outline-none print-response"
          ></textarea>
          <p class="text-xs text-slate-500 italic mt-2 no-print">Auto-saved to browser </p>
        </div>
      `).join(``)}
          </div>

          <!-- Action Buttons -->
          <div class="flex flex-wrap gap-3 mt-8 no-print">
            <button type="button" onclick="${e}_save()" class="bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 px-6 rounded-lg flex items-center gap-2">
               Save Progress
            </button>
            <button type="button" onclick="${e}_download()" class="bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-6 rounded-lg flex items-center gap-2">
               Download Backup
            </button>
            <button type="button" onclick="document.getElementById('${e}-upload').click()" class="bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-3 px-6 rounded-lg flex items-center gap-2">
               Upload Backup
            </button>
            <button type="button" onclick="${e}_print()" class="bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 px-6 rounded-lg flex items-center gap-2">
               Print & Submit
            </button>
            <button type="button" onclick="${e}_clear()" class="bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 px-6 rounded-lg flex items-center gap-2">
               Clear All
            </button>
          </div>
          <input type="file" id="${e}-upload" accept=".json" style="display: none;" onchange="${e}_loadBackup(this)" />

          <!-- Status Messages -->
          <div id="${e}-saved" class="hidden mt-6 p-4 rounded-xl bg-emerald-900/20 border border-emerald-500">
            <p class="text-emerald-400 font-bold"> Responses saved successfully!</p>
          </div>
          <div id="${e}-loaded" class="hidden mt-6 p-4 rounded-xl bg-blue-900/20 border border-blue-500">
            <p class="text-blue-400 font-bold"> Backup loaded successfully!</p>
          </div>

          <!-- Print Instructions -->
          <div class="mt-8 p-4 bg-amber-900/20 border border-amber-500/30 rounded-lg no-print">
            <p class="text-amber-300 text-sm">
               <strong>Instructions:</strong> Complete all questions, then click "Print & Submit" to create a PDF or print for your instructor.
            </p>
          </div>
        </div>

        <!-- Print Styles -->
        <style>
          @media print {
            body { background: white !important; }
            .no-print { display: none !important; }
            .print-title { color: black !important; font-size: 24pt; text-align: center; border-bottom: 3px solid black; padding-bottom: 10px; margin-bottom: 20px; }
            .print-header { background: white !important; border: 2px solid black !important; margin-bottom: 20px; }
            .print-header label { color: black !important; }
            .print-header input { border: none !important; border-bottom: 1px solid black !important; background: white !important; color: black !important; }
            .print-section { page-break-inside: avoid; background: white !important; border: 1px solid #ccc !important; margin-bottom: 20px; }
            .print-question { color: black !important; border-bottom: 2px solid #666; padding-bottom: 5px; }
            .print-response { background: white !important; color: black !important; border: 1px solid #999 !important; min-height: 200px; font-family: Arial, sans-serif; }
          }
        </style>
      </div>`,n=`
      const ${e}_count = ${Se.length};
      
      // Initialize: Load saved data on page load
      window.addEventListener('load', function() {
        ${e}_loadFromLocalStorage();
      });
      
      // Auto-save on input for all fields
      function ${e}_setupAutoSave() {
        // Student info auto-save
        const nameField = document.getElementById('${e}-student-name');
        const dateField = document.getElementById('${e}-student-date');
        if (nameField) {
          nameField.addEventListener('input', function() {
            localStorage.setItem('${e}-student-name', this.value);
          });
        }
        if (dateField) {
          dateField.addEventListener('input', function() {
            localStorage.setItem('${e}-student-date', this.value);
          });
        }
        
        // Answer auto-save
        for (let i = 0; i < ${e}_count; i++) {
          const textarea = document.getElementById('${e}-answer-' + i);
          if (textarea) {
            textarea.addEventListener('input', function() {
              localStorage.setItem('${e}-answer-' + i, this.value);
            });
          }
        }
      }
      
      // Load from localStorage
      function ${e}_loadFromLocalStorage() {
        const nameField = document.getElementById('${e}-student-name');
        const dateField = document.getElementById('${e}-student-date');
        
        if (nameField) {
          const savedName = localStorage.getItem('${e}-student-name');
          if (savedName) nameField.value = savedName;
        }
        if (dateField) {
          const savedDate = localStorage.getItem('${e}-student-date');
          if (savedDate) dateField.value = savedDate;
        }
        
        for (let i = 0; i < ${e}_count; i++) {
          const textarea = document.getElementById('${e}-answer-' + i);
          if (textarea) {
            const saved = localStorage.getItem('${e}-answer-' + i);
            if (saved) textarea.value = saved;
          }
        }
        
        ${e}_setupAutoSave();
      }
      
      // Manual Save
      function ${e}_save() {
        const savedDiv = document.getElementById('${e}-saved');
        savedDiv.classList.remove('hidden');
        setTimeout(function() { savedDiv.classList.add('hidden'); }, 3000);
      }
      
      // Download Backup
      function ${e}_download() {
        const data = {
          studentName: document.getElementById('${e}-student-name')?.value || '',
          studentDate: document.getElementById('${e}-student-date')?.value || '',
          answers: []
        };
        
        for (let i = 0; i < ${e}_count; i++) {
          const textarea = document.getElementById('${e}-answer-' + i);
          data.answers.push(textarea ? textarea.value : '');
        }
        
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = '${he.replace(/[^a-z0-9]/gi,`_`)}_backup.json';
        a.click();
        URL.revokeObjectURL(url);
      }
      
      // Load Backup
      function ${e}_loadBackup(input) {
        const file = input.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = function(e) {
          try {
            const data = JSON.parse(e.target.result);
            
            const nameField = document.getElementById('${e}-student-name');
            const dateField = document.getElementById('${e}-student-date');
            
            if (nameField && data.studentName) {
              nameField.value = data.studentName;
              localStorage.setItem('${e}-student-name', data.studentName);
            }
            if (dateField && data.studentDate) {
              dateField.value = data.studentDate;
              localStorage.setItem('${e}-student-date', data.studentDate);
            }
            
            data.answers.forEach((answer, i) => {
              const textarea = document.getElementById('${e}-answer-' + i);
              if (textarea) {
                textarea.value = answer;
                localStorage.setItem('${e}-answer-' + i, answer);
              }
            });
            
            const loadedDiv = document.getElementById('${e}-loaded');
            loadedDiv.classList.remove('hidden');
            setTimeout(function() { loadedDiv.classList.add('hidden'); }, 3000);
          } catch(err) {
            alert('Error loading backup file. Please check the file and try again.');
          }
        };
        reader.readAsText(file);
      }
      
      // Print
      function ${e}_print() {
        window.print();
      }
      
      // Clear All
      function ${e}_clear() {
        if (!confirm(' Clear all responses? This cannot be undone.')) return;
        
        const nameField = document.getElementById('${e}-student-name');
        const dateField = document.getElementById('${e}-student-date');
        
        if (nameField) {
          nameField.value = '';
          localStorage.removeItem('${e}-student-name');
        }
        if (dateField) {
          dateField.value = '';
          localStorage.removeItem('${e}-student-date');
        }
        
        for (let i = 0; i < ${e}_count; i++) {
          const textarea = document.getElementById('${e}-answer-' + i);
          if (textarea) textarea.value = '';
          localStorage.removeItem('${e}-answer-' + i);
        }
      }
      `;pe(JSON.stringify({id:e,html:t,script:n,type:`longanswer`,title:he},null,2))}else if(D===`print`){let t=`<div id="${e}" class="w-full h-full custom-scroll p-8">
        <div class="max-w-4xl mx-auto">
          <header class="mb-8">
            <h1 class="text-3xl font-black text-white italic mb-2">${he}</h1>
            <p class="text-sm text-slate-400">Complete this assignment and submit to your instructor.</p>
          </header>
          <div class="p-8 bg-slate-900 rounded-xl border border-slate-700">
            <h3 class="text-lg font-bold text-white mb-4">Instructions:</h3>
            <ol class="list-decimal list-inside space-y-2 text-slate-300 mb-8">
              ${Te||`<li>Complete all required work on a separate sheet</li>
              <li>Review your answers carefully</li>
              <li>Print this page as a cover sheet</li>
              <li>Attach your work and submit</li>`}
            </ol>
            <div class="border-t border-slate-700 pt-6 space-y-4">
              <div><span class="font-bold text-white">Student Name:</span> <span class="inline-block border-b border-slate-600 w-64 ml-2"></span></div>
              <div><span class="font-bold text-white">Date:</span> <span class="inline-block border-b border-slate-600 w-48 ml-2"></span></div>
              <div><span class="font-bold text-white">Assignment:</span> <span class="text-purple-400">${he}</span></div>
            </div>
          </div>
          <div class="mt-6 flex gap-4">
            <button type="button" onclick="window.print()" class="bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 px-8 rounded-lg">Print & Submit</button>
          </div>
          <div class="mt-4 p-4 bg-amber-900/20 border border-amber-500/30 rounded-lg">
            <p class="text-amber-300 text-sm"> <strong>Reminder:</strong> Print this page, complete the assignment, and submit to your instructor.</p>
          </div>
        </div>
      </div>`,n=`console.log('Print & Submit assessment loaded: ${he}');`;pe(JSON.stringify({id:e,html:t,script:n,type:`print`,title:he},null,2)),De(``)}},yt=(e=null)=>{Qe(null);let n=e||A,r=qe;if(!n||!r){Qe(`Missing Title or Code content.`);return}let i=n;try{typeof n==`string`&&(n.trim().startsWith(`{`)||n.trim().startsWith(`[`))&&(i=JSON.parse(n))}catch{Qe(`Invalid JSON format. Please check your syntax.`);return}let a={id:He||(i.id?i.id:`item-${Date.now()}`),title:r,code:i};t(e=>{let t={...e};if(Re===`MODULE`||Re===`ASSESSMENT`||Re===`AI_MODULE`&&mt===`MODULE`){let e=t[`Current Course`].modules||[];t[`Current Course`]={...t[`Current Course`],modules:[...e,a]}}else t[`Global Toolkit`]=[...t[`Global Toolkit`]||[],a];return t}),Ke(``),Je(``),Ue(``),Ge(``),Xe(`success`),setTimeout(()=>Xe(null),3e3)},bt=`I have a large HTML file I am pasting below. I am not a coder.
Please scan the file and list out every "${Re===`MODULE`?`Module View`:`Functional Feature`}" inside it.
For each one, tell me:
1. The HTML ID of the container div (e.g., id="view-something").
2. The specific Javascript Function Prefix used (e.g., function p1_saveData -> prefix is "p1_").

Format the output as a simple list I can copy.`;We.trim()?`${We}`:`${He}`;let xt=`I have a large "Monolith" HTML file (which I will paste below). 
I need to extract ONE specific ${Re.toLowerCase()} from it to create a standalone component file.

**Task:**
1. Extract the HTML Element with ID: "${He}".
2. Extract ALL JavaScript logic required for this element to function.
3. **CRITICAL RE-FACTORING STEPS:**
   - **Change Variables to VAR:** You MUST change any top-level state variables (like scores, category lists, settings) from \`const\` or \`let\` to \`var\`. (e.g., change \`const p1_scores = ...\` to \`var p1_scores = ...\`). This ensures the HTML buttons can see them.
   - **Attach Functions to Window:** After EACH function definition, add \`window.functionName = functionName;\` to make it accessible in Google Sites' sandboxed iframes. Example:
     \`\`\`javascript
     function ${We||`prefix_`}calculate() { ... }
     window.${We||`prefix_`}calculate = ${We||`prefix_`}calculate;
     \`\`\`
   - **Verify Selectors:** Check that the JS selectors (e.g., \`getElementById\`) actually match the IDs in the HTML you extracted. If the JS looks for a button but the HTML is a table cell, update the JS to match the HTML.
   - **Add Initialization Block:** At the END of the script, add an initialization block to force immediate execution in sandboxed environments. If the original code has initialization (DOMContentLoaded listeners, function calls at the bottom), preserve it. If not, add this:
     \`\`\`javascript
     // Force script execution in sandboxed environments
     if (document.readyState === 'loading') {
         document.addEventListener('DOMContentLoaded', function() {
             console.log(' ${He} module loaded');
         });
     } else {
         console.log(' ${He} module loaded');
     }
     \`\`\`

**Output Format:**
{
  "id": "${He}",
  "html": "<div>... (The full inner HTML) ...</div>",
  "script": "// State Variables (Must be var)\\nvar ${We||`prefix_`}scores = { ... };\\n\\n// Functions (with window attachment)\\nfunction ${We||`prefix_`}update() { ... }\\nwindow.${We||`prefix_`}update = ${We||`prefix_`}update;\\n\\n// Initialization (REQUIRED)\\nif (document.readyState === 'loading') {...}"
}`,St=Re===`MODULE`?`Current Course`:`Global Toolkit`,Ct=`I need to update the "CourseFactoryDashboard.tsx" file.
Please add the following data to the \`PROJECT_DATA\` object.

**Target:** ${St} (${Re})
**Data:**
\`\`\`javascript
{
  id: "${He||`item-x`}",
  title: "${qe}",
  code: ${A} 
}
\`\`\`

**Instructions:**
1. Locate \`PROJECT_DATA\` at the top.
2. Insert this object into the correct array (modules or Global Toolkit).
3. Ensure the 'code' property is inserted as a raw Object (not a string).
4. Do NOT modify the rest of the file.`;return(0,Q.jsx)(`div`,{className:`space-y-6 animate-in fade-in duration-500`,children:(0,Q.jsxs)(`div`,{className:`bg-slate-800 p-6 rounded-lg border border-slate-700`,children:[(0,Q.jsxs)(`h2`,{className:`text-xl font-bold text-white mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(fe,{className:`text-yellow-400`}),` Phase 1: Harvest`]}),(0,Q.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-center gap-4 mb-6`,children:[(0,Q.jsxs)(`div`,{className:`flex gap-2 bg-slate-900 p-1 rounded-lg border border-slate-700 w-full md:w-auto overflow-x-auto`,children:[(0,Q.jsxs)(`button`,{onClick:()=>{et(!1),ze(`MODULE`)},className:`flex items-center justify-center gap-2 py-2 px-3 rounded-md text-xs font-bold transition-all whitespace-nowrap ${!$e&&Re===`MODULE`?`bg-yellow-600 text-white shadow-lg`:`text-slate-500 hover:text-slate-300`}`,children:[(0,Q.jsx)(re,{size:14}),` Module`]}),(0,Q.jsxs)(`button`,{onClick:()=>{et(!1),ze(`FEATURE`)},className:`flex items-center justify-center gap-2 py-2 px-3 rounded-md text-xs font-bold transition-all whitespace-nowrap ${!$e&&Re===`FEATURE`?`bg-orange-600 text-white shadow-lg`:`text-slate-500 hover:text-slate-300`}`,children:[(0,Q.jsx)(ke,{size:14}),` Feature`]}),(0,Q.jsxs)(`button`,{onClick:()=>{et(!1),ze(`ASSESSMENT`)},className:`flex items-center justify-center gap-2 py-2 px-3 rounded-md text-xs font-bold transition-all whitespace-nowrap ${!$e&&Re===`ASSESSMENT`?`bg-purple-600 text-white shadow-lg`:`text-slate-500 hover:text-slate-300`}`,children:[(0,Q.jsx)(ce,{size:14}),` Assessment`]}),(0,Q.jsxs)(`button`,{onClick:()=>{et(!1),ze(`MATERIALS`)},className:`flex items-center justify-center gap-2 py-2 px-3 rounded-md text-xs font-bold transition-all whitespace-nowrap ${!$e&&Re===`MATERIALS`?`bg-pink-600 text-white shadow-lg`:`text-slate-500 hover:text-slate-300`}`,children:[(0,Q.jsx)(ne,{size:14}),` Materials`]}),(0,Q.jsxs)(`button`,{onClick:()=>{et(!1),ze(`AI_MODULE`)},className:`flex items-center justify-center gap-2 py-2 px-3 rounded-md text-xs font-bold transition-all whitespace-nowrap ${!$e&&Re===`AI_MODULE`?`bg-emerald-600 text-white shadow-lg`:`text-slate-500 hover:text-slate-300`}`,children:[(0,Q.jsx)(Ce,{size:14}),` AI Studio`]})]}),(0,Q.jsxs)(`button`,{onClick:()=>et(!$e),className:`w-full md:w-auto flex items-center justify-center gap-2 py-2 px-4 rounded-lg border text-xs font-bold transition-all ${$e?`bg-indigo-600 border-indigo-500 text-white shadow-[0_0_15px_rgba(79,70,229,0.4)]`:`bg-slate-800 border-slate-700 text-slate-400 hover:text-white`}`,children:[(0,Q.jsx)(me,{size:14}),` BATCH MODE`]})]}),$e?(0,Q.jsx)(uf,{onImport:ht}):(0,Q.jsxs)(Q.Fragment,{children:[Re===`ASSESSMENT`&&(0,Q.jsx)(`div`,{className:`animate-in fade-in slide-in-from-right-4 duration-300 space-y-4`,children:(0,Q.jsxs)(`div`,{className:`p-4 bg-purple-900/20 border border-purple-700/50 rounded-lg`,children:[(0,Q.jsx)(`h3`,{className:`text-sm font-bold text-purple-400 mb-4`,children:`Assessment Center`}),(0,Q.jsxs)(`div`,{className:`flex gap-2 mb-6 border-b border-purple-800/50 pb-2 overflow-x-auto`,children:[(0,Q.jsx)(`button`,{onClick:()=>Ve(`ADD`),className:`px-4 py-2 rounded-t text-xs font-bold transition-colors whitespace-nowrap ${Be===`ADD`?`bg-purple-600 text-white`:`bg-transparent text-slate-400 hover:text-white`}`,children:` Add Questions`}),(0,Q.jsx)(`button`,{onClick:()=>Ve(`MASTER`),className:`px-4 py-2 rounded-t text-xs font-bold transition-colors whitespace-nowrap ${Be===`MASTER`?`bg-purple-600 text-white`:`bg-transparent text-slate-400 hover:text-white`}`,children:` Master Assessment`}),(0,Q.jsx)(`button`,{onClick:()=>Ve(`MANAGE`),className:`px-4 py-2 rounded-t text-xs font-bold transition-colors whitespace-nowrap ${Be===`MANAGE`?`bg-purple-600 text-white`:`bg-transparent text-slate-400 hover:text-white`}`,children:` Manage`}),(0,Q.jsx)(`button`,{onClick:()=>Ve(`MIGRATE`),className:`px-4 py-2 rounded-t text-xs font-bold transition-colors whitespace-nowrap ${Be===`MIGRATE`?`bg-purple-600 text-white`:`bg-transparent text-slate-400 hover:text-white`}`,children:` Migrate`})]}),Be===`ADD`&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-slate-400 italic`,children:`Build individual questions to add to your Master Assessment.`}),(0,Q.jsxs)(`div`,{className:`flex gap-2 mb-4`,children:[(0,Q.jsx)(`button`,{onClick:()=>{C(`multiple-choice`),te({question:``,options:[``,``,``,``],correct:0})},className:`flex-1 py-3 px-4 rounded text-xs font-bold transition-all ${S===`multiple-choice`?`bg-blue-600 text-white shadow-lg`:`bg-slate-800 text-slate-400 hover:bg-slate-700`}`,children:` Multiple Choice`}),(0,Q.jsx)(`button`,{onClick:()=>{C(`long-answer`),te({question:``,options:[``,``,``,``],correct:0})},className:`flex-1 py-3 px-4 rounded text-xs font-bold transition-all ${S===`long-answer`?`bg-emerald-600 text-white shadow-lg`:`bg-slate-800 text-slate-400 hover:bg-slate-700`}`,children:` Long Answer`})]}),S===`multiple-choice`&&(0,Q.jsxs)(`div`,{className:`p-4 bg-blue-900/10 border border-blue-700/30 rounded-xl space-y-4`,children:[(0,Q.jsx)(`h4`,{className:`text-sm font-bold text-blue-400`,children:`Multiple Choice Question`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase mb-2`,children:`Question`}),(0,Q.jsx)(`textarea`,{value:w.question,onChange:e=>te({...w,question:e.target.value}),placeholder:`Enter your question...`,className:`w-full bg-slate-950 border border-slate-700 rounded p-3 text-white text-sm h-20 resize-none`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase mb-2`,children:`Answer Options`}),(0,Q.jsx)(`div`,{className:`space-y-2`,children:w.options.map((e,t)=>(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`radio`,name:`correct-answer`,checked:w.correct===t,onChange:()=>te({...w,correct:t}),className:`w-4 h-4`}),(0,Q.jsx)(`input`,{type:`text`,value:e,onChange:e=>{let n=[...w.options];n[t]=e.target.value,te({...w,options:n})},placeholder:`Option ${t+1}`,className:`flex-1 bg-slate-950 border border-slate-700 rounded p-2 text-white text-xs`})]},t))}),(0,Q.jsx)(`p`,{className:`text-[9px] text-slate-500 italic mt-2`,children:`Select the correct answer by clicking the radio button`})]}),(0,Q.jsxs)(`button`,{onClick:()=>{if(!w.question.trim()){alert(`Please enter a question`);return}if(w.options.some(e=>!e.trim())){alert(`Please fill in all answer options`);return}m({type:`multiple-choice`,question:w.question,options:w.options,correct:w.correct}),alert(` Question added to Master Assessment!`)},className:`w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded flex items-center justify-center gap-2`,children:[(0,Q.jsx)(ve,{size:16}),` Add to Master Assessment`]})]}),S===`long-answer`&&(0,Q.jsxs)(`div`,{className:`p-4 bg-emerald-900/10 border border-emerald-700/30 rounded-xl space-y-4`,children:[(0,Q.jsx)(`h4`,{className:`text-sm font-bold text-emerald-400`,children:`Long Answer Question`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase mb-2`,children:`Question / Prompt`}),(0,Q.jsx)(`textarea`,{value:w.question,onChange:e=>te({...w,question:e.target.value}),placeholder:`Enter your question or prompt...`,className:`w-full bg-slate-950 border border-slate-700 rounded p-3 text-white text-sm h-32 resize-none`}),(0,Q.jsx)(`p`,{className:`text-[9px] text-slate-500 italic mt-2`,children:`Students will see a large text area to respond`})]}),(0,Q.jsxs)(`button`,{onClick:()=>{if(!w.question.trim()){alert(`Please enter a question or prompt`);return}m({type:`long-answer`,question:w.question}),alert(` Question added to Master Assessment!`)},className:`w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded flex items-center justify-center gap-2`,children:[(0,Q.jsx)(ve,{size:16}),` Add to Master Assessment`]})]}),(0,Q.jsx)(`div`,{className:`p-4 bg-purple-900/20 border border-purple-500/30 rounded-lg`,children:(0,Q.jsxs)(`p`,{className:`text-purple-300 text-xs`,children:[` `,(0,Q.jsx)(`strong`,{children:`Tip:`}),` Add all your questions here, then go to the "Master Assessment" tab to organize them and generate the final assessment.`]})})]}),Be===`CREATE`&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(`div`,{className:`mb-4`,children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase mb-2`,children:`Assessment Title`}),(0,Q.jsx)(`input`,{type:`text`,value:he,onChange:e=>ge(e.target.value),placeholder:`e.g., Mental Fitness Quiz 1`,className:`w-full bg-slate-950 border border-slate-700 rounded p-3 text-white text-sm`})]}),(0,Q.jsxs)(`div`,{className:`flex gap-2 mb-4`,children:[(0,Q.jsx)(`button`,{onClick:()=>O(`quiz`),className:`flex-1 py-2 px-3 rounded text-xs font-bold ${D===`quiz`?`bg-purple-600 text-white`:`bg-slate-800 text-slate-400`}`,children:`Multiple Choice`}),(0,Q.jsx)(`button`,{onClick:()=>O(`longanswer`),className:`flex-1 py-2 px-3 rounded text-xs font-bold ${D===`longanswer`?`bg-purple-600 text-white`:`bg-slate-800 text-slate-400`}`,children:`Long Answer`}),(0,Q.jsx)(`button`,{onClick:()=>O(`print`),className:`flex-1 py-2 px-3 rounded text-xs font-bold ${D===`print`?`bg-purple-600 text-white`:`bg-slate-800 text-slate-400`}`,children:`Print & Submit`})]})]}),Be===`CREATE`&&D===`quiz`&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsx)(`div`,{className:`max-h-96 overflow-y-auto space-y-3 p-3 bg-slate-950 rounded border border-slate-700`,children:Se.map((e,t)=>(0,Q.jsxs)(`div`,{className:`p-3 bg-slate-900 rounded border border-slate-800`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-2`,children:[(0,Q.jsxs)(`span`,{className:`text-xs font-bold text-purple-400`,children:[`Question `,t+1]}),Se.length>1&&(0,Q.jsx)(`button`,{onClick:()=>we(Se.filter((e,n)=>n!==t)),className:`text-rose-400 hover:text-rose-300`,children:(0,Q.jsx)(Ee,{size:12})})]}),(0,Q.jsx)(`input`,{type:`text`,value:e.question,onChange:e=>_t(t,`question`,e.target.value),placeholder:`Enter question...`,className:`w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-xs mb-2`}),(0,Q.jsx)(`div`,{className:`space-y-1`,children:e.options.map((n,r)=>(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`radio`,name:`correct-${t}`,checked:e.correct===r,onChange:()=>_t(t,`correct`,r),className:`w-3 h-3`}),(0,Q.jsx)(`input`,{type:`text`,value:n,onChange:e=>_t(t,`option-${r}`,e.target.value),placeholder:`Option ${r+1}`,className:`flex-1 bg-slate-950 border border-slate-700 rounded p-2 text-white text-xs`})]},r))})]},t))}),(0,Q.jsxs)(`button`,{onClick:gt,className:`w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-2 rounded text-xs flex items-center justify-center gap-2`,children:[(0,Q.jsx)(ve,{size:14}),` Add Question`]})]}),Be===`CREATE`&&D===`longanswer`&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsx)(`div`,{className:`max-h-96 overflow-y-auto space-y-3 p-3 bg-slate-950 rounded border border-slate-700`,children:Se.map((e,t)=>(0,Q.jsxs)(`div`,{className:`p-3 bg-slate-900 rounded border border-slate-800`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-2`,children:[(0,Q.jsxs)(`span`,{className:`text-xs font-bold text-purple-400`,children:[`Prompt `,t+1]}),Se.length>1&&(0,Q.jsx)(`button`,{onClick:()=>we(Se.filter((e,n)=>n!==t)),className:`text-rose-400 hover:text-rose-300`,children:(0,Q.jsx)(Ee,{size:12})})]}),(0,Q.jsx)(`textarea`,{value:e.question,onChange:e=>_t(t,`question`,e.target.value),placeholder:`Enter your question or prompt...`,className:`w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-xs h-20 resize-none`}),(0,Q.jsx)(`p`,{className:`text-[9px] text-slate-500 italic mt-1`,children:`Students will see a large text area to respond to this prompt.`})]},t))}),(0,Q.jsxs)(`button`,{onClick:gt,className:`w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-2 rounded text-xs flex items-center justify-center gap-2`,children:[(0,Q.jsx)(ve,{size:14}),` Add Prompt`]})]}),Be===`CREATE`&&D===`print`&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase`,children:`Custom Instructions (Optional)`}),(0,Q.jsx)(`textarea`,{value:Te,onChange:e=>De(e.target.value),placeholder:`Enter custom instructions for students... (Leave blank for default)`,className:`w-full bg-slate-950 border border-slate-700 rounded p-3 text-white text-xs h-32 resize-none`}),(0,Q.jsx)(`p`,{className:`text-[9px] text-slate-500 italic`,children:`Default: Standard print & submit instructions with name/date fields`})]}),Be===`CREATE`&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(`div`,{className:`flex gap-2 mt-4`,children:(0,Q.jsx)(`button`,{onClick:vt,disabled:!he||D===`quiz`&&Se.some(e=>!e.question)||D===`longanswer`&&Se.some(e=>!e.question),className:`flex-1 bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded text-xs disabled:opacity-50 disabled:cursor-not-allowed`,children:`Generate Assessment Code`})}),T&&(0,Q.jsxs)(`div`,{className:`mt-4`,children:[(0,Q.jsx)(sf,{label:`Assessment JSON Preview`,code:T,height:`h-64`}),(0,Q.jsxs)(`button`,{onClick:()=>{try{let e=JSON.parse(T);l({title:he,type:D,html:e.html,script:e.script}),alert(` Assessment added successfully! Switching to Manage tab...`),pe(``),ge(``),we([{question:``,options:[``,``,``,``],correct:0}]),Ve(`MANAGE`)}catch(e){alert(` Error adding assessment. Please try again.`),console.error(e)}},className:`w-full mt-3 bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded text-xs flex items-center justify-center gap-2`,children:[(0,Q.jsx)(je,{size:14}),` Add Assessment to Assessments Module`]})]})]}),Be===`MASTER`&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-slate-400 italic`,children:`Organize your questions and generate the final assessment.`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase mb-2`,children:`Assessment Title`}),(0,Q.jsx)(`input`,{type:`text`,value:x,onChange:e=>ee(e.target.value),placeholder:`e.g., Mental Fitness Comprehensive Test`,className:`w-full bg-slate-950 border border-slate-700 rounded p-3 text-white text-sm`})]}),(0,Q.jsxs)(`div`,{className:`border-t border-slate-700 pt-4`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,Q.jsxs)(`h4`,{className:`text-xs font-bold text-slate-400 uppercase`,children:[`Questions (`,y.length,`)`]}),y.length>0&&(0,Q.jsx)(`button`,{onClick:v,className:`text-xs text-rose-400 hover:text-rose-300 font-bold`,children:`Clear All`})]}),y.length===0?(0,Q.jsxs)(`div`,{className:`text-center py-12 bg-slate-900/30 rounded-xl border border-slate-800`,children:[(0,Q.jsx)(`p`,{className:`text-sm text-slate-500 italic`,children:`No questions yet.`}),(0,Q.jsx)(`p`,{className:`text-xs text-slate-600 mt-2`,children:`Go to "Add Questions" tab to add questions.`})]}):(0,Q.jsx)(`div`,{className:`space-y-2`,children:y.sort((e,t)=>e.order-t.order).map((e,t)=>(0,Q.jsx)(`div`,{className:`p-4 bg-slate-900 rounded-lg border border-slate-800 hover:bg-slate-800/70 transition-colors`,children:(0,Q.jsxs)(`div`,{className:`flex items-start gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-8 h-8 rounded flex items-center justify-center bg-purple-500/10 border border-purple-500/20 text-purple-400 font-bold text-sm flex-shrink-0`,children:t+1}),(0,Q.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Q.jsx)(`div`,{className:`flex items-center gap-2 mb-1`,children:(0,Q.jsx)(`span`,{className:`text-[9px] font-bold uppercase px-2 py-1 rounded ${e.type===`multiple-choice`?`bg-blue-500/20 text-blue-400`:`bg-emerald-500/20 text-emerald-400`}`,children:e.type===`multiple-choice`?` MC`:` LA`})}),(0,Q.jsx)(`p`,{className:`text-sm text-slate-200 font-medium mb-1`,children:e.question}),e.type===`multiple-choice`&&(0,Q.jsxs)(`p`,{className:`text-[10px] text-slate-500`,children:[`Correct: `,e.options[e.correct]]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1 flex-shrink-0`,children:[(0,Q.jsx)(`button`,{onClick:()=>h(e.id,`up`),disabled:t===0,className:`p-1.5 hover:bg-slate-700 rounded disabled:opacity-30`,title:`Move up`,children:(0,Q.jsx)(se,{size:14})}),(0,Q.jsx)(`button`,{onClick:()=>h(e.id,`down`),disabled:t===y.length-1,className:`p-1.5 hover:bg-slate-700 rounded disabled:opacity-30 rotate-180`,title:`Move down`,children:(0,Q.jsx)(se,{size:14})}),(0,Q.jsx)(`button`,{onClick:()=>ae(e),className:`p-1.5 hover:bg-blue-900 hover:text-blue-400 rounded`,title:`Edit`,children:(0,Q.jsx)(_e,{size:14})}),(0,Q.jsx)(`button`,{onClick:()=>g(e.id),className:`p-1.5 hover:bg-rose-900 hover:text-rose-400 rounded`,title:`Delete`,children:(0,Q.jsx)(Ee,{size:14})})]})]})},e.id))})]}),y.length>0&&(0,Q.jsxs)(`button`,{onClick:()=>{if(!x.trim()){alert(`Please enter an assessment title`);return}oe()},disabled:!x,className:`w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-4 rounded-lg flex items-center justify-center gap-2 disabled:opacity-50`,children:[(0,Q.jsx)(Ce,{size:18}),` Generate Assessment Code`]}),T&&(0,Q.jsxs)(`div`,{className:`mt-4`,children:[(0,Q.jsx)(sf,{label:`Assessment JSON Preview`,code:T,height:`h-64`}),(0,Q.jsxs)(`button`,{onClick:()=>{try{let e=JSON.parse(T);l({title:x,type:`mixed`,html:e.html,script:e.script,questionCount:y.length}),alert(` Assessment added successfully! Switching to Manage tab...`),pe(``),ee(``),b([]),Ve(`MANAGE`)}catch(e){alert(` Error adding assessment. Please try again.`),console.error(e)}},className:`w-full mt-3 bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded text-xs flex items-center justify-center gap-2`,children:[(0,Q.jsx)(je,{size:14}),` Add Assessment to Module`]})]})]}),Be===`MANAGE`&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-slate-400 italic`,children:`Manage assessments stored in the Assessments module.`}),(0,Q.jsx)(`div`,{className:`space-y-2`,children:(()=>{let t=e[`Current Course`].modules.find(e=>e.id===`item-assessments`)?.assessments||[];return t.length===0?(0,Q.jsx)(`p`,{className:`text-xs text-slate-500 italic text-center py-4`,children:`No assessments yet. Create one using "Create New" tab.`}):t.sort((e,t)=>e.order-t.order).map(e=>(0,Q.jsx)(`div`,{className:`p-3 bg-slate-900 rounded-lg border border-slate-800 hover:bg-slate-800/70 transition-colors`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 flex-1`,children:[(0,Q.jsx)(`div`,{className:`w-8 h-8 rounded flex items-center justify-center text-purple-500 bg-purple-500/10 border border-purple-500/20 font-bold text-xs`,children:(0,Q.jsx)(ce,{size:16})}),(0,Q.jsxs)(`div`,{className:`flex-1`,children:[(0,Q.jsxs)(`div`,{className:`text-sm font-medium ${e.hidden?`text-slate-500 line-through`:`text-slate-200`}`,children:[e.title,` `,e.hidden&&(0,Q.jsx)(`span`,{className:`text-[9px] text-slate-600`,children:`(HIDDEN)`})]}),(0,Q.jsxs)(`div`,{className:`text-[10px] text-slate-500`,children:[`Type: `,e.type===`quiz`?`Multiple Choice`:e.type===`longanswer`?`Long Answer`:`Print & Submit`]})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(`button`,{onClick:()=>p(e.id),className:`p-1.5 rounded transition-colors ${e.hidden?`bg-slate-700 text-slate-400`:`bg-emerald-900 text-emerald-400`}`,title:e.hidden?`Show`:`Hide`,children:e.hidden?(0,Q.jsx)(E,{size:12}):(0,Q.jsx)(de,{size:12})}),(0,Q.jsx)(`button`,{onClick:()=>f(e.id,`up`),disabled:e.order===0,className:`p-1.5 hover:bg-slate-700 rounded disabled:opacity-30`,title:`Move up`,children:(0,Q.jsx)(se,{size:12})}),(0,Q.jsx)(`button`,{onClick:()=>f(e.id,`down`),disabled:e.order===t.length-1,className:`p-1.5 hover:bg-slate-700 rounded disabled:opacity-30 rotate-180`,title:`Move down`,children:(0,Q.jsx)(se,{size:12})}),(0,Q.jsx)(`button`,{onClick:()=>{Me(e)},className:`p-1.5 hover:bg-blue-900 hover:text-blue-400 rounded`,title:`Edit`,children:(0,Q.jsx)(_e,{size:12})}),(0,Q.jsx)(`button`,{onClick:()=>d(e.id),className:`p-1.5 hover:bg-rose-900 hover:text-rose-400 rounded`,title:`Delete`,children:(0,Q.jsx)(Ee,{size:12})})]})]})},e.id))})()}),Oe&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4`,onClick:()=>Me(null),children:(0,Q.jsxs)(`div`,{className:`bg-slate-900 border border-slate-700 rounded-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto`,onClick:e=>e.stopPropagation(),children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-bold text-white flex items-center gap-2`,children:[(0,Q.jsx)(_e,{size:20,className:`text-purple-400`}),`Edit Assessment`]}),(0,Q.jsx)(`button`,{onClick:()=>Me(null),className:`text-slate-400 hover:text-white transition-colors`,children:(0,Q.jsx)(Ae,{size:24})})]}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase mb-2`,children:`Assessment Title`}),(0,Q.jsx)(`input`,{type:`text`,value:Oe.title,onChange:e=>Me({...Oe,title:e.target.value}),className:`w-full bg-slate-950 border border-slate-700 rounded p-3 text-white text-sm`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase mb-2`,children:`Assessment Type`}),(0,Q.jsxs)(`div`,{className:`text-sm text-slate-300 bg-slate-950 border border-slate-700 rounded p-3`,children:[Oe.type===`quiz`?`Multiple Choice`:Oe.type===`longanswer`?`Long Answer`:`Print & Submit`,(0,Q.jsx)(`span`,{className:`text-[10px] text-slate-500 block mt-1`,children:`Type cannot be changed after creation`})]})]}),(0,Q.jsx)(`div`,{className:`p-4 bg-amber-900/20 border border-amber-500/30 rounded-lg`,children:(0,Q.jsxs)(`p`,{className:`text-amber-300 text-xs`,children:[(0,Q.jsx)(`strong`,{children:`Note:`}),` To edit questions/prompts, you'll need to recreate the assessment in the "Create New" tab with your changes.`]})}),(0,Q.jsxs)(`div`,{className:`flex gap-3 pt-4`,children:[(0,Q.jsx)(`button`,{onClick:()=>Me(null),className:`flex-1 bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded`,children:`Cancel`}),(0,Q.jsxs)(`button`,{onClick:()=>{u(Oe.id,{title:Oe.title}),Me(null)},className:`flex-1 bg-purple-600 hover:bg-purple-500 text-white font-bold py-2 rounded flex items-center justify-center gap-2`,children:[(0,Q.jsx)(ye,{size:16}),` Save Changes`]})]})]})]})}),ie&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4`,onClick:()=>ae(null),children:(0,Q.jsxs)(`div`,{className:`bg-slate-900 border border-slate-700 rounded-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto`,onClick:e=>e.stopPropagation(),children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-bold text-white flex items-center gap-2`,children:[(0,Q.jsx)(_e,{size:20,className:`text-purple-400`}),`Edit Question`]}),(0,Q.jsx)(`button`,{onClick:()=>ae(null),className:`text-slate-400 hover:text-white transition-colors`,children:(0,Q.jsx)(Ae,{size:24})})]}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase mb-2`,children:`Question`}),(0,Q.jsx)(`textarea`,{value:ie.question,onChange:e=>ae({...ie,question:e.target.value}),className:`w-full bg-slate-950 border border-slate-700 rounded p-3 text-white text-sm h-24 resize-none`})]}),ie.type===`multiple-choice`&&(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase mb-2`,children:`Answer Options`}),(0,Q.jsx)(`div`,{className:`space-y-2`,children:ie.options.map((e,t)=>(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`radio`,name:`edit-correct`,checked:ie.correct===t,onChange:()=>ae({...ie,correct:t}),className:`w-4 h-4`}),(0,Q.jsx)(`input`,{type:`text`,value:e,onChange:e=>{let n=[...ie.options];n[t]=e.target.value,ae({...ie,options:n})},placeholder:`Option ${t+1}`,className:`flex-1 bg-slate-950 border border-slate-700 rounded p-2 text-white text-xs`})]},t))})]}),(0,Q.jsxs)(`div`,{className:`flex gap-3 pt-4`,children:[(0,Q.jsx)(`button`,{onClick:()=>ae(null),className:`flex-1 bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded`,children:`Cancel`}),(0,Q.jsxs)(`button`,{onClick:()=>{_(ie.id,{question:ie.question,options:ie.options,correct:ie.correct}),ae(null)},className:`flex-1 bg-purple-600 hover:bg-purple-500 text-white font-bold py-2 rounded flex items-center justify-center gap-2`,children:[(0,Q.jsx)(ye,{size:16}),` Save Changes`]})]})]})]})})]}),Be===`MIGRATE`&&(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-slate-400`,children:`Convert existing assessment code to work with the Assessment Center using AI Studio.`}),(0,Q.jsxs)(`div`,{className:`space-y-3`,children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase`,children:`Paste Existing Assessment Code`}),(0,Q.jsx)(`textarea`,{value:Ne,onChange:e=>Pe(e.target.value),placeholder:`Paste your existing assessment HTML and JavaScript here...`,className:`w-full bg-slate-950 border border-slate-700 rounded p-3 text-white text-xs font-mono h-48 resize-none`}),(0,Q.jsxs)(`button`,{onClick:()=>{Fe(`I have an existing assessment that I need to adapt to work with my course builder system.

**ORIGINAL ASSESSMENT CODE:**
\`\`\`
${Ne}
\`\`\`

**REQUIREMENTS:**
1. Convert this to use our dark theme (slate-900 backgrounds, white text)
2. Use Tailwind CSS classes for all styling
3. Ensure it works with our assessment system structure
4. Return the code in this exact JSON format:
\`\`\`json
{
  "id": "assess-[unique-id]",
  "title": "[Assessment Title]",
  "type": "quiz", // or "longanswer" or "print"
  "html": "[Full HTML code here]",
  "script": "[Full JavaScript code here]"
}
\`\`\`

**STYLING GUIDELINES:**
- Use dark theme: bg-slate-900, bg-slate-950, text-white, text-slate-400
- Purple accents for assessment elements
- Rounded corners with rounded-lg, rounded-xl
- Borders with border-slate-700, border-slate-800
- Buttons: bg-purple-600 hover:bg-purple-500 text-white

Please convert the code following these guidelines and return ONLY the JSON.`)},disabled:!Ne.trim(),className:`w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-2 rounded text-xs disabled:opacity-50 flex items-center justify-center gap-2`,children:[(0,Q.jsx)(Ce,{size:14}),` Generate AI Studio Prompt`]}),k&&(0,Q.jsxs)(`div`,{className:`space-y-2`,children:[(0,Q.jsx)(sf,{label:`AI Studio Prompt (Copy & Use in Google AI Studio)`,code:k,height:`h-48`}),(0,Q.jsxs)(`button`,{onClick:()=>{navigator.clipboard.writeText(k),alert(`Prompt copied! Paste it into Google AI Studio.`)},className:`w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded text-xs flex items-center justify-center gap-2`,children:[(0,Q.jsx)(le,{size:14}),` Copy Prompt to Clipboard`]}),(0,Q.jsxs)(`div`,{className:`border-t border-slate-700 pt-3 mt-3`,children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-emerald-400 uppercase mb-2`,children:`Paste AI Studio Output`}),(0,Q.jsx)(`textarea`,{value:Ie,onChange:e=>Le(e.target.value),placeholder:`Paste the JSON output from AI Studio here...`,className:`w-full bg-slate-950 border border-emerald-700 rounded p-3 text-white text-xs font-mono h-32 resize-none`}),(0,Q.jsxs)(`button`,{onClick:()=>{try{let e=JSON.parse(Ie);l({title:e.title,type:e.type,html:e.html,script:e.script}),alert(`Assessment added successfully!`),Pe(``),Fe(``),Le(``),Ve(`MANAGE`)}catch{alert(`Invalid JSON. Please check the output and try again.`)}},disabled:!Ie.trim(),className:`w-full mt-2 bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-2 rounded text-xs disabled:opacity-50 flex items-center justify-center gap-2`,children:[(0,Q.jsx)(je,{size:14}),` Add Migrated Assessment`]})]})]})]})]})]})}),Re===`MATERIALS`&&(0,Q.jsx)(`div`,{className:`animate-in fade-in slide-in-from-right-4 duration-300 space-y-4`,children:(0,Q.jsxs)(`div`,{className:`p-4 bg-pink-900/20 border border-pink-700/50 rounded-lg`,children:[(0,Q.jsx)(`h3`,{className:`text-sm font-bold text-pink-400 mb-4`,children:`Materials Manager`}),(0,Q.jsxs)(`div`,{className:`p-4 bg-slate-950 rounded-xl border border-pink-800/50 mb-4`,children:[(0,Q.jsx)(`h4`,{className:`text-xs font-bold text-pink-300 mb-3`,children:`Add New Material`}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-3 mb-3`,children:[(0,Q.jsx)(`input`,{type:`text`,value:j.number,onChange:e=>at({...j,number:e.target.value}),placeholder:`Number (e.g., 05)`,className:`bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs`}),(0,Q.jsxs)(`select`,{value:j.color,onChange:e=>at({...j,color:e.target.value}),className:`bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs`,children:[(0,Q.jsx)(`option`,{value:`slate`,children:`Gray`}),(0,Q.jsx)(`option`,{value:`rose`,children:`Red`}),(0,Q.jsx)(`option`,{value:`amber`,children:`Orange`}),(0,Q.jsx)(`option`,{value:`emerald`,children:`Green`}),(0,Q.jsx)(`option`,{value:`sky`,children:`Blue`}),(0,Q.jsx)(`option`,{value:`purple`,children:`Purple`})]})]}),(0,Q.jsx)(`input`,{type:`text`,value:j.title,onChange:e=>at({...j,title:e.target.value}),placeholder:`Title (e.g., The Engine)`,className:`w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm mb-2`}),(0,Q.jsx)(`input`,{type:`text`,value:j.description,onChange:e=>at({...j,description:e.target.value}),placeholder:`Description`,className:`w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs mb-2`}),(0,Q.jsx)(`input`,{type:`text`,value:j.viewUrl,onChange:e=>at({...j,viewUrl:e.target.value}),placeholder:`View/Embed URL (Google Drive /preview link)`,className:`w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs mb-2`}),(0,Q.jsx)(`input`,{type:`text`,value:j.downloadUrl,onChange:e=>at({...j,downloadUrl:e.target.value}),placeholder:`Download URL (Google Drive /view link)`,className:`w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs mb-3`}),(0,Q.jsxs)(`button`,{onClick:()=>{if(!j.title||!j.viewUrl){alert(`Title and View URL are required`);return}i(j),at({number:``,title:``,description:``,viewUrl:``,downloadUrl:``,color:`slate`})},className:`w-full bg-pink-600 hover:bg-pink-500 text-white font-bold py-2 rounded text-xs flex items-center justify-center gap-2`,children:[(0,Q.jsx)(ve,{size:14}),` Add Material`]})]}),(0,Q.jsxs)(`div`,{className:`space-y-2`,children:[(0,Q.jsx)(`h4`,{className:`text-xs font-bold text-pink-300 mb-2`,children:`Current Materials`}),(()=>{let t=e[`Current Course`].modules.find(e=>e.id===`item-1768749223001`)?.materials||[];return t.length===0?(0,Q.jsx)(`p`,{className:`text-xs text-slate-500 italic text-center py-4`,children:`No materials yet. Add one above.`}):t.sort((e,t)=>e.order-t.order).map(e=>(0,Q.jsx)(`div`,{className:`p-3 bg-slate-900 rounded-lg border border-slate-800 hover:bg-slate-800/70 transition-colors`,children:(0,Q.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 flex-1`,children:[(0,Q.jsx)(`div`,{className:`w-8 h-8 rounded flex items-center justify-center text-${e.color}-500 bg-${e.color}-500/10 border border-${e.color}-500/20 font-bold text-xs`,children:e.number}),(0,Q.jsxs)(`div`,{className:`flex-1`,children:[(0,Q.jsxs)(`div`,{className:`text-sm font-medium ${e.hidden?`text-slate-500 line-through`:`text-slate-200`}`,children:[e.title,` `,e.hidden&&(0,Q.jsx)(`span`,{className:`text-[9px] text-slate-600`,children:`(HIDDEN)`})]}),(0,Q.jsx)(`div`,{className:`text-[10px] text-slate-500`,children:e.description})]})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(`button`,{onClick:()=>c(e.id),className:`p-1.5 rounded transition-colors ${e.hidden?`bg-slate-700 text-slate-400`:`bg-emerald-900 text-emerald-400`}`,title:e.hidden?`Show`:`Hide`,children:e.hidden?(0,Q.jsx)(E,{size:12}):(0,Q.jsx)(de,{size:12})}),(0,Q.jsx)(`button`,{onClick:()=>{it(e.id),at(e)},className:`p-1.5 hover:bg-blue-900 hover:text-blue-400 rounded`,title:`Edit`,children:(0,Q.jsx)(_e,{size:12})}),(0,Q.jsx)(`button`,{onClick:()=>s(e.id,`up`),disabled:e.order===0,className:`p-1.5 hover:bg-slate-700 rounded disabled:opacity-30`,title:`Move up`,children:(0,Q.jsx)(se,{size:12})}),(0,Q.jsx)(`button`,{onClick:()=>s(e.id,`down`),disabled:e.order===t.length-1,className:`p-1.5 hover:bg-slate-700 rounded disabled:opacity-30 rotate-180`,title:`Move down`,children:(0,Q.jsx)(se,{size:12})}),(0,Q.jsx)(`button`,{onClick:()=>o(e.id),className:`p-1.5 hover:bg-rose-900 hover:text-rose-400 rounded`,title:`Delete`,children:(0,Q.jsx)(Ee,{size:12})})]})]})},e.id))})()]}),rt&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4`,children:(0,Q.jsxs)(`div`,{className:`bg-slate-900 border border-slate-700 rounded-xl max-w-2xl w-full p-6`,children:[(0,Q.jsx)(`h3`,{className:`text-lg font-bold text-white mb-4`,children:`Edit Material`}),(0,Q.jsxs)(`div`,{className:`space-y-3`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,Q.jsx)(`input`,{type:`text`,value:j.number,onChange:e=>at({...j,number:e.target.value}),placeholder:`Number`,className:`bg-slate-950 border border-slate-700 rounded p-2 text-white text-xs`}),(0,Q.jsxs)(`select`,{value:j.color,onChange:e=>at({...j,color:e.target.value}),className:`bg-slate-950 border border-slate-700 rounded p-2 text-white text-xs`,children:[(0,Q.jsx)(`option`,{value:`slate`,children:`Gray`}),(0,Q.jsx)(`option`,{value:`rose`,children:`Red`}),(0,Q.jsx)(`option`,{value:`amber`,children:`Orange`}),(0,Q.jsx)(`option`,{value:`emerald`,children:`Green`}),(0,Q.jsx)(`option`,{value:`sky`,children:`Blue`}),(0,Q.jsx)(`option`,{value:`purple`,children:`Purple`})]})]}),(0,Q.jsx)(`input`,{type:`text`,value:j.title,onChange:e=>at({...j,title:e.target.value}),placeholder:`Title`,className:`w-full bg-slate-950 border border-slate-700 rounded p-3 text-white text-sm`}),(0,Q.jsx)(`input`,{type:`text`,value:j.description,onChange:e=>at({...j,description:e.target.value}),placeholder:`Description`,className:`w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-xs`}),(0,Q.jsx)(`input`,{type:`text`,value:j.viewUrl,onChange:e=>at({...j,viewUrl:e.target.value}),placeholder:`View URL`,className:`w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-xs`}),(0,Q.jsx)(`input`,{type:`text`,value:j.downloadUrl,onChange:e=>at({...j,downloadUrl:e.target.value}),placeholder:`Download URL`,className:`w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-xs`})]}),(0,Q.jsxs)(`div`,{className:`flex gap-3 mt-6`,children:[(0,Q.jsx)(`button`,{onClick:()=>{it(null),at({number:``,title:``,description:``,viewUrl:``,downloadUrl:``,color:`slate`})},className:`flex-1 bg-slate-700 hover:bg-slate-600 text-white py-2 rounded font-bold`,children:`Cancel`}),(0,Q.jsxs)(`button`,{onClick:()=>{a(rt,j),it(null),at({number:``,title:``,description:``,viewUrl:``,downloadUrl:``,color:`slate`})},className:`flex-1 bg-pink-600 hover:bg-pink-500 text-white py-2 rounded font-bold flex items-center justify-center gap-2`,children:[(0,Q.jsx)(ye,{size:16}),` Save Changes`]})]})]})})]})}),Re===`AI_MODULE`&&(0,Q.jsxs)(`div`,{className:`animate-in fade-in slide-in-from-right-4 duration-300 space-y-6`,children:[(0,Q.jsxs)(`div`,{className:`flex gap-2 bg-slate-900 p-1 rounded-lg border border-slate-700 w-full max-w-md mx-auto`,children:[(0,Q.jsxs)(`button`,{onClick:()=>M(`MODULE`),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-md text-xs font-bold transition-all ${mt===`MODULE`?`bg-sky-600 text-white shadow-lg`:`text-slate-500 hover:text-slate-300`}`,children:[(0,Q.jsx)(re,{size:14}),` Create Module`]}),(0,Q.jsxs)(`button`,{onClick:()=>M(`FEATURE`),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-md text-xs font-bold transition-all ${mt===`FEATURE`?`bg-orange-600 text-white shadow-lg`:`text-slate-500 hover:text-slate-300`}`,children:[(0,Q.jsx)(ke,{size:14}),` Create Feature`]})]}),(0,Q.jsxs)(`div`,{className:`p-4 bg-emerald-900/20 border border-emerald-700/50 rounded-lg`,children:[(0,Q.jsxs)(`h3`,{className:`text-sm font-bold text-emerald-400 mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(Ce,{size:16}),` Step 1: Generate AI Prompt`]}),(0,Q.jsx)(`p`,{className:`text-xs text-slate-400 mb-4`,children:mt===`MODULE`?`Describe what course module you want to create. We'll generate an optimized prompt for Google AI Studio.`:`Describe what reusable feature you want to create. Features are saved to the Global Toolkit and can be used across courses.`}),(0,Q.jsxs)(`div`,{className:`space-y-3`,children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase`,children:mt===`MODULE`?`Describe Your Module`:`Describe Your Feature`}),(0,Q.jsx)(`textarea`,{value:tt,onChange:e=>nt(e.target.value),placeholder:mt===`MODULE`?`Example: Create a drag-and-drop goal-setting activity with 3 categories (Personal, Professional, Health). Include a save button that stores goals to localStorage and a reset button.`:`Example: Create a save/load system with 3 buttons: Save Progress, Load Progress, and Clear All. Use localStorage with a configurable storage key. Show success/error toasts.`,className:`w-full bg-slate-950 border border-emerald-900 rounded-lg p-3 text-sm text-white h-32 focus:border-emerald-500 outline-none resize-y`}),(0,Q.jsxs)(`button`,{onClick:()=>{st(`=== PROMPT FOR GOOGLE AI STUDIO ===

I am building a feature for the "Course Factory" Learning Platform. 
I need you to act as a Senior System Architect. 

**YOUR GOAL:** Analyze my feature request and generate robust, non-conflicting code that is safe for a Single Page Application (SPA).

**OUTPUT FORMAT:**
Return ONLY valid JSON. No markdown. Single-line strings.
\`\`\`json
{
  "id": "${mt===`MODULE`?`view`:`feat`}-[descriptive-name]",
  "html": "...",
  "script": "..."
}
\`\`\`

**SYSTEM CONTEXT:**
- **Framework:** HTML5 + Vanilla JS + Tailwind CSS (CDN).
- **Theme:** Dark Mode (Bg: \`bg-slate-950\`, Text: \`text-slate-200\`).
- **Wrapper Logic:** Your code is injected into a parent container that handles visibility. **NEVER use \`hidden\` or \`display:none\` on your root HTML element.**

**SAFETY PROTOCOLS (CRITICAL):**
1. **Namespace Security:** All variables and function names MUST use a unique prefix based on the feature name (e.g., \`featCalc_calculate\`, \`featTimer_start\`). Do not use generic names like \`count\` or \`calcValue\`.
2. **Variable Scope Safety:** Use \`var\` (NOT \`const\` or \`let\`) for any state variables that need to be accessed by inline onclick handlers. This ensures they are accessible from the global scope. Example: \`var featCalc_state = {};\` instead of \`const featCalc_state = {};\`.
3. **Window Attachment (CRITICAL):** After defining each function, you MUST explicitly attach it to the window object for Google Sites compatibility. Example:
   \`\`\`javascript
   function featCalc_calculate() { ... }
   window.featCalc_calculate = featCalc_calculate;
   \`\`\`
   This ensures inline onclick handlers can find the function in sandboxed environments.
4. **No Zombie Listeners:** Prefer inline attributes (e.g., \`onclick="featCalc_handle()"\`) over \`window.addEventListener\`.
5. **Visibility Safety:** The HTML string must be visible by default. Do not add \`hidden\` classes to the outer-most div.
6. **Close Logic:** If building a tool, the close button should trigger \`toggleTool('tool-id')\` (where 'tool-id' matches your div id, e.g. 'tool-calculator').
7. **Initialization Block (REQUIRED):** At the END of your script, you MUST add initialization code to force execution in sandboxed environments (like Google Sites). This ensures all functions are registered before user interaction. Minimum requirement:
   \`\`\`javascript
   // Force script execution
   if (document.readyState === 'loading') {
       document.addEventListener('DOMContentLoaded', function() {
           console.log(' [feature-name] loaded');
       });
   } else {
       console.log(' [feature-name] loaded');
   }
   \`\`\`
   If your code has state to restore from localStorage, call your populate/init function here instead.

**LOGIC ROUTER (How to build this):**

**CASE A: Standard Tool (Calculator, Timer, Notes)**
- Build a fixed position Card UI (\`fixed bottom-4 right-4 z-50 bg-slate-800\`).
- Ensure the UI is visible immediately (no \`hidden\` class).
- Use \`localStorage\` for saving data.

**CASE B: System Integrator (Theme Switcher, Progress Bar)**
- To read data, scan DOM via \`document.querySelectorAll\`.

**CASE C: Visual Overlay (Modal, Popup)**
- Use \`fixed inset-0 z-[100]\` to sit on top of the Sidebar.

**CASE D: External Libraries (Charts, PDF)**
- Inject the required CDN script tag inside the HTML string.

**MY REQUEST:**
${tt}
`)},disabled:!tt.trim(),className:`w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded-lg text-xs disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2`,children:[(0,Q.jsx)(Ce,{size:14}),` Generate Full Prompt`]})]}),ot&&(0,Q.jsxs)(`div`,{className:`mt-4 pt-4 border-t border-emerald-800`,children:[(0,Q.jsx)(sf,{label:`Copy this prompt to Google AI Studio`,code:ot,height:`h-64`}),(0,Q.jsxs)(`div`,{className:`mt-2 p-3 bg-sky-900/20 border border-sky-700/50 rounded text-xs text-sky-200`,children:[(0,Q.jsx)(`strong`,{children:`Next:`}),` Copy the prompt above, paste it into Google AI Studio, and copy the JSON response back to Step 2 below.`]})]})]}),(0,Q.jsxs)(`div`,{className:`p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg`,children:[(0,Q.jsxs)(`h3`,{className:`text-sm font-bold text-blue-400 mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(fe,{size:16}),` Step 2: Import AI Studio Output`]}),(0,Q.jsx)(`p`,{className:`text-xs text-slate-400 mb-4`,children:`Paste the JSON response from Google AI Studio here. We'll validate and parse it.`}),(0,Q.jsxs)(`div`,{className:`space-y-3`,children:[(0,Q.jsx)(`textarea`,{value:ct,onChange:e=>{lt(e.target.value),pt(null),dt(null)},placeholder:mt===`MODULE`?`Paste JSON here: { "id": "view-example", "html": "...", "script": "..." }`:`Paste JSON here: { "id": "feat-example", "html": "...", "script": "..." }`,className:`w-full bg-slate-950 border border-blue-900 rounded-lg p-3 text-xs text-blue-100 font-mono h-48 focus:border-blue-500 outline-none resize-y`}),ft&&(0,Q.jsxs)(`div`,{className:`p-3 bg-rose-900/30 border border-rose-600 rounded text-xs text-rose-200`,children:[(0,Q.jsx)(`strong`,{children:`Parse Error:`}),` `,ft]}),ut&&(0,Q.jsxs)(`div`,{className:`space-y-2`,children:[(0,Q.jsxs)(`div`,{className:`p-3 bg-emerald-900/20 border border-emerald-700 rounded space-y-1`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 text-xs text-emerald-300`,children:[(0,Q.jsx)(ce,{size:14}),` `,(0,Q.jsx)(`strong`,{children:`Valid JSON detected`})]}),(0,Q.jsxs)(`div`,{className:`text-xs text-slate-400`,children:[`ID: `,(0,Q.jsx)(`span`,{className:`font-mono text-emerald-400`,children:ut.id})]}),(0,Q.jsxs)(`div`,{className:`text-xs text-slate-400`,children:[`HTML length: `,(0,Q.jsx)(`span`,{className:`text-white`,children:ut.html?.length||0}),` chars`]}),(0,Q.jsxs)(`div`,{className:`text-xs text-slate-400`,children:[`Script: `,(0,Q.jsx)(`span`,{className:`text-white`,children:ut.script?`Present`:`None`})]})]}),(0,Q.jsx)(`input`,{type:`text`,value:qe,onChange:e=>Je(e.target.value),placeholder:mt===`MODULE`?`Module title for sidebar (e.g., Goal Setting Activity)`:`Feature title for Global Toolkit (e.g., Save/Load System)`,className:`w-full bg-slate-950 border border-blue-700 rounded-lg p-3 text-white text-sm`})]}),(0,Q.jsxs)(`button`,{onClick:()=>{try{let e=ct.trim(),t=e;if(e.includes("```json")){let n=e.match(/```json\s*([\s\S]*?)\s*```/);n&&(t=n[1])}else if(e.includes("```")){let n=e.match(/```\s*([\s\S]*?)\s*```/);n&&(t=n[1])}let n=JSON.parse(t);if(!n.id)throw Error(`Missing "id" field`);if(!n.html)throw Error(`Missing "html" field`);dt(n),pt(null),Ke(JSON.stringify(n,null,2))}catch(e){pt(e.message),dt(null)}},disabled:!ct.trim(),className:`w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-lg text-xs disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2`,children:[(0,Q.jsx)(fe,{size:14}),` Parse & Validate JSON`]})]})]}),ut&&qe&&(0,Q.jsxs)(`div`,{className:`p-4 bg-slate-900/50 border border-slate-700 rounded-lg`,children:[(0,Q.jsxs)(`h3`,{className:`text-sm font-bold text-white mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(ce,{size:16}),` Step 3: Preview & Commit`]}),(0,Q.jsx)(`div`,{className:`flex gap-3`,children:(0,Q.jsxs)(`button`,{onClick:()=>{yt(A),nt(``),st(``),lt(``),dt(null),Je(``)},className:`flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-4 rounded-lg transition-colors flex items-center justify-center gap-2 text-sm shadow-lg`,children:[(0,Q.jsx)(je,{size:16}),` Add to Project`]})}),Ye===`success`&&(0,Q.jsxs)(`div`,{className:`mt-3 text-xs text-emerald-400 font-bold animate-in fade-in zoom-in flex items-center gap-2 justify-center bg-emerald-900/20 p-2 rounded border border-emerald-800`,children:[(0,Q.jsx)(ce,{size:14}),mt===`MODULE`?`Module added! Check Phase 2 to preview or Phase 4 to compile.`:`Feature added to Global Toolkit! Check Phase 5 to view or Phase 4 to add to a course.`]})]})]}),Re!==`ASSET`&&Re!==`ASSESSMENT`&&Re!==`AI_MODULE`&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(cf,{active:Be,onToggle:Ve,labelA:`New Content (PDF)`,labelB:`Migrate Code`,iconA:Ce,iconB:be}),Be===`B`&&(0,Q.jsxs)(`div`,{className:`animate-in fade-in slide-in-from-right-4 duration-300 space-y-8`,children:[(0,Q.jsxs)(`div`,{className:`bg-slate-900/50 p-4 rounded-xl border border-blue-900/50`,children:[(0,Q.jsxs)(`h3`,{className:`text-sm font-bold text-blue-400 flex items-center gap-2 mb-2`,children:[(0,Q.jsx)(xe,{size:16}),` Step 1: The Scanner`]}),(0,Q.jsx)(sf,{label:`Analysis Prompt`,code:bt,height:`h-24`}),(0,Q.jsx)(`div`,{className:`mt-4 pt-4 border-t border-slate-800`,children:(0,Q.jsx)(`textarea`,{value:n,onChange:e=>r(e.target.value),className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-xs text-slate-300 font-mono h-24 focus:border-blue-500 outline-none resize-y`,placeholder:`Paste results here...`})})]}),(0,Q.jsxs)(`div`,{className:`bg-slate-900/50 p-4 rounded-xl border border-pink-900/50`,children:[(0,Q.jsxs)(`h3`,{className:`text-sm font-bold text-pink-400 flex items-center gap-2 mb-2`,children:[(0,Q.jsx)(be,{size:16}),` Step 2: The Extractor`]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4 mb-4`,children:[(0,Q.jsx)(`input`,{type:`text`,value:He,onChange:e=>Ue(e.target.value),placeholder:`Target ID...`,className:`w-full bg-slate-900 border border-slate-700 rounded p-2 text-pink-400 font-mono text-xs`}),(0,Q.jsx)(`input`,{type:`text`,value:We,onChange:e=>Ge(e.target.value),placeholder:`JS Prefix...`,className:`w-full bg-slate-900 border border-slate-700 rounded p-2 text-pink-400 font-mono text-xs`})]}),(0,Q.jsx)(sf,{label:`Deconstruction Prompt`,code:xt,height:`h-32`})]}),(0,Q.jsxs)(`div`,{className:`bg-emerald-900/20 border border-emerald-700/50 p-4 rounded-xl`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-2`,children:[(0,Q.jsxs)(`h3`,{className:`text-sm font-bold text-emerald-400 flex items-center gap-2`,children:[(0,Q.jsx)(ue,{size:16}),` Step 3: Commit to `,St]}),Ye===`success`&&(0,Q.jsxs)(`span`,{className:`flex items-center gap-1 text-xs text-emerald-300 animate-in fade-in zoom-in`,children:[(0,Q.jsx)(ce,{size:14}),` Saved to Session!`]})]}),Ze&&(0,Q.jsx)(`div`,{className:`mb-2 p-2 bg-rose-900/30 border border-rose-600 rounded text-xs text-rose-200`,children:Ze}),(0,Q.jsx)(`input`,{type:`text`,value:qe,onChange:e=>Je(e.target.value),placeholder:`Title (e.g. Save System)`,className:`w-full mb-2 bg-slate-950 border border-emerald-900 rounded p-2 text-white text-sm`}),(0,Q.jsx)(`textarea`,{value:A,onChange:e=>Ke(e.target.value),className:`w-full bg-slate-950 border border-emerald-900 rounded-lg p-3 text-xs text-emerald-100 font-mono h-24 focus:border-emerald-500 outline-none resize-y mb-2`,placeholder:`Paste output JSON here...`}),(0,Q.jsx)(`div`,{className:`flex gap-2 mb-6`,children:(0,Q.jsxs)(`button`,{onClick:()=>yt(),disabled:!A||!qe,className:`flex-1 bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 text-xs shadow-lg`,children:[(0,Q.jsx)(je,{size:14}),`  Add to Session (Instant)`]})}),(0,Q.jsxs)(`div`,{className:`pt-4 border-t border-emerald-800/50`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-2`,children:[(0,Q.jsx)(`p`,{className:`text-[10px] text-emerald-400/60 uppercase font-bold`,children:`Optional: Hard Save`}),(0,Q.jsx)(`span`,{className:`text-[9px] text-emerald-600 bg-emerald-950/50 px-2 py-0.5 rounded`,children:`Only do this once at the end`})]}),(0,Q.jsx)(sf,{label:`Permanent Save Prompt (Use Sparingly)`,code:Ct,height:`h-24`})]})]})]})]})]})]})})},ff=({projectData:e,onEdit:t,onPreview:n,onDelete:r})=>{let[i,a]=$(`MODULE`),[o,s]=$(``),[c,l]=$(null),u=e[`Current Course`]?.modules||[],d=e[`Global Toolkit`]||[],f=i===`MODULE`?u:d,p=f.filter(e=>e.title?.toLowerCase().includes(o.toLowerCase())||e.id?.toLowerCase().includes(o.toLowerCase())),m=e=>{let t=p[e];if(l(t),console.log(`Preview clicked:`,{item:t,index:e,sourceType:i}),n){let e=f.findIndex(e=>e.id===t.id);if(console.log(`Original index found:`,e),e!==-1){let t=i===`MODULE`?`module`:`toolkit`;console.log(`Calling onPreview with:`,e,t),n(e,t)}else console.error(`Could not find original index for item:`,t)}else console.error(`onPreview prop is not defined`)},h=e=>{let n=p[e];t&&t(f.findIndex(e=>e.id===n.id),i===`MODULE`?`module`:`toolkit`)},g=e=>{let t=p[e];r&&r(t.id,i===`MODULE`?`module`:`toolkit`)},_=e=>{try{let t=typeof e.code==`string`?JSON.parse(e.code):e.code,n=t.html?.length||0,r=t.script?.length||0;return{htmlLength:n,scriptLength:r,total:n+r}}catch{return{htmlLength:0,scriptLength:0,total:0}}};return(0,Q.jsx)(`div`,{className:`space-y-6 animate-in fade-in duration-500`,children:(0,Q.jsxs)(`div`,{className:`bg-slate-800 p-6 rounded-lg border border-slate-700`,children:[(0,Q.jsxs)(`h2`,{className:`text-xl font-bold text-white mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(de,{className:`text-purple-400`}),` Phase 2: Preview & Test`]}),(0,Q.jsx)(`p`,{className:`text-xs text-slate-400 mb-6`,children:`Browse, preview, and test your modules and features before compiling.`}),(0,Q.jsxs)(`div`,{className:`flex bg-slate-900 p-1 rounded-lg border border-slate-700 mb-4`,children:[(0,Q.jsxs)(`button`,{onClick:()=>{a(`MODULE`),s(``),l(null)},className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-md text-xs font-bold transition-all ${i===`MODULE`?`bg-purple-600 text-white shadow-lg`:`text-slate-500 hover:text-slate-300`}`,children:[(0,Q.jsx)(re,{size:14}),` Course Modules (`,u.length,`)`]}),(0,Q.jsxs)(`button`,{onClick:()=>{a(`FEATURE`),s(``),l(null)},className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-md text-xs font-bold transition-all ${i===`FEATURE`?`bg-orange-600 text-white shadow-lg`:`text-slate-500 hover:text-slate-300`}`,children:[(0,Q.jsx)(ke,{size:14}),` Global Toolkit (`,d.length,`)`]})]}),(0,Q.jsxs)(`div`,{className:`relative mb-6`,children:[(0,Q.jsx)(xe,{size:16,className:`absolute left-3 top-3 text-slate-500`}),(0,Q.jsx)(`input`,{type:`text`,value:o,onChange:e=>s(e.target.value),placeholder:`Search by title or ID...`,className:`w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white text-sm focus:outline-none focus:border-purple-500`})]}),p.length===0?(0,Q.jsxs)(`div`,{className:`p-12 text-center bg-slate-900/50 border border-slate-700 rounded-xl`,children:[(0,Q.jsx)(re,{size:48,className:`mx-auto text-slate-700 mb-4`}),(0,Q.jsx)(`p`,{className:`text-slate-400 text-sm mb-2`,children:o?`No items match your search`:`No ${i===`MODULE`?`modules`:`features`} yet`}),(0,Q.jsx)(`p`,{className:`text-slate-600 text-xs`,children:!o&&`Go to Phase 1: Harvest to create some!`})]}):(0,Q.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:p.map((e,t)=>{let n=_(e);return f.findIndex(t=>t.id===e.id),(0,Q.jsxs)(`div`,{className:`bg-slate-900 border border-slate-700 rounded-lg p-4 hover:border-purple-500/50 transition-all group`,children:[(0,Q.jsxs)(`div`,{className:`flex items-start justify-between mb-3`,children:[(0,Q.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,Q.jsx)(`h3`,{className:`text-white font-bold text-sm truncate mb-1`,children:e.title}),(0,Q.jsx)(`p`,{className:`text-xs text-slate-500 font-mono truncate`,children:e.id})]}),(0,Q.jsx)(`div`,{className:`px-2 py-1 rounded text-[10px] font-bold uppercase ${i===`MODULE`?`bg-purple-900/30 text-purple-400`:`bg-orange-900/30 text-orange-400`}`,children:i===`MODULE`?`Module`:`Feature`})]}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 mb-3 text-xs text-slate-400`,children:[(0,Q.jsx)(pe,{size:12}),(0,Q.jsxs)(`span`,{children:[(n.total/1024).toFixed(1),` KB`]}),(0,Q.jsx)(`span`,{className:`text-slate-700`,children:``}),(0,Q.jsx)(`span`,{children:n.htmlLength>0?`Has HTML`:`No HTML`}),(0,Q.jsx)(`span`,{className:`text-slate-700`,children:``}),(0,Q.jsx)(`span`,{children:n.scriptLength>0?`Has Script`:`No Script`})]}),e.section&&(0,Q.jsx)(`div`,{className:`mb-3`,children:(0,Q.jsx)(`span`,{className:`text-xs bg-slate-800 border border-slate-700 px-2 py-1 rounded text-slate-400`,children:e.section})}),(0,Q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,Q.jsxs)(`button`,{onClick:()=>m(t),className:`flex-1 flex items-center justify-center gap-1 bg-purple-600 hover:bg-purple-500 text-white text-xs font-bold py-2 rounded transition-colors`,children:[(0,Q.jsx)(de,{size:12}),` Preview`]}),(0,Q.jsx)(`button`,{onClick:()=>h(t),className:`flex items-center justify-center gap-1 bg-slate-700 hover:bg-slate-600 text-white text-xs font-bold px-3 py-2 rounded transition-colors`,title:`Edit`,children:(0,Q.jsx)(_e,{size:12})}),(0,Q.jsx)(`button`,{onClick:()=>g(t),className:`flex items-center justify-center gap-1 bg-slate-700 hover:bg-rose-600 text-white text-xs font-bold px-3 py-2 rounded transition-colors`,title:`Delete`,children:(0,Q.jsx)(Ee,{size:12})})]})]},e.id)})})]})})},pf=({onGoToMaster:e,projectData:t,setProjectData:n})=>{let[r,i]=$(!1),[a,o]=$(!1);return(0,Q.jsx)(`div`,{className:`space-y-6 animate-in fade-in duration-500`,children:(0,Q.jsxs)(`div`,{className:`bg-slate-800 p-6 rounded-lg border border-slate-700`,children:[(0,Q.jsxs)(`h2`,{className:`text-xl font-bold text-white mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(ne,{className:`text-blue-400`}),` Phase 3: Manage & Reset`]}),(0,Q.jsxs)(`div`,{className:`space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`bg-blue-900/20 p-4 rounded-xl border border-blue-700/50`,children:[(0,Q.jsx)(`h3`,{className:`text-sm font-bold text-blue-400 mb-2`,children:`1. Backup & Restore`}),(0,Q.jsxs)(`div`,{className:`space-y-2`,children:[(0,Q.jsxs)(`button`,{onClick:()=>{let e=`data:text/json;charset=utf-8,`+encodeURIComponent(JSON.stringify(t,null,2)),n=document.createElement(`a`);n.setAttribute(`href`,e),n.setAttribute(`download`,`course_factory_backup.json`),document.body.appendChild(n),n.click(),n.remove(),i(!0)},className:`w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2 transition-all`,children:[(0,Q.jsx)(T,{size:16}),` Download Project Backup`]}),(0,Q.jsxs)(`div`,{className:`relative`,children:[(0,Q.jsx)(`input`,{type:`file`,accept:`.json`,onChange:e=>{let t=e.target.files[0];if(!t)return;let r=new FileReader;r.onload=e=>{try{n(JSON.parse(e.target.result))}catch(e){console.error(`Invalid backup file`,e)}},r.readAsText(t)},id:`restore-upload`,className:`hidden`}),(0,Q.jsxs)(`label`,{htmlFor:`restore-upload`,className:`w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2 transition-all cursor-pointer`,children:[(0,Q.jsx)(Oe,{size:16}),` Upload & Restore Backup`]})]})]})]}),(0,Q.jsxs)(`div`,{className:`p-4 rounded-xl border transition-all duration-300 ${r?`bg-rose-900/20 border-rose-700/50`:`bg-slate-900 border-slate-800 opacity-50`}`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-2`,children:[(0,Q.jsx)(`h3`,{className:`text-sm font-bold ${r?`text-rose-400`:`text-slate-500`}`,children:`2. Reset Project`}),r?(0,Q.jsx)(D,{size:16,className:`text-rose-400`}):(0,Q.jsx)(O,{size:16,className:`text-slate-500`})]}),r&&!a&&(0,Q.jsxs)(`div`,{className:`animate-in fade-in bg-rose-950/30 p-4 rounded-lg border border-rose-800`,children:[(0,Q.jsxs)(`h4`,{className:`text-rose-400 font-bold text-sm mb-2 flex items-center gap-2`,children:[(0,Q.jsx)(De,{size:16}),` Final Safety Check`]}),(0,Q.jsxs)(`p`,{className:`text-xs text-slate-300 mb-4 leading-relaxed`,children:[`Did you update the `,(0,Q.jsx)(`strong`,{children:`Phase 0: Master Shell`}),` with any new features (like Dark Mode or Save Buttons) you built during this project?`,(0,Q.jsx)(`br`,{}),(0,Q.jsx)(`br`,{}),`If you Reset now without updating the Master Shell, those improvements will be lost.`]}),(0,Q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,Q.jsxs)(`button`,{onClick:()=>e(),className:`flex-1 bg-slate-800 hover:bg-slate-700 text-slate-200 text-xs font-bold py-3 rounded border border-slate-700 flex items-center justify-center gap-2`,children:[(0,Q.jsx)(te,{size:14,className:`rotate-180`}),` No, Take me there`]}),(0,Q.jsx)(`button`,{onClick:()=>o(!0),className:`flex-1 bg-rose-600 hover:bg-rose-500 text-white text-xs font-bold py-3 rounded shadow-lg shadow-rose-900/20`,children:`Yes, I Updated It`})]})]}),r&&a&&(0,Q.jsxs)(`div`,{className:`animate-in fade-in`,children:[(0,Q.jsx)(`p`,{className:`text-xs text-rose-200/70 mb-4`,children:`Copy this prompt to Canvas to wipe the Course Content.`}),(0,Q.jsx)(sf,{label:`Canvas Safe Reset Prompt`,code:`I need to reset the Course Factory for a new project.
Please modify the \`PROJECT_DATA\` variable at the top of the file.

**Task:**
1. Locate \`PROJECT_DATA\`.
2. Reset \`PROJECT_DATA["Current Course"].modules\` to empty \`[]\`.
3. Change \`name\` to "New Course".

**CRITICAL SAFETY INSTRUCTION:**
- Do NOT touch \`PROJECT_DATA["Global Toolkit"]\`. (Keep all saved features).
- Do NOT touch \`const MASTER_SHELL\`.
- Do NOT touch any React code.

**Expected Result:**
const PROJECT_DATA = {
  "Current Course": {
    name: "New Course",
    modules: [] // Cleared
  },
  "Global Toolkit": [
    ... // Kept intact
  ]
};`,height:`h-40`})]})]})]})]})})},mf=({projectData:e,setProjectData:t,excludedIds:n,toggleModule:r})=>{let[i,a]=$(``),[o,s]=$(!1),c=e[`Current Course`]?.modules||[],l=e[`Global Toolkit`]||[],u=(n,r)=>{let i=[...l];i[n]={...i[n],[r]:!i[n][r]},t({...e,"Global Toolkit":i})};return(0,Q.jsx)(`div`,{className:`space-y-6 animate-in fade-in duration-500`,children:(0,Q.jsxs)(`div`,{className:`bg-slate-800 p-6 rounded-lg border border-slate-700`,children:[(0,Q.jsxs)(`h2`,{className:`text-xl font-bold text-white mb-4 flex items-center gap-2`,children:[(0,Q.jsx)(ge,{className:`text-purple-400`}),` Phase 4: Compile & Export`]}),o?(0,Q.jsxs)(`div`,{className:`animate-in fade-in slide-in-from-bottom-4`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,Q.jsx)(`h3`,{className:`text-sm font-bold text-purple-400`,children:`Final Assembled Code (index.html)`}),(0,Q.jsxs)(`div`,{className:`flex gap-2`,children:[(0,Q.jsxs)(`button`,{onClick:()=>{let e=new Blob([i],{type:`text/html`}),t=URL.createObjectURL(e),n=document.createElement(`a`);n.href=t,n.download=`index.html`,document.body.appendChild(n),n.click(),document.body.removeChild(n)},className:`text-xs bg-emerald-600 hover:bg-emerald-500 text-white px-3 py-1 rounded flex items-center gap-2`,children:[(0,Q.jsx)(T,{size:12}),` Download File`]}),(0,Q.jsx)(`button`,{onClick:()=>s(!1),className:`text-xs text-slate-500 hover:text-white px-2 py-1`,children:`Reset`})]})]}),(0,Q.jsx)(sf,{label:`Full Website Source`,code:i,height:`h-96`}),(0,Q.jsxs)(`div`,{className:`mt-4 p-4 bg-purple-900/20 border border-purple-700/50 rounded-lg text-sm text-purple-200`,children:[(0,Q.jsx)(`strong`,{children:`Next Step:`}),` Download the file above, or copy the block and paste it into your Google Sites "Embed Code" widget.`]})]}):(0,Q.jsxs)(`div`,{className:`text-center py-6`,children:[(0,Q.jsxs)(`div`,{className:`mb-6 bg-slate-900 rounded-xl border border-slate-700 overflow-hidden text-left`,children:[(0,Q.jsx)(`div`,{className:`p-3 bg-slate-800 border-b border-slate-700 text-xs font-bold text-slate-400 uppercase tracking-wider`,children:`Build Configuration`}),(0,Q.jsxs)(`div`,{className:`divide-y divide-slate-800`,children:[c.length===0&&(0,Q.jsx)(`div`,{className:`p-4 text-xs text-slate-500 italic text-center`,children:`No modules found. Go to Phase 1.`}),c.map(e=>{let t=n.includes(e.id);return(0,Q.jsxs)(`div`,{className:`p-3 flex items-center justify-between hover:bg-slate-800/50 transition-colors`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-2 h-2 rounded-full ${t?`bg-slate-600`:`bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]`}`}),(0,Q.jsx)(`span`,{className:`text-sm ${t?`text-slate-500`:`text-slate-200 font-medium`}`,children:e.title})]}),(0,Q.jsx)(`button`,{onClick:()=>r(e.id),className:`relative w-10 h-5 rounded-full transition-colors ${t?`bg-slate-700`:`bg-emerald-600`}`,children:(0,Q.jsx)(`div`,{className:`absolute top-1 left-1 w-3 h-3 bg-white rounded-full transition-transform ${t?`translate-x-0`:`translate-x-5`}`})})]},e.id)})]})]}),l.length>0&&(0,Q.jsxs)(`div`,{className:`mb-6 bg-slate-900 rounded-xl border border-slate-700 overflow-hidden text-left`,children:[(0,Q.jsx)(`div`,{className:`p-3 bg-slate-800 border-b border-slate-700 text-xs font-bold text-orange-500 uppercase tracking-wider`,children:`Global Toolkit (Builder Controls)`}),(0,Q.jsx)(`div`,{className:`divide-y divide-slate-800`,children:l.map((e,t)=>(0,Q.jsxs)(`div`,{className:`p-4 hover:bg-slate-800/50 transition-colors`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-2`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`w-2 h-2 rounded-full ${e.enabled?`bg-emerald-500`:`bg-slate-600`}`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`div`,{className:`text-sm font-medium ${e.enabled?`text-slate-200`:`text-slate-500`}`,children:e.title}),(0,Q.jsx)(`div`,{className:`text-[10px] text-slate-500 italic`,children:e.description})]})]}),(0,Q.jsx)(`button`,{onClick:()=>u(t,`enabled`),className:`relative w-10 h-5 rounded-full transition-colors ${e.enabled?`bg-emerald-600`:`bg-slate-700`}`,children:(0,Q.jsx)(`div`,{className:`absolute top-1 left-1 w-3 h-3 bg-white rounded-full transition-transform ${e.enabled?`translate-x-5`:`translate-x-0`}`})})]}),e.enabled&&(0,Q.jsxs)(`div`,{className:`ml-5 mt-2 flex flex-wrap gap-3 text-[10px]`,children:[(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:!!e.hiddenFromUser,onChange:()=>u(t,`hiddenFromUser`),className:`w-3 h-3 rounded`}),(0,Q.jsx)(`span`,{className:`text-slate-400`,children:`Hidden from user`})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:!!e.userToggleable,onChange:()=>u(t,`userToggleable`),disabled:!!e.hiddenFromUser,className:`w-3 h-3 rounded disabled:opacity-30`}),(0,Q.jsx)(`span`,{className:`${e.hiddenFromUser?`text-slate-600`:`text-slate-400`}`,children:`User can toggle`})]}),(0,Q.jsxs)(`label`,{className:`flex items-center gap-2 cursor-pointer`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,checked:!!e.includeUi,onChange:()=>u(t,`includeUi`),className:`w-3 h-3 rounded`}),(0,Q.jsx)(`span`,{className:`text-slate-400`,children:`Include UI`})]})]})]},e.id||t))})]}),(0,Q.jsxs)(`button`,{onClick:()=>{let e=af,t=c.filter(e=>!n.includes(e.id)),r=l.filter(e=>e.enabled),i=r.filter(e=>e.hiddenFromUser),o=r.filter(e=>!e.hiddenFromUser),u=``,d=``,f=``;if(t.forEach(e=>{let t=e.code||{};if(typeof t==`string`)try{t=JSON.parse(t)}catch{}if(e.id===`item-1768749223001`||e.title===`Course Materials`){let n=`<div id="view-materials" class="w-full h-full custom-scroll p-8 md:p-12">
            <div class="max-w-5xl mx-auto space-y-8">
                <div class="mb-12">
                    <h2 class="text-3xl font-black text-white italic uppercase tracking-tighter">Course <span class="text-sky-500">Materials</span></h2>
                    <p class="text-xs text-slate-400 font-mono uppercase tracking-widest mt-2">Access lectures, presentations, and briefing documents.</p>
                </div>
                <div id="pdf-viewer-container" class="hidden mb-12 bg-black rounded-xl border border-slate-700 overflow-hidden shadow-2xl">
                    <div class="flex justify-between items-center p-3 bg-slate-800 border-b border-slate-700">
                        <span id="viewer-title" class="text-xs font-bold text-white uppercase tracking-widest px-2">Document Viewer</span>
                        <button onclick="closeViewer()" class="text-xs text-rose-400 hover:text-white font-bold uppercase tracking-widest px-2">Close X</button>
                    </div>
                    <iframe id="pdf-frame" src="" width="100%" height="600" style="border:none;"></iframe>
                </div>
                <div class="grid grid-cols-1 gap-4">
                    ${(e.materials||[]).filter(e=>!e.hidden).sort((e,t)=>e.order-t.order).map(e=>{let t=e.color||`slate`,n=t===`slate`?``:`border-l-4 border-l-${t}-500`,r=t===`slate`?`bg-slate-800`:`bg-${t}-500/10`,i=t===`slate`?`border-slate-700`:`border-${t}-500/20`,a=t===`slate`?`text-slate-500`:`text-${t}-500`,o=t===`slate`?`bg-sky-600 hover:bg-sky-500`:`bg-${t}-600 hover:bg-${t}-500`,s=e.viewUrl.replace(/'/g,`\\'`),c=(e.title||``).replace(/'/g,`\\'`),l=e.downloadUrl.replace(/'/g,`\\'`);return`<div class="material-card flex flex-col md:flex-row items-center justify-between gap-6 ${n}">
    <div class="flex items-center gap-6">
        <div class="w-12 h-12 rounded-lg ${r} flex items-center justify-center ${a} font-black italic text-xl border ${i}">${e.number}</div>
        <div>
            <h3 class="text-lg font-bold text-white uppercase italic">${e.title}</h3>
            <p class="text-xs text-slate-400 font-mono">${e.description}</p>
        </div>
    </div>
    <div class="flex gap-3 w-full md:w-auto">
        <button onclick="openPDF('${s}', '${c}')" class="flex-1 bg-slate-800 hover:bg-slate-700 text-white text-[10px] font-bold uppercase tracking-widest py-3 px-6 rounded-lg border border-slate-600 transition-all">View Slides</button>
        <a href="${l}" target="_blank" class="flex-1 ${o} text-white text-[10px] font-bold uppercase tracking-widest py-3 px-6 rounded-lg transition-all text-center flex items-center justify-center">Download</a>
    </div>
</div>`}).join(`
                    `)}
                </div>
            </div>
        </div>`;u+=`\n            <button onclick="switchView('materials')" id="nav-materials" class="nav-item">\n                <span class="w-2 h-2 rounded-full bg-slate-600"></span>${e.title}\n            </button>`,d+=`
        `+n+`
`,t.script&&(f+=`
        `+t.script+`
`)}else if(e.id===`item-assessments`||e.title===`Assessments`){let t=(e.assessments||[]).filter(e=>!e.hidden).sort((e,t)=>e.order-t.order),n=t.map((e,t)=>{let n=e.type===`quiz`?`Multiple Choice`:e.type===`longanswer`?`Long Answer`:e.type===`print`?`Print & Submit`:`Mixed Assessment`,r=e.type===`quiz`?``:e.type===`longanswer`?``:e.type===`print`?``:``,i=e.questionCount||(e.type===`mixed`?`Multiple`:`Unknown`);return`
          <div class="p-6 bg-slate-900/80 rounded-xl border border-slate-700 hover:border-purple-500 transition-all cursor-pointer group" onclick="showAssessment(${t})">
            <div class="flex items-center justify-between">
              <div class="flex-1">
                <div class="flex items-center gap-3 mb-2">
                  <span class="text-3xl">${r}</span>
                  <div>
                    <h3 class="text-xl font-bold text-white group-hover:text-purple-400 transition-colors">${e.title}</h3>
                    <p class="text-xs text-slate-400 uppercase tracking-wider">${n}${e.questionCount?`  `+i+` Questions`:``}</p>
                  </div>
                </div>
              </div>
              <div class="text-purple-400 group-hover:translate-x-1 transition-transform">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
              </div>
            </div>
          </div>`}).join(`
          `),r=t.map((e,t)=>`
        <div id="assessment-`+t+`" class="assessment-container hidden">
          <button onclick="backToAssessmentList()" class="mb-6 flex items-center gap-2 text-purple-400 hover:text-purple-300 font-bold text-sm transition-colors">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
            Back to Assessments
          </button>
          `+e.html+`
          
          <!-- INLINE ASSESSMENT SCRIPT -->
          <script>
          `+(e.script||``)+`
          <\/script>
        </div>`).join(`
        `),i=`<div id="view-assessments" class="w-full h-full custom-scroll p-8 md:p-12">
            <div class="max-w-5xl mx-auto">
                <!-- Assessment Selection Page -->
                <div id="assessment-list">
                    <div class="mb-12">
                        <h2 class="text-3xl font-black text-white italic uppercase tracking-tighter">Assessment <span class="text-purple-500">Center</span></h2>
                        <p class="text-xs text-slate-400 font-mono uppercase tracking-widest mt-2">Select an assessment to begin</p>
                    </div>
                    ${t.length>0?`
                    <div class="grid grid-cols-1 gap-4">
                        ${n}
                    </div>`:`<p class="text-center text-slate-500 italic py-12">No assessments available.</p>`}
                </div>
                
                <!-- Individual Assessments (hidden by default) -->
                ${r}
            </div>
            
            <!-- INLINE ASSESSMENT NAVIGATION SCRIPTS -->
            <script>
            (function() {
              console.log(' [INLINE] Initializing assessment navigation functions...');
              
              window.showAssessment = function(index) {
                console.log(' [INLINE] Showing assessment:', index);
                var listEl = document.getElementById('assessment-list');
                var targetEl = document.getElementById('assessment-' + index);
                
                if (listEl) listEl.classList.add('hidden');
                document.querySelectorAll('.assessment-container').forEach(function(c) {
                  c.classList.add('hidden');
                });
                if (targetEl) {
                  targetEl.classList.remove('hidden');
                } else {
                  console.error(' Assessment container not found:', 'assessment-' + index);
                }
                window.scrollTo(0, 0);
              };
              
              window.backToAssessmentList = function() {
                console.log(' [INLINE] Returning to assessment list');
                document.querySelectorAll('.assessment-container').forEach(function(c) {
                  c.classList.add('hidden');
                });
                var listEl = document.getElementById('assessment-list');
                if (listEl) listEl.classList.remove('hidden');
                window.scrollTo(0, 0);
              };
              
              // Global Toolkit Menu Toggle
              window.toggleToolkitMenu = function() {
                console.log(' [INLINE] Toggling toolkit menu');
                var dropdown = document.getElementById('toolkit-dropdown');
                if (dropdown) {
                  dropdown.classList.toggle('hidden');
                }
              };
              
              // Global Toolkit Tool Toggle
              var toolkitState = JSON.parse(localStorage.getItem('mf_toolkit') || '{}');
              
              window.toggleTool = function(toolId) {
                console.log(' [INLINE] Toggling tool:', toolId);
                console.log(' [DEBUG] Looking for element ID:', 'feat-' + toolId);
                
                toolkitState[toolId] = !toolkitState[toolId];
                localStorage.setItem('mf_toolkit', JSON.stringify(toolkitState));
                
                var toolElement = document.getElementById('feat-' + toolId);
                var toggleButton = document.getElementById('toggle-' + toolId);
                
                console.log(' [DEBUG] Tool element found:', !!toolElement);
                console.log(' [DEBUG] Toggle button found:', !!toggleButton);
                console.log(' [DEBUG] New state:', toolkitState[toolId]);
                
                if (toolElement) {
                  if (toolkitState[toolId]) {
                    toolElement.classList.remove('hidden');
                    console.log(' [DEBUG] Showing tool');
                  } else {
                    toolElement.classList.add('hidden');
                    console.log(' [DEBUG] Hiding tool');
                  }
                }
                
                if (toggleButton) {
                  if (toolkitState[toolId]) {
                    toggleButton.classList.remove('bg-slate-600');
                    toggleButton.classList.add('bg-emerald-600');
                    var dot = toggleButton.querySelector('div');
                    if (dot) dot.classList.add('translate-x-4');
                    console.log(' [DEBUG] Toggle ON visual');
                  } else {
                    toggleButton.classList.remove('bg-emerald-600');
                    toggleButton.classList.add('bg-slate-600');
                    var dot = toggleButton.querySelector('div');
                    if (dot) dot.classList.remove('translate-x-4');
                    console.log(' [DEBUG] Toggle OFF visual');
                  }
                }
              };
              
              // Initialize toolkit state on load
              window.initializeToolkit = function() {
                console.log(' [INLINE] Initializing toolkit state');
                Object.keys(toolkitState).forEach(function(toolId) {
                  if (toolkitState[toolId]) {
                    var toolElement = document.getElementById('feat-' + toolId);
                    var toggleButton = document.getElementById('toggle-' + toolId);
                    if (toolElement) toolElement.classList.remove('hidden');
                    if (toggleButton) {
                      toggleButton.classList.remove('bg-slate-600');
                      toggleButton.classList.add('bg-emerald-600');
                      var dot = toggleButton.querySelector('div');
                      if (dot) dot.classList.add('translate-x-4');
                    }
                  }
                });
              };
              
              // Initialize on load
              if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', window.initializeToolkit);
              } else {
                window.initializeToolkit();
              }
              
              console.log(' [INLINE] Assessment navigation + toolkit functions ready!');
            })();
            <\/script>
        </div>`,a=t.map(e=>e.script||``).join(`
        `);u+=`
            <button onclick="switchView('assessments')" id="nav-assessments" class="nav-item">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                Assessments
            </button>`,d+=`\n        ${i}\n`,f+=`\n        
        (function() {
          console.log(' Initializing assessment navigation functions...');
          
          window.showAssessment = function(index) {
            console.log(' Showing assessment:', index);
            var listEl = document.getElementById('assessment-list');
            var targetEl = document.getElementById('assessment-' + index);
            
            if (listEl) listEl.classList.add('hidden');
            document.querySelectorAll('.assessment-container').forEach(function(c) {
              c.classList.add('hidden');
            });
            if (targetEl) {
              targetEl.classList.remove('hidden');
            } else {
              console.error('Assessment container not found:', 'assessment-' + index);
            }
            window.scrollTo(0, 0);
          };
          
          window.backToAssessmentList = function() {
            console.log(' Returning to assessment list');
            document.querySelectorAll('.assessment-container').forEach(function(c) {
              c.classList.add('hidden');
            });
            var listEl = document.getElementById('assessment-list');
            if (listEl) listEl.classList.remove('hidden');
            window.scrollTo(0, 0);
          };
          
          console.log(' Assessment navigation functions ready!');
        })();
        \n        ${a}\n`}else{if(t.id){let n=t.id.replace(`view-`,``);u+=`\n            <button onclick="switchView('${n}')" id="nav-${n}" class="nav-item">\n                <span class="w-2 h-2 rounded-full bg-slate-600"></span>${e.title}\n            </button>`}if(t.html){let e=t.html+(t.script?`
<script>
`+t.script+`
<\/script>`:``);d+=`
        `+e+`
`}}}),i.forEach(e=>{let t=typeof e.code==`string`?JSON.parse(e.code):e.code;if(e.includeUi&&t.html){let e=t.html+(t.script?`
<script>
`+t.script+`
<\/script>`:``);d+=`
        `+e+`
`}}),o.length>0){u+=`
            <button onclick="toggleToolkitMenu()" id="nav-toolkit" class="nav-item mt-4 border-t border-slate-800 pt-4">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                Global Toolkit
            </button>`;let e=``;o.forEach(t=>{let n=typeof t.code==`string`?JSON.parse(t.code):t.code,r=t.id.replace(`feat-`,``);if(t.userToggleable?e+=`
                        <div class="flex items-center justify-between p-2 hover:bg-slate-700 rounded">
                            <span class="text-xs text-slate-300">${t.title}</span>
                            <button onclick="toggleTool('${r}')" id="toggle-${r}" class="relative w-8 h-4 rounded-full transition-colors bg-slate-600 cursor-pointer">
                                <div class="absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform pointer-events-none"></div>
                            </button>
                        </div>`:e+=`
                        <div class="p-2 hover:bg-slate-700 rounded">
                            <span class="text-xs text-slate-300">${t.title}</span>
                        </div>`,t.includeUi&&n.html){let e=n.html+(n.script?`
<script>
`+n.script+`
<\/script>`:``);d+=`
        <div id="feat-`+r+`" class="`+(t.userToggleable?`hidden`:``)+`">
`+e+`
        </div>
`}}),d+=`
        <div id="toolkit-dropdown" class="hidden fixed top-16 left-4 bg-slate-800 border border-slate-700 rounded-xl p-3 shadow-2xl z-50 w-64">
            <div class="flex items-center justify-between mb-3">
                <h3 class="text-sm font-bold text-white">Global Toolkit</h3>
                <button onclick="toggleToolkitMenu()" class="text-slate-400 hover:text-white"></button>
            </div>
            <div class="space-y-1">
                ${e}
            </div>
        </div>`;let t=o.filter(e=>e.userToggleable).map(e=>e.id.replace(`feat-`,``));f+=`
        // Global Toolkit Menu Logic
        function toggleToolkitMenu() {
            const dropdown = document.getElementById('toolkit-dropdown');
            dropdown.classList.toggle('hidden');
        }

        // Tool Toggle State Management
        let toolkitState = JSON.parse(localStorage.getItem('mf_toolkit') || '{}');
        
        function toggleTool(toolId) {
            toolkitState[toolId] = !toolkitState[toolId];
            localStorage.setItem('mf_toolkit', JSON.stringify(toolkitState));
            applyToolState(toolId);
        }

        function applyToolState(toolId) {
            const isActive = toolkitState[toolId];
            const toolEl = document.getElementById('tool-' + toolId);
            const toggleBtn = document.getElementById('toggle-' + toolId);
            
            if (toolEl) {
                toolEl.classList.toggle('hidden', !isActive);
            }
            
            if (toggleBtn) {
                const slider = toggleBtn.querySelector('div');
                if (isActive) {
                    toggleBtn.classList.remove('bg-slate-600');
                    toggleBtn.classList.add('bg-emerald-600');
                    slider.classList.add('translate-x-4');
                } else {
                    toggleBtn.classList.add('bg-slate-600');
                    toggleBtn.classList.remove('bg-emerald-600');
                    slider.classList.remove('translate-x-4');
                }
            }
        }

        // Initialize tool states on load
        ${t.map(e=>`applyToolState('${e}');`).join(`
        `)}
      `}e=e.replace(/<div id="view-.*?"[\s\S]*?<\/div>\s*<\/div>/g,e=>``),e.includes(`id="view-materials"`)&&(e=e.replace(/<div id="view-materials"[\s\S]*?<\/div>/,``)),e=e.includes(`<!-- Dynamic Modules will be injected here -->`)?e.replace(`<!-- Dynamic Modules will be injected here -->`,`<!-- Dynamic Modules will be injected here -->`+u):e.replace(`</nav>`,u+`
        </nav>`),e=e.includes(`<iframe id="view-external"`)?e.replace(`<iframe id="view-external"`,d+`
        <iframe id="view-external"`):e.replace(`</div>

    <!-- MODULE SCRIPTS CONTAINER -->`,d+`
        </div>

    <!-- MODULE SCRIPTS CONTAINER -->`),e=e.includes(`// New module logic will be appended here`)?e.replace(`// New module logic will be appended here`,`// New module logic will be appended here`+f):e.replace(`<\/script>
</body>`,f+`
    <\/script>
</body>`),a(e),s(!0)},disabled:c.length===0,className:`bg-purple-600 hover:bg-purple-500 text-white font-bold py-4 px-8 rounded-xl shadow-lg transition-transform hover:scale-105 flex items-center gap-3 mx-auto disabled:opacity-50 disabled:cursor-not-allowed`,children:[(0,Q.jsx)(ge,{size:24}),` Compile Selected Modules`]})]})]})})},hf=({projectData:e})=>{let t=e[`Global Toolkit`]||[];return(0,Q.jsx)(`div`,{className:`space-y-6 animate-in fade-in duration-500`,children:(0,Q.jsxs)(`div`,{className:`bg-slate-800 p-6 rounded-lg border border-slate-700`,children:[(0,Q.jsxs)(`h2`,{className:`text-xl font-bold text-white mb-6 flex items-center gap-2`,children:[(0,Q.jsx)(ke,{className:`text-orange-400`}),` Phase 5: Component Toolkit`]}),(0,Q.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{className:`p-4 bg-slate-900 border border-slate-700 rounded-xl hover:border-blue-500 transition-colors group cursor-not-allowed opacity-75`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center justify-between mb-2`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`p-2 bg-slate-800 rounded-lg text-slate-400 group-hover:text-blue-400 transition-colors`,children:(0,Q.jsx)(de,{size:20})}),(0,Q.jsx)(`h3`,{className:`font-bold text-slate-200`,children:`Dark Mode Toggle`})]}),(0,Q.jsx)(`div`,{className:`h-4 w-8 bg-slate-700 rounded-full relative`,children:(0,Q.jsx)(`div`,{className:`h-4 w-4 bg-slate-500 rounded-full absolute left-0`})})]}),(0,Q.jsx)(`p`,{className:`text-xs text-slate-500`,children:`Global preference setting (Coming Soon).`})]}),t.map((e,t)=>(0,Q.jsxs)(`div`,{className:`p-4 bg-slate-900 border border-slate-700 rounded-xl hover:border-orange-500 transition-colors group`,children:[(0,Q.jsx)(`div`,{className:`flex items-center justify-between mb-2`,children:(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`p-2 bg-orange-900/20 rounded-lg text-orange-400`,children:(0,Q.jsx)(ke,{size:20})}),(0,Q.jsx)(`h3`,{className:`font-bold text-slate-200`,children:e.title})]})}),(0,Q.jsx)(`div`,{className:`mt-2 pt-2 border-t border-slate-800 flex gap-2`,children:(0,Q.jsx)(`div`,{className:`bg-black text-[10px] font-mono text-slate-400 p-1 rounded flex-1 truncate`,children:e.id})})]},t)),t.length===0&&(0,Q.jsxs)(`div`,{className:`col-span-full p-8 border-2 border-dashed border-slate-700 rounded-xl text-center`,children:[(0,Q.jsx)(`p`,{className:`text-slate-500 text-sm mb-2 font-bold`,children:`No custom tools harvested yet.`}),(0,Q.jsxs)(`p`,{className:`text-xs text-slate-600`,children:[`Go to `,(0,Q.jsx)(`strong`,{children:`Phase 1: Harvest`}),`, select "Feature (Tool)", and scan your code to populate this list.`]})]})]})]})})},gf=({isOpen:e,message:t,onConfirm:n,onCancel:r})=>e?(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/80 z-[60] flex items-center justify-center p-4 backdrop-blur-sm`,onClick:r,children:(0,Q.jsxs)(`div`,{className:`bg-slate-900 border border-rose-900 rounded-xl p-6 max-w-sm w-full shadow-2xl`,onClick:e=>e.stopPropagation(),children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3 text-rose-500 mb-4`,children:[(0,Q.jsx)(he,{size:24}),(0,Q.jsx)(`h3`,{className:`text-lg font-bold`,children:`Delete Item?`})]}),(0,Q.jsx)(`p`,{className:`text-slate-300 text-sm mb-6`,children:t}),(0,Q.jsxs)(`div`,{className:`flex gap-3`,children:[(0,Q.jsx)(`button`,{onClick:r,className:`flex-1 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg text-sm font-bold transition-colors`,children:`Cancel`}),(0,Q.jsx)(`button`,{onClick:n,className:`flex-1 py-2 bg-rose-600 hover:bg-rose-500 text-white rounded-lg text-sm font-bold shadow-lg shadow-rose-900/20 transition-colors`,children:`Delete Forever`})]})]})}):null;function _f(){let[e,t]=$(0),[n,r]=$(``),[i,a]=$(rf),[o,s]=$([]),[c,l]=$(null),[u,d]=$({title:``,html:``,script:``,id:``,section:``}),[f,p]=$(null),[m,h]=$(null),[g,_]=$(!1),[v,y]=$(``),[b,x]=$(`quiz`),[ee,S]=$(``),[C,w]=$([{question:``,options:[``,``,``,``],correct:0}]),[te,re]=$(``),[se,ce]=$(``),[le,ue]=$(null),[T,E]=$([]),[pe,D]=$(``),[O,he]=$(`multiple-choice`),[ve,be]=$({question:``,options:[``,``,``,``],correct:0}),[xe,Ce]=$(null),[De,Oe]=$(``),[je,Me]=$(``),[Ne,Pe]=$(``),k=i[`Current Course`]||{name:`Error`,modules:[]},Fe=i[`Global Toolkit`]||[],Ie=e=>{if(!e||e.trim()===``){alert(`Course name cannot be empty`);return}a({...i,"Current Course":{...k,name:e.trim()}}),_(!1),y(``)},Le=e=>{o.includes(e)?s(o.filter(t=>t!==e)):s([...o,e])},Re=(e,t)=>{h({id:e,type:t})},ze=()=>{if(!m)return;let{id:e,type:t}=m;if(t===`module`){let t=k.modules.filter(t=>t.id!==e);a({...i,"Current Course":{...i[`Current Course`],modules:t}}),o.includes(e)&&s(o.filter(t=>t!==e))}else if(t===`toolkit`){let t=Fe.filter(t=>t.id!==e);a({...i,"Global Toolkit":t})}h(null)},Be=e=>{Re(e,`toolkit`)},Ve=e=>{Re(e,`module`)},He=(e,t)=>{let n=t===`up`?e-1:e+1;if(n<0||n>=k.modules.length)return;let r=[...k.modules];[r[e],r[n]]=[r[n],r[e]],a({...i,"Current Course":{...k,modules:r}})},Ue=(e,t=`module`)=>{let n=t===`module`?k.modules[e]:Fe[e];if(!n){console.error(`Item not found for preview:`,e,t);return}let r=typeof n.code==`string`?JSON.parse(n.code):n.code;p({title:n.title,html:r.html||``,script:r.script||``})},We=()=>{p(null)},Ge=()=>k.modules.find(e=>e.id===`item-1768749223001`||e.title===`Course Materials`),A=()=>k.modules.find(e=>e.id===`item-assessments`||e.title===`Assessments`),Ke=e=>{let t=k.modules.findIndex(e=>e.id===`item-1768749223001`||e.title===`Course Materials`);if(t===-1)return;let n=[...k.modules];n[t]={...n[t],materials:e},a({...i,"Current Course":{...k,modules:n}})},qe=e=>{let t=Ge()?.materials||[],n={id:`mat-${Date.now()}`,order:t.length,hidden:!1,...e};Ke([...t,n])},Je=(e,t)=>{Ke((Ge()?.materials||[]).map(n=>n.id===e?{...n,...t}:n))},Ye=e=>{confirm(`Delete this material? This cannot be undone.`)&&Ke((Ge()?.materials||[]).filter(t=>t.id!==e))},Xe=(e,t)=>{let n=Ge()?.materials||[],r=n.findIndex(t=>t.id===e);if(r===-1)return;let i=t===`up`?r-1:r+1;if(i<0||i>=n.length)return;let a=[...n];[a[r],a[i]]=[a[i],a[r]],a.forEach((e,t)=>e.order=t),Ke(a)},Ze=e=>{Ke((Ge()?.materials||[]).map(t=>t.id===e?{...t,hidden:!t.hidden}:t))},Qe=e=>{let t=k.modules.findIndex(e=>e.id===`item-assessments`||e.title===`Assessments`);if(t===-1)return;let n=[...k.modules];n[t]={...n[t],assessments:e},a({...i,"Current Course":{...k,modules:n}})},$e=e=>{let t=A()?.assessments||[],n={id:`assess-${Date.now()}`,order:t.length,hidden:!1,...e};Qe([...t,n])},et=(e,t)=>{Qe((A()?.assessments||[]).map(n=>n.id===e?{...n,...t}:n))},tt=e=>{confirm(`Delete this assessment? This cannot be undone.`)&&Qe((A()?.assessments||[]).filter(t=>t.id!==e))},nt=(e,t)=>{let n=A()?.assessments||[],r=n.findIndex(t=>t.id===e);if(r===-1)return;let i=t===`up`?r-1:r+1;if(i<0||i>=n.length)return;let a=[...n];[a[r],a[i]]=[a[i],a[r]],a.forEach((e,t)=>e.order=t),Qe(a)},rt=e=>{Qe((A()?.assessments||[]).map(t=>t.id===e?{...t,hidden:!t.hidden}:t))},it=e=>{let t={id:`q-${Date.now()}`,order:T.length,...e};E([...T,t]),be({question:``,options:[``,``,``,``],correct:0})},j=(e,t)=>{let n=T.findIndex(t=>t.id===e);if(n===-1)return;let r=t===`up`?n-1:n+1;if(r<0||r>=T.length)return;let i=[...T];[i[n],i[r]]=[i[r],i[n]],i.forEach((e,t)=>e.order=t),E(i)},at=e=>{if(!confirm(`Delete this question? This cannot be undone.`))return;let t=T.filter(t=>t.id!==e);t.forEach((e,t)=>e.order=t),E(t)},ot=(e,t)=>{E(T.map(n=>n.id===e?{...n,...t}:n))},st=()=>{confirm(`Clear all questions from Master Assessment? This cannot be undone.`)&&(E([]),D(``))},ct=()=>{let e=`assess_${Date.now()}`;T.filter(e=>e.type===`multiple-choice`),T.filter(e=>e.type===`long-answer`);let t=T.sort((e,t)=>e.order-t.order).map((t,n)=>t.type===`multiple-choice`?`
        <div class="mb-8 p-6 bg-slate-900 rounded-xl border border-slate-700 print-section">
          <h3 class="text-lg font-bold text-white mb-4 print-question">${n+1}. ${t.question}</h3>
          <div class="space-y-2">
            ${t.options.map((e,t)=>`
              <label class="flex items-center gap-3 p-3 bg-slate-800 rounded-lg cursor-pointer hover:bg-slate-750 transition-colors print-option">
                <input type="radio" name="q${n}" value="${t}" class="w-4 h-4" />
                <span class="text-slate-300">${e}</span>
              </label>
            `).join(``)}
          </div>
        </div>`:`
        <div class="mb-8 p-6 bg-slate-900 rounded-xl border border-slate-700 print-section">
          <h3 class="text-lg font-bold text-white mb-4 print-question">${n+1}. ${t.question}</h3>
          <textarea 
            id="${e}-answer-${n}" 
            placeholder="Type your answer here..."
            class="w-full h-48 bg-slate-950 border border-slate-700 rounded-lg p-4 text-white resize-none focus:border-purple-500 focus:outline-none print-response"
          ></textarea>
          <p class="text-xs text-slate-500 italic mt-2 no-print">Auto-saved </p>
        </div>`).join(``),n=T.map(e=>e.type===`multiple-choice`?e.correct:null),r=`<div id="${e}" class="w-full h-full custom-scroll p-8">
      <div class="max-w-4xl mx-auto">
        <header class="mb-8">
          <h1 class="text-3xl font-black text-white italic mb-2 print-title">${pe}</h1>
          <p class="text-sm text-slate-400 no-print">Complete all questions. Your responses are auto-saved.</p>
        </header>
        
        <!-- Student Info -->
        <div class="grid grid-cols-2 gap-4 mb-8 p-6 bg-slate-900 rounded-xl border border-slate-700 print-header">
          <div>
            <label class="block text-xs font-bold text-slate-400 uppercase mb-2">Student Name</label>
            <input 
              type="text" 
              id="${e}-student-name"
              placeholder="Enter your name..."
              class="w-full bg-slate-950 border border-slate-700 rounded p-3 text-white text-sm focus:border-purple-500 focus:outline-none"
            />
          </div>
          <div>
            <label class="block text-xs font-bold text-slate-400 uppercase mb-2">Date</label>
            <input 
              type="date" 
              id="${e}-student-date"
              class="w-full bg-slate-950 border border-slate-700 rounded p-3 text-white text-sm focus:border-purple-500 focus:outline-none"
            />
          </div>
        </div>

        <!-- Questions -->
        <form id="${e}-form" class="space-y-6">
          ${t}
        </form>

        <!-- Action Buttons -->
        <div class="flex flex-wrap gap-3 mt-8 no-print">
          <button type="button" onclick="${e}_generatePDF()" class="bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-6 rounded-lg">
             Generate PDF
          </button>
        </div>

        <!-- Status Messages -->
        <div id="${e}-saved" class="hidden mt-6 p-4 rounded-xl bg-emerald-900/20 border border-emerald-500">
          <p class="text-emerald-400 font-bold"> Progress saved!</p>
        </div>
        <div id="${e}-result" class="hidden mt-6 p-6 rounded-xl"></div>
      </div>

      <!-- Print Styles -->
      <style>
        @media print {
          body { background: white !important; }
          .no-print { display: none !important; }
          .print-title { color: black !important; font-size: 24pt; text-align: center; border-bottom: 3px solid black; padding-bottom: 10px; margin-bottom: 20px; }
          .print-header { background: white !important; border: 2px solid black !important; }
          .print-header label { color: black !important; }
          .print-header input { border: none !important; border-bottom: 1px solid black !important; background: white !important; color: black !important; }
          .print-section { page-break-inside: avoid; background: white !important; border: 1px solid #ccc !important; }
          .print-question { color: black !important; border-bottom: 2px solid #666; padding-bottom: 5px; }
          .print-option label { color: black !important; }
          .print-response { background: white !important; color: black !important; border: 1px solid #999 !important; min-height: 150px; }
        }
      </style>
    </div>`,i=`
    const ${e}_totalQuestions = ${T.length};
    const ${e}_answers = ${JSON.stringify(n)};
    
    // Initialize
    window.addEventListener('load', function() {
      ${e}_loadAll();
    });
    
    function ${e}_setupAutoSave() {
      const nameField = document.getElementById('${e}-student-name');
      const dateField = document.getElementById('${e}-student-date');
      
      if (nameField) {
        nameField.addEventListener('input', function() {
          localStorage.setItem('${e}-student-name', this.value);
        });
      }
      if (dateField) {
        dateField.addEventListener('input', function() {
          localStorage.setItem('${e}-student-date', this.value);
        });
      }
      
      // Auto-save for all inputs
      for (let i = 0; i < ${e}_totalQuestions; i++) {
        // Multiple choice
        const radios = document.querySelectorAll('input[name="q' + i + '"]');
        radios.forEach(radio => {
          radio.addEventListener('change', function() {
            if (this.checked) {
              localStorage.setItem('${e}-q' + i, this.value);
            }
          });
        });
        
        // Long answer
        const textarea = document.getElementById('${e}-answer-' + i);
        if (textarea) {
          textarea.addEventListener('input', function() {
            localStorage.setItem('${e}-answer-' + i, this.value);
          });
        }
      }
    }
    
    function ${e}_loadAll() {
      const nameField = document.getElementById('${e}-student-name');
      const dateField = document.getElementById('${e}-student-date');
      
      if (nameField) {
        const savedName = localStorage.getItem('${e}-student-name');
        if (savedName) nameField.value = savedName;
      }
      if (dateField) {
        const savedDate = localStorage.getItem('${e}-student-date');
        if (savedDate) dateField.value = savedDate;
      }
      
      for (let i = 0; i < ${e}_totalQuestions; i++) {
        // Load MC answer
        const savedMC = localStorage.getItem('${e}-q' + i);
        if (savedMC !== null) {
          const radio = document.querySelector('input[name="q' + i + '"][value="' + savedMC + '"]');
          if (radio) radio.checked = true;
        }
        
        // Load LA answer
        const textarea = document.getElementById('${e}-answer-' + i);
        if (textarea) {
          const savedLA = localStorage.getItem('${e}-answer-' + i);
          if (savedLA) textarea.value = savedLA;
        }
      }
      
      ${e}_setupAutoSave();
    }
    
    function ${e}_save() {
      const savedDiv = document.getElementById('${e}-saved');
      savedDiv.classList.remove('hidden');
      setTimeout(function() { savedDiv.classList.add('hidden'); }, 3000);
    }
    
    function ${e}_loadManual() {
      ${e}_loadAll();
      var resultDiv = document.getElementById('${e}-result');
      resultDiv.className = 'mt-6 p-6 rounded-xl bg-blue-900/20 border border-blue-500';
      resultDiv.innerHTML = '<h3 class="text-xl font-bold mb-2 text-blue-400"> Progress Loaded!</h3><p class="text-white">Your saved responses have been restored.</p>';
      resultDiv.classList.remove('hidden');
      resultDiv.scrollIntoView({ behavior: 'smooth' });
      setTimeout(function() {
        resultDiv.classList.add('hidden');
      }, 2000);
    }
    
    function ${e}_generatePDF() {
      // Collect student info
      var studentName = document.getElementById('${e}-student-name').value || 'Not Provided';
      var studentDate = document.getElementById('${e}-student-date').value || 'Not Provided';
      
      // Build questions and answers HTML
      var questionsHtml = '';
      var mcScore = 0;
      var mcTotal = 0;
      
      for (var i = 0; i < ${e}_totalQuestions; i++) {
        var questionNum = i + 1;
        
        // Check if it's MC or LA
        if (${e}_answers[i] !== null) {
          // Multiple Choice
          mcTotal++;
          var selected = document.querySelector('input[name="q' + i + '"]:checked');
          var selectedValue = selected ? parseInt(selected.value) : -1;
          var isCorrect = selectedValue === ${e}_answers[i];
          if (isCorrect) mcScore++;
          
          var questionText = document.querySelector('input[name="q' + i + '"]').closest('.mb-8').querySelector('.text-lg').innerText;
          var options = Array.from(document.querySelectorAll('input[name="q' + i + '"]')).map(function(radio, idx) {
            var optionText = radio.nextElementSibling.innerText;
            var marker = '';
            if (idx === selectedValue) marker = ' ';
            if (idx === ${e}_answers[i]) marker += '[CORRECT]';
            return marker + optionText;
          }).join('<br>');
          
          questionsHtml += '<div style="page-break-inside:avoid; margin-bottom:20px; padding:15px; border:1px solid #ccc; border-radius:8px;">' +
            '<h3 style="font-size:16px; font-weight:bold; margin-bottom:10px; color:#333;">' + questionNum + '. ' + questionText + '</h3>' +
            '<div style="font-size:14px; line-height:1.6; color:#555;">' + options + '</div>' +
            '</div>';
        } else {
          // Long Answer
          var questionText = document.getElementById('${e}-answer-' + i).closest('.mb-8').querySelector('.text-lg').innerText;
          var answer = document.getElementById('${e}-answer-' + i).value || '[No answer provided]';
          
          questionsHtml += '<div style="page-break-inside:avoid; margin-bottom:20px; padding:15px; border:1px solid #ccc; border-radius:8px;">' +
            '<h3 style="font-size:16px; font-weight:bold; margin-bottom:10px; color:#333;">' + questionNum + '. ' + questionText + '</h3>' +
            '<div style="font-size:14px; padding:10px; background:#f9f9f9; border-radius:4px; white-space:pre-wrap; color:#333;">' + answer + '</div>' +
            '</div>';
        }
      }
      
      // Calculate score
      var scoreHtml = '';
      if (mcTotal > 0) {
        var percentage = Math.round((mcScore / mcTotal) * 100);
        var passed = percentage >= 70;
        scoreHtml = '<div style="padding:20px; background:' + (passed ? '#d1fae5' : '#fee2e2') + '; border:2px solid ' + (passed ? '#10b981' : '#ef4444') + '; border-radius:8px; margin-bottom:20px;">' +
          '<h3 style="font-size:20px; font-weight:bold; margin-bottom:10px;">' + (passed ? ' Passed' : ' Review Needed') + '</h3>' +
          '<p style="font-size:16px;">Multiple Choice Score: ' + mcScore + '/' + mcTotal + ' (' + percentage + '%)</p>' +
          '<p style="font-size:14px; color:#666; margin-top:5px;">Long answer responses require instructor grading.</p>' +
          '</div>';
      }
      
      // Generate full PDF HTML
      var pdfHtml = '<!DOCTYPE html><html><head><meta charset="UTF-8"><title>${pe} - Completed</title>' +
        '<style>body{font-family:Arial,sans-serif;padding:40px;max-width:800px;margin:auto;background:white;color:#333;}h1{text-align:center;border-bottom:3px solid #000;padding-bottom:10px;margin-bottom:20px;}' +
        '.student-info{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:30px;padding:15px;background:#f0f0f0;border-radius:8px;}' +
        '.student-info div{font-size:14px;}.student-info strong{display:block;margin-bottom:5px;text-transform:uppercase;font-size:12px;color:#666;}' +
        '@media print{body{padding:20px;}}</style></head><body>' +
        '<h1>${pe}</h1>' +
        '<div class="student-info"><div><strong>Student Name:</strong>' + studentName + '</div><div><strong>Date:</strong>' + studentDate + '</div></div>' +
        scoreHtml +
        '<div>' + questionsHtml + '</div>' +
        '<script>window.onload=function(){setTimeout(function(){window.print();},500)};<\\/script>' +
        '</body></html>';
      
      // Open in new window
      var pdfWindow = window.open('', '_blank');
      pdfWindow.document.write(pdfHtml);
      pdfWindow.document.close();
    }
    
    function ${e}_clear() {
      var resultDiv = document.getElementById('${e}-result');
      resultDiv.className = 'mt-6 p-6 rounded-xl bg-rose-900/20 border border-rose-500';
      resultDiv.innerHTML = '<h3 class="text-xl font-bold mb-2 text-rose-400"> Clear All Responses?</h3>' +
        '<p class="mb-4 text-white">This will erase all your answers and cannot be undone.</p>' +
        '<div class="flex gap-3">' +
        '<button onclick="${e}_confirmClear()" class="bg-rose-600 hover:bg-rose-500 text-white font-bold py-2 px-6 rounded-lg">Yes, Clear All</button>' +
        '<button onclick="document.getElementById(\\'${e}-result\\').classList.add(\\'hidden\\')" class="bg-slate-600 hover:bg-slate-500 text-white font-bold py-2 px-6 rounded-lg">Cancel</button>' +
        '</div>';
      resultDiv.classList.remove('hidden');
      resultDiv.scrollIntoView({ behavior: 'smooth' });
    }
    
    function ${e}_confirmClear() {
      const nameField = document.getElementById('${e}-student-name');
      const dateField = document.getElementById('${e}-student-date');
      
      if (nameField) {
        nameField.value = '';
        localStorage.removeItem('${e}-student-name');
      }
      if (dateField) {
        dateField.value = '';
        localStorage.removeItem('${e}-student-date');
      }
      
      document.getElementById('${e}-form').reset();
      
      for (let i = 0; i < ${e}_totalQuestions; i++) {
        localStorage.removeItem('${e}-q' + i);
        localStorage.removeItem('${e}-answer-' + i);
        
        const textarea = document.getElementById('${e}-answer-' + i);
        if (textarea) textarea.value = '';
      }
      
      var resultDiv = document.getElementById('${e}-result');
      resultDiv.className = 'mt-6 p-6 rounded-xl bg-emerald-900/20 border border-emerald-500';
      resultDiv.innerHTML = '<h3 class="text-xl font-bold mb-2 text-emerald-400"> Cleared!</h3><p class="text-white">All responses have been erased.</p>';
      setTimeout(function() {
        resultDiv.classList.add('hidden');
      }, 2000);
    }
    `;re(JSON.stringify({id:e,html:r,script:i,type:`mixed`,title:pe,questionCount:T.length},null,2))},lt=(e,t=`module`)=>{let n=t===`module`?k.modules[e]:Fe[e],r=typeof n.code==`string`?JSON.parse(n.code):n.code;d({title:n.title||``,html:r.html||``,script:r.script||``,id:r.id||n.id||``,section:n.section||``}),l({type:t,index:e})},ut=()=>{if(!c)return;let e={id:u.id,html:u.html,script:u.script};if(c.type===`module`){let t=[...k.modules];t[c.index]={...t[c.index],title:u.title,section:u.section,code:e},a({...i,"Current Course":{...k,modules:t}})}else{let t=[...Fe];t[c.index]={...t[c.index],title:u.title,code:e},a({...i,"Global Toolkit":t})}l(null),d({title:``,html:``,script:``,id:``,section:``})},dt=()=>{l(null),d({title:``,html:``,script:``,id:``,section:``})};return(0,Q.jsxs)(`div`,{className:`min-h-screen bg-slate-950 text-slate-200 font-sans selection:bg-blue-500/30`,children:[(0,Q.jsx)(`header`,{className:`bg-slate-900 border-b border-slate-800 sticky top-0 z-10`,children:(0,Q.jsxs)(`div`,{className:`max-w-5xl mx-auto px-6 py-4 flex flex-col md:flex-row items-center justify-between gap-4`,children:[(0,Q.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,Q.jsx)(`div`,{className:`bg-blue-600 p-2 rounded-lg`,children:(0,Q.jsx)(Se,{className:`text-white`,size:24})}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h1`,{className:`text-xl font-bold text-white tracking-tight`,children:`Course Factory Dashboard`}),(0,Q.jsx)(`p`,{className:`text-xs text-blue-400 font-mono`,children:`LIVING DOCUMENT MODE`})]})]}),(0,Q.jsx)(`div`,{className:`flex items-center gap-2 bg-slate-800 p-1.5 rounded-lg border border-slate-700`,children:g?(0,Q.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,Q.jsx)(`input`,{type:`text`,value:v,onChange:e=>y(e.target.value),onKeyDown:e=>{e.key===`Enter`&&Ie(v),e.key===`Escape`&&(_(!1),y(``))},autoFocus:!0,className:`bg-slate-900 border border-sky-500 rounded px-2 py-1 text-white text-xs focus:outline-none`,placeholder:`Course name...`}),(0,Q.jsx)(`button`,{onClick:()=>Ie(v),className:`text-emerald-400 hover:text-emerald-300 p-1`,children:(0,Q.jsx)(ie,{size:14})}),(0,Q.jsx)(`button`,{onClick:()=>{_(!1),y(``)},className:`text-slate-400 hover:text-white p-1`,children:(0,Q.jsx)(Ae,{size:14})})]}):(0,Q.jsxs)(`div`,{className:`flex items-center gap-2 group cursor-pointer`,onClick:()=>{y(k.name),_(!0)},children:[(0,Q.jsxs)(`span`,{className:`text-xs font-bold px-3 text-slate-400 group-hover:text-sky-400 transition-colors`,children:[`PROJECT: `,k.name]}),(0,Q.jsx)(_e,{size:12,className:`text-slate-600 group-hover:text-sky-400 opacity-0 group-hover:opacity-100 transition-all`})]})})]})}),(0,Q.jsxs)(`div`,{className:`max-w-5xl mx-auto px-6 py-8 flex flex-col md:flex-row gap-8`,children:[(0,Q.jsx)(`nav`,{className:`w-full md:w-72 flex-shrink-0`,children:(0,Q.jsxs)(`div`,{className:`sticky top-28 space-y-2`,children:[(0,Q.jsx)(`div`,{className:`px-4 py-2 mb-2 text-xs font-bold text-slate-500 uppercase tracking-widest`,children:`Factory Line`}),(0,Q.jsx)(of,{title:`Phase 0: Master Shell`,icon:me,isActive:e===0,onClick:()=>t(0),badge:0}),(0,Q.jsx)(of,{title:`Phase 1: Harvest`,icon:fe,isActive:e===1,onClick:()=>t(1),badge:0}),(0,Q.jsx)(of,{title:`Phase 2: Preview & Test`,icon:de,isActive:e===2,onClick:()=>t(2),badge:k.modules.length+Fe.length}),(0,Q.jsx)(of,{title:`Phase 3: Manage & Reset`,icon:ne,isActive:e===3,onClick:()=>t(3),badge:0}),(0,Q.jsx)(of,{title:`Phase 4: Compile`,icon:ge,isActive:e===4,onClick:()=>t(4),badge:0,badgeColor:`bg-purple-600`}),(0,Q.jsx)(of,{title:`Phase 5: Toolkit`,icon:ke,isActive:e===5,onClick:()=>t(5),badge:i[`Global Toolkit`]?.length||0,badgeColor:`bg-orange-600`}),(0,Q.jsxs)(`div`,{className:`mt-8 pt-4 border-t border-slate-800`,children:[(0,Q.jsxs)(`h4`,{className:`px-4 text-[10px] font-bold text-slate-500 uppercase mb-2 truncate`,children:[`IN: `,k.name]}),(0,Q.jsxs)(`ul`,{className:`space-y-1 px-2`,children:[k.modules.map((e,t)=>{let n=o.includes(e.id);return(0,Q.jsxs)(`li`,{className:`flex items-center justify-between p-2 rounded border transition-colors group ${n?`bg-slate-900/30 border-slate-800 text-slate-600`:`bg-slate-900/80 border-slate-700 text-slate-300`}`,children:[(0,Q.jsxs)(`div`,{className:`flex flex-col gap-0.5 mr-2 opacity-0 group-hover:opacity-100 transition-opacity`,children:[(0,Q.jsx)(`button`,{onClick:e=>{e.stopPropagation(),He(t,`up`)},className:`text-slate-600 hover:text-blue-400 disabled:opacity-0`,disabled:t===0,children:(0,Q.jsx)(oe,{size:12})}),(0,Q.jsx)(`button`,{onClick:e=>{e.stopPropagation(),He(t,`down`)},className:`text-slate-600 hover:text-blue-400 disabled:opacity-0`,disabled:t===k.modules.length-1,children:(0,Q.jsx)(ae,{size:12})})]}),(0,Q.jsx)(`div`,{className:`flex-1 min-w-0 mr-2 cursor-pointer`,onClick:()=>Ue(t,`module`),children:(0,Q.jsx)(`span`,{className:`truncate block text-xs font-medium hover:text-blue-400 transition-colors`,title:`Click to Preview`,children:e.title})}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(`button`,{onClick:()=>Ue(t,`module`),className:`p-1 rounded hover:bg-slate-800 text-slate-500 hover:text-sky-400 opacity-0 group-hover:opacity-100 transition-opacity`,title:`Preview`,children:(0,Q.jsx)(de,{size:16})}),(0,Q.jsx)(`button`,{onClick:()=>Le(e.id),className:`p-1 rounded hover:bg-slate-800 ${n?`text-slate-600`:`text-emerald-500`}`,title:n?`Include in Build`:`Exclude from Build`,children:n?(0,Q.jsx)(we,{size:16}):(0,Q.jsx)(Te,{size:16})}),(0,Q.jsx)(`button`,{onClick:()=>Ve(e.id),className:`p-1 rounded hover:bg-rose-900/30 text-slate-600 hover:text-rose-400 opacity-0 group-hover:opacity-100 transition-opacity`,title:`Delete Permanently`,children:(0,Q.jsx)(Ee,{size:16})})]})]},t)}),k.modules.length===0&&(0,Q.jsx)(`li`,{className:`px-2 text-[10px] text-slate-600 italic`,children:`No modules saved.`})]})]}),(0,Q.jsxs)(`div`,{className:`mt-4 pt-4 border-t border-slate-800`,children:[(0,Q.jsx)(`h4`,{className:`px-4 text-[10px] font-bold text-orange-500 uppercase mb-2 truncate`,children:`GLOBAL TOOLKIT`}),(0,Q.jsxs)(`ul`,{className:`space-y-1 px-2`,children:[Fe.map((e,t)=>(0,Q.jsxs)(`li`,{className:`flex items-center justify-between bg-orange-950/30 p-2 rounded border border-orange-900/50 text-xs text-orange-400 hover:bg-orange-900/50 transition-colors group`,children:[(0,Q.jsx)(`span`,{className:`truncate flex-1 cursor-pointer hover:text-orange-300`,onClick:()=>Ue(t,`toolkit`),children:e.title}),(0,Q.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,Q.jsx)(`button`,{onClick:()=>Ue(t,`toolkit`),className:`p-1 rounded hover:bg-rose-900/30 text-orange-600/50 hover:text-rose-400 opacity-0 group-hover:opacity-100 transition-opacity`,title:`Preview Tool`,children:(0,Q.jsx)(de,{size:14})}),(0,Q.jsx)(`button`,{onClick:()=>Be(e.id),className:`p-1 rounded hover:bg-rose-900/30 text-orange-600/50 hover:text-rose-400 opacity-0 group-hover:opacity-100 transition-opacity`,title:`Delete Tool`,children:(0,Q.jsx)(Ee,{size:14})})]})]},t)),Fe.length===0&&(0,Q.jsx)(`li`,{className:`px-2 text-[10px] text-slate-600 italic`,children:`No features saved.`})]})]})]})}),(0,Q.jsxs)(`main`,{className:`flex-grow min-h-[600px]`,children:[e===0&&(0,Q.jsx)(lf,{}),e===1&&(0,Q.jsx)(df,{projectData:i,setProjectData:a,scannerNotes:n,setScannerNotes:r,addMaterial:qe,editMaterial:Je,deleteMaterial:Ye,moveMaterial:Xe,toggleMaterialHidden:Ze,addAssessment:$e,editAssessment:et,deleteAssessment:tt,moveAssessment:nt,toggleAssessmentHidden:rt,addQuestionToMaster:it,moveQuestion:j,deleteQuestion:at,updateQuestion:ot,clearMasterAssessment:st,masterQuestions:T,setMasterQuestions:E,masterAssessmentTitle:pe,setMasterAssessmentTitle:D,currentQuestionType:O,setCurrentQuestionType:he,currentQuestion:ve,setCurrentQuestion:be,editingQuestion:xe,setEditingQuestion:Ce,generateMixedAssessment:ct,generatedAssessment:te,setGeneratedAssessment:re,assessmentType:b,setAssessmentType:x,assessmentTitle:ee,setAssessmentTitle:S,quizQuestions:C,setQuizQuestions:w,printInstructions:se,setPrintInstructions:ce,editingAssessment:le,setEditingAssessment:ue,migrateCode:De,setMigrateCode:Oe,migratePrompt:je,setMigratePrompt:Me,migrateOutput:Ne,setMigrateOutput:Pe}),e===2&&(0,Q.jsx)(ff,{projectData:i,onEdit:lt,onPreview:Ue,onDelete:Ve}),e===3&&(0,Q.jsx)(pf,{onGoToMaster:()=>t(0),projectData:i,setProjectData:a}),e===4&&(0,Q.jsx)(mf,{projectData:i,setProjectData:a,excludedIds:o,toggleModule:Le}),e===5&&(0,Q.jsx)(hf,{projectData:i})]})]}),(0,Q.jsx)(gf,{isOpen:!!m,message:`Are you sure you want to PERMANENTLY delete this item? This action cannot be undone.`,onConfirm:ze,onCancel:()=>h(null)}),c&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4`,onClick:dt,children:(0,Q.jsxs)(`div`,{className:`bg-slate-900 border border-slate-700 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl`,onClick:e=>e.stopPropagation(),children:[(0,Q.jsxs)(`div`,{className:`bg-slate-800 border-b border-slate-700 p-4 flex items-center justify-between`,children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-bold text-white flex items-center gap-2`,children:[(0,Q.jsx)(_e,{size:20,className:`text-blue-400`}),`Edit `,c.type===`module`?`Module`:`Feature`]}),(0,Q.jsx)(`button`,{onClick:dt,className:`text-slate-400 hover:text-white transition-colors`,children:(0,Q.jsx)(`svg`,{className:`w-6 h-6`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,Q.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M6 18L18 6M6 6l12 12`})})})]}),(0,Q.jsxs)(`div`,{className:`p-6 overflow-y-auto max-h-[calc(90vh-140px)] space-y-4`,children:[(0,Q.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase mb-2`,children:`Title`}),(0,Q.jsx)(`input`,{type:`text`,value:u.title,onChange:e=>d({...u,title:e.target.value}),className:`w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white focus:border-blue-500 outline-none`})]}),c?.type===`module`&&(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase mb-2`,children:`Section/Unit (Optional)`}),(0,Q.jsx)(`input`,{type:`text`,value:u.section,onChange:e=>d({...u,section:e.target.value}),className:`w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white focus:border-blue-500 outline-none`,placeholder:`e.g., Unit 1`})]})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase mb-2`,children:`ID (for view)`}),(0,Q.jsx)(`input`,{type:`text`,value:u.id,onChange:e=>d({...u,id:e.target.value}),className:`w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white font-mono text-sm focus:border-blue-500 outline-none`,placeholder:`view-example`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase mb-2`,children:`HTML Content`}),(0,Q.jsx)(`textarea`,{value:u.html,onChange:e=>d({...u,html:e.target.value}),className:`w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white font-mono text-sm h-64 focus:border-blue-500 outline-none resize-y`,placeholder:`<div>...</div>`})]}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`label`,{className:`block text-xs font-bold text-slate-400 uppercase mb-2`,children:`JavaScript`}),(0,Q.jsx)(`textarea`,{value:u.script,onChange:e=>d({...u,script:e.target.value}),className:`w-full bg-slate-950 border border-slate-700 rounded-lg p-3 text-white font-mono text-sm h-64 focus:border-blue-500 outline-none resize-y`,placeholder:`function example() { ... }`})]})]}),(0,Q.jsxs)(`div`,{className:`bg-slate-800 border-t border-slate-700 p-4 flex gap-3 justify-end`,children:[(0,Q.jsx)(`button`,{onClick:dt,className:`px-6 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-bold transition-colors`,children:`Cancel`}),(0,Q.jsxs)(`button`,{onClick:ut,className:`px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-bold transition-colors flex items-center gap-2`,children:[(0,Q.jsx)(ye,{size:16}),`Save Changes`]})]})]})}),f&&(0,Q.jsx)(`div`,{className:`fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4`,onClick:We,children:(0,Q.jsxs)(`div`,{className:`bg-slate-900 border border-slate-700 rounded-xl max-w-6xl w-full h-[90vh] overflow-hidden shadow-2xl flex flex-col`,onClick:e=>e.stopPropagation(),children:[(0,Q.jsxs)(`div`,{className:`bg-slate-800 border-b border-slate-700 p-4 flex items-center justify-between flex-shrink-0`,children:[(0,Q.jsxs)(`h3`,{className:`text-lg font-bold text-white flex items-center gap-2`,children:[(0,Q.jsx)(de,{size:20,className:`text-emerald-400`}),`Preview: `,f.title]}),(0,Q.jsx)(`button`,{onClick:We,className:`text-slate-400 hover:text-white transition-colors`,children:(0,Q.jsx)(Ae,{size:24})})]}),(0,Q.jsx)(`div`,{className:`flex-1 bg-slate-950 relative overflow-hidden`,children:(0,Q.jsx)(`iframe`,{className:`w-full h-full`,title:`Preview`,srcDoc:`
                        <!DOCTYPE html>
                        <html class="dark">
                        <head>
                            <meta charset="UTF-8">
                            <meta name="viewport" content="width=device-width, initial-scale=1.0">
                            <script src="https://cdn.tailwindcss.com"><\/script>
                            <link href="https://fonts.googleapis.com/css?family=Inter:ital,wght@0,400;0,700;1,400;1,900&family=JetBrains+Mono:wght@700&display=swap" rel="stylesheet">
                            <script>
                                tailwind.config = { darkMode: 'class' }
                            <\/script>
                            <style>
                                /* MASTER SHELL STYLES - Required for migrated modules */
                                body { 
                                    font-family: 'Inter', sans-serif; 
                                    background-color: #020617; 
                                    color: #e2e8f0; 
                                    margin: 0; 
                                }
                                .mono { font-family: 'JetBrains Mono', monospace; }
                                .glass { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(10px); border: 1px solid rgba(51, 65, 85, 0.5); }
                                
                                /* Form Elements */
                                input, textarea, select { 
                                    background: #0f172a !important; 
                                    border: 1px solid #1e293b !important; 
                                    transition: all 0.2s; 
                                    color: #e2e8f0; 
                                }
                                input:focus, textarea:focus, select:focus { 
                                    border-color: #0ea5e9 !important; 
                                    outline: none; 
                                    box-shadow: 0 0 0 1px #0ea5e9; 
                                }
                                
                                /* Module Buttons & Tabs */
                                .score-btn, .mod-nav-btn, .nav-btn { 
                                    background: #0f172a; 
                                    border: 1px solid #1e293b; 
                                    color: #64748b; 
                                    transition: all 0.2s; 
                                    cursor: pointer;
                                }
                                .score-btn:hover, .mod-nav-btn:hover, .nav-btn:hover { 
                                    border-color: #0ea5e9; 
                                    color: white; 
                                }
                                .score-btn.active, .mod-nav-btn.active, .nav-btn.active { 
                                    background: #0ea5e9; 
                                    color: #000; 
                                    font-weight: 900; 
                                    border-color: #0ea5e9; 
                                }
                                
                                /* Step Content Visibility */
                                .step-content { display: none; }
                                .step-content.active { display: block; }
                                
                                /* Rubric Cells */
                                .rubric-cell { 
                                    cursor: pointer; 
                                    transition: all 0.2s; 
                                    border: 1px solid transparent; 
                                }
                                .rubric-cell:hover { background: rgba(255,255,255,0.05); }
                                .active-proficient { 
                                    background: rgba(16, 185, 129, 0.2); 
                                    border: 1px solid #10b981; 
                                    color: #10b981; 
                                }
                                .active-developing { 
                                    background: rgba(245, 158, 11, 0.2); 
                                    border: 1px solid #f59e0b; 
                                    color: #f59e0b; 
                                }
                                .active-emerging { 
                                    background: rgba(244, 63, 94, 0.2); 
                                    border: 1px solid #f43f5e; 
                                    color: #f43f5e; 
                                }
                                
                                /* Helper Text */
                                .helper-text { 
                                    font-size: 8px; 
                                    color: #64748b; 
                                    font-style: italic; 
                                    margin-top: 4px; 
                                    line-height: 1.2; 
                                    text-transform: uppercase; 
                                    letter-spacing: 0.05em; 
                                    font-weight: 700; 
                                }
                                
                                /* Custom Scrollbars */
                                .custom-scroll::-webkit-scrollbar { width: 8px; }
                                .custom-scroll::-webkit-scrollbar-track { background: #0f172a; }
                                .custom-scroll::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
                                
                                /* CRITICAL FIX: FORCE VISIBILITY */
                                [id^="view-"] { display: block !important; }
                                .hidden { display: block !important; } 
                                #pdf-viewer-container.hidden { display: none !important; }
                                
                                /* Reset layout constraints */
                                #content-container { height: auto; overflow: visible; }
                            </style>
                        </head>
                        <body class="h-screen overflow-hidden">
                            <div class="h-full overflow-y-auto custom-scroll p-8">
                                ${f.html}
                            </div>
                            <script>
                                // INJECTED LOGIC - Execute module scripts in iframe scope
                                try {
                                    ${f.script.replace(/<\/script/gi,`<\\/script`)}
                                    console.log(' [iframe] Script loaded and functions registered');
                                    
                                    // Trigger load event if script has initialization listeners
                                    // Some migrated scripts use window.addEventListener('load', ...)
                                    // Since script runs after DOM, we need to manually trigger if already loaded
                                    if (document.readyState === 'complete') {
                                        console.log('[iframe] Document already loaded, triggering load event');
                                        window.dispatchEvent(new Event('load'));
                                    }
                                } catch (err) {
                                    console.error(' [iframe] Script error:', err);
                                    console.error('Error stack:', err.stack);
                                }
                            <\/script>
                        </body>
                        </html>
                    `},f.title)})]})})]})}Me.createRoot(document.getElementById(`root`)).render((0,Q.jsx)(S.StrictMode,{children:(0,Q.jsx)(_f,{})}));